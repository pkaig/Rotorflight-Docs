{"searchDocs":[{"title":"Adding a Blog Post","type":0,"sectionRef":"#","url":"/docs/2.0.0/Contributing/Adding-a-Blog","content":"Adding a Blog Post To make a new Blog post open the Blog Directory. Click on one of the previous posts to use as a template then chose download. Make the changes you wish using a text editor. Click on the Blog folder and Add File. Upload your new blog file.","keywords":"","version":"2.0.0"},{"title":"Editing the Website","type":0,"sectionRef":"#","url":"/docs/2.0.0/Contributing/Editing-the-Website","content":"","keywords":"","version":"2.0.0"},{"title":"Online Editing‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/2.0.0/Contributing/Editing-the-Website#online-editing","content":" This is probably the easiest and most straightforward way to make changes. At the bottom of each page there is an Edit this page button. Click on this link to take you to the project folder on Github.    In the top righthand corner of the page click on Edit    You can now edit the Markdown file as required. When complete click on the Commit Changes Button on the top Right corner of the page.    ","version":"2.0.0","tagName":"h2"},{"title":"Adding pictures‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/2.0.0/Contributing/Editing-the-Website#adding-pictures","content":" To add an image to your page open the img folder that is located in the same directory as your page. Chose Add file and upload.  info Please do not use Capitals* or Underscore (_) in the image names.    ","version":"2.0.0","tagName":"h2"},{"title":"Adding a new page‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/2.0.0/Contributing/Editing-the-Website#adding-a-new-page","content":" Download one of the current pages. Open the Markdown (.MD) file in an Editor. At the top of the file change the Sidebar_Position to position your new page where you wish it to be in the sidebar. The current pages are numbered with a spacing of 10 so there are free spaces for new pages between each.  Once complete add File and upload the new page. ","version":"2.0.0","tagName":"h2"},{"title":"Flow charts/Diagrams","type":0,"sectionRef":"#","url":"/docs/2.0.0/Contributing/Flow-Charts","content":"Flow charts/Diagrams Using charts, flow diagrams etcMermaid Maybe we can use this somewhere. PID Tuning NO FilteringFiltering is working :::caution help ::: caution P\tI\tD\tO\tB\tFF2\t4\t5\t6\t9\t8 Use tabs in admonitions AppleOrangeBanana This is an apple üçé","keywords":"","version":"2.0.0"},{"title":"Software Developers","type":0,"sectionRef":"#","url":"/docs/2.0.0/Contributing/Developers","content":"","keywords":"","version":"2.0.0"},{"title":"Process‚Äã","type":1,"pageTitle":"Software Developers","url":"/docs/2.0.0/Contributing/Developers#process","content":" Fork repositoryCreate a branch from the devel branchMake your changesCheck and confirm the devel branch does not have updates since the branch was created. Rebase if required.Create PR ","version":"2.0.0","tagName":"h2"},{"title":"Contributing to Rotorflight","type":0,"sectionRef":"#","url":"/docs/2.0.0/Contributing/intro","content":"","keywords":"","version":"2.0.0"},{"title":"Translations‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/2.0.0/Contributing/intro#translations","content":" There are heaps of opportunities to translate the language files to provide the Configurator in your language. This can be both to update current languages or to add a new language.  ","version":"2.0.0","tagName":"h2"},{"title":"Flight testing/Crashing‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/2.0.0/Contributing/intro#flight-testingcrashing","content":" Rotorflight gets better due to beta-testing code. Lots of things have to be tested and are constantly changing. Some things are not working yet. Sometimes bugs are creeping into the code.  ANYBODY INVOLVED MUST UNDERSTAND THAT CRASHING IS UNAVOIDABLE.  Maybe it's a bug, maybe it's a misconfiguration - it happens.  If you are still interested, we are currently looking for people with:  a spare collective pitch helicoptergood building skill, especially with electronicsgood enough flying skill to judge if things are working or notexperience with drones and Betaflight is a major pluspatience  ","version":"2.0.0","tagName":"h2"},{"title":"Documentation‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/2.0.0/Contributing/intro#documentation","content":" Updating the website. Things are constantly changing, so the website has to update to match. If you have developed your skills to the point where you can assist in telling others how it all works then we would love assistance in keeping this resource up to date. ","version":"2.0.0","tagName":"h2"},{"title":"What is Rotorflight?","type":0,"sectionRef":"#","url":"/docs/2.0.0/DIY-corner/Quickstart 1","content":"","keywords":"","version":"2.0.0"},{"title":"What's next?‚Äã","type":1,"pageTitle":"What is Rotorflight?","url":"/docs/2.0.0/DIY-corner/Quickstart 1#whats-next","content":"","version":"2.0.0","tagName":"h2"},{"title":"Modeling Cross Coupling","type":0,"sectionRef":"#","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling","content":"","keywords":"","version":"2.0.0"},{"title":"The problem‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#the-problem","content":" When the helicopter experience high disturbance in the pitch axis, it would wobble to the roll axis. Similarly, when the helicopter experience disturbance in the roll axis, it would transfer to the pitch axis, but to a lesser degree.   (Thanks to Jonas for the picture)  ","version":"2.0.0","tagName":"h2"},{"title":"To explain the coupling‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#to-explain-the-coupling","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Theory 1‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#theory-1","content":" It might be due to the fact that the rotor and motors are spinning disks. Due to gyroscopic precession, there must be some coupling between pitch and roll axis. (Not true, perfect spinning disks does not have coupling) Instead, if theory 3 dominates, conventional motor would provide the same motion. However, direct drive motor would actually counter the tilting motion.  ","version":"2.0.0","tagName":"h3"},{"title":"Theory 2‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#theory-2","content":" The transient coupling is likely due to the change of phase lag of the main rotor during sudden change of roll/pitch rate. At high acceleration, the blades flex and introduce a much smaller phase lag ( &lt; 90 degrees).  ","version":"2.0.0","tagName":"h3"},{"title":"Theory 3‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#theory-3","content":" The rotor and body can be modeled as a rigid spinning disk and a body coupled by a spring and a damper. When commanded to pitch forward, the disk tilts forward first and the body stays the same attitude. Since there is a difference in angles, the spring loads up, giving the body a torque in positive pitch. However, by Newton's third law, the disk would &quot;feel&quot; a positive pitch force, which turns 90 degree and gives a torque on the roll axis.    ","version":"2.0.0","tagName":"h3"},{"title":"To explain the different magnitudes‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#to-explain-the-different-magnitudes","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Theory 1‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#theory-1-1","content":" There is a large difference in inertia between pitch and roll axis.  ","version":"2.0.0","tagName":"h3"},{"title":"Theory 2‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#theory-2-1","content":" Tennis Racket theorem. The pitch axis is the second principal axis which is unstable.  ","version":"2.0.0","tagName":"h3"},{"title":"Proposed controller design‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#proposed-controller-design","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Theory 3‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/2.0.0/Contributing/Modeling-Cross-Coupling#theory-3-1","content":" If theory 3 is the main contributor of the coupling effect, one simple idea is to make the disk rolling forward at all time. To know that the disk has a force on it, we need to take derivative of the gyro signal (i.e. D-term) and add that to the roll axis. There is no need for this on the Roll-to-pitch since there is not much coupling. ","version":"2.0.0","tagName":"h3"},{"title":"Download - Blackbox","type":0,"sectionRef":"#","url":"/docs/2.0.0/download/blackbox","content":"Download - Blackbox Download Here!! Download the Release v2.0","keywords":"","version":"2.0.0"},{"title":"Download - Configurator","type":0,"sectionRef":"#","url":"/docs/2.0.0/download/configurator","content":"Download - Configurator Download Here!! Download the Release v2.0","keywords":"","version":"2.0.0"},{"title":"Download - Edge Tx Lua","type":0,"sectionRef":"#","url":"/docs/2.0.0/download/edge-tx-Lua","content":"Download - Edge Tx Lua Lua script must match the current firmware version loaded into your Flight Controller. If you update firmware you must also update the Lua scripts to match. Download Here!! Download the Release v2.0","keywords":"","version":"2.0.0"},{"title":"Download - Ethos Tx Lua","type":0,"sectionRef":"#","url":"/docs/2.0.0/download/ethos-Lua","content":"Download - Ethos Tx Lua Lua script must match the current firmware version loaded into your Flight Controller. If you update firmware you must also update the Lua scripts to match. Download Ethos Lua Here!! Download the Ethos Release v2.0 Download RF Touch Lua Here!! Ethos RF Touch Suite - Not released in v2.0. This is only available from v2.1 onwards.","keywords":"","version":"2.0.0"},{"title":"Design Requirements","type":0,"sectionRef":"#","url":"/docs/2.0.0/Manufacturers/Design-Requirements","content":"","keywords":"","version":"2.0.0"},{"title":"Betaflight Guidlines‚Äã","type":1,"pageTitle":"Design Requirements","url":"/docs/2.0.0/Manufacturers/Design-Requirements#betaflight-guidlines","content":" Rotorflight is based on Betaflight, and thus has the same basic requirements for the hardware.  Please read the Design Guidelines for Betaflightfirst.  ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Design‚Äã","type":1,"pageTitle":"Design Requirements","url":"/docs/2.0.0/Manufacturers/Design-Requirements#rotorflight-design","content":" Rotorflight Design Requirements Github ","version":"2.0.0","tagName":"h2"},{"title":"Manufacturers Information","type":0,"sectionRef":"#","url":"/docs/2.0.0/Manufacturers/intro","content":"","keywords":"","version":"2.0.0"},{"title":"Flight Controller Specifications‚Äã","type":1,"pageTitle":"Manufacturers Information","url":"/docs/2.0.0/Manufacturers/intro#flight-controller-specifications","content":" We have documented some flight controller Design Requirements. Also there are several pin and MCU specific Reference Designs. These are specified to optimise resources and provide a consistent starting point.  note For an FC to be fully supported by Rotorflight-2 (RF2), it must follow one of the Reference Designs.  ","version":"2.0.0","tagName":"h2"},{"title":"Support‚Äã","type":1,"pageTitle":"Manufacturers Information","url":"/docs/2.0.0/Manufacturers/intro#support","content":" Rotorflight can provide a testing team for your design. Both from the electrical side interfacing to different receivers and ESCs as well as flight testing by great pilots. ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Configurator","type":0,"sectionRef":"#","url":"/docs/2.0.0/rotorflight-configurator","content":"Rotorflight Configurator [[#tabStatus|Status Page] [[#tabAdjustments|Adjustments]","keywords":"","version":"2.0.0"},{"title":"Reference Design","type":0,"sectionRef":"#","url":"/docs/2.0.0/Manufacturers/Reference-Design","content":"Reference Design Design Please read the page Rotorflight FC Design Requirements first. It is explaining the generic requirements for all Rotorflight designs. For an FC to be fully supported by Rotorflight-2, it must follow one of the reference designs. RF2 will offer more features and easier configurability for designs that are fully compatible. Lots of effort has been put into these designs for making sure they are as flexible as possible, while not imposing any hardware limitations on the functionality. The manufacturer can choose not to implement any features that are marked optional. All other features must be implemented. The reference designs are considering only the aspects that have effect on the software support, mostly the STM32 resource allocation and the minimum set of supported features. The rest - like size, form factor, connector locations - are left for the manufacturer to decide. Rotorflight Reference Design Github Reference Design F7AReference Design F7B","keywords":"","version":"2.0.0"},{"title":"Cyclic Cross Coupling","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/Cyclic-Cross-Coupling","content":"","keywords":"","version":"2.0.0"},{"title":"What is it?‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/2.0.0/Tuning/Cyclic-Cross-Coupling#what-is-it","content":" During ticktocks, one might observe that the center of the main rotor rotates during stops. Another scenario is during hover, one can shake the elevator stick and observe a tilt in the roll axis and a significant drift in the yaw axis. These are both the symptoms of uncompensated cyclic cross coupling.  Cyclic cross coupling happens mainly due to the pitch axis inputs. When the pitch command is given, due to the high moment of inertia of the helicopter in the pitch axis, the frame would &quot;lag&quot; behind the rotor disks. This difference in position creates a torque on the rotor blade and thus transfer to the roll axis due to gyroscopic precession.  The cross coupling compensation simply take a derivative on the pitch SETPOINT and add it proportionally to the roll axis. This effectively pre-load the roll axis with a input command so that when the above scenario happens, the two effects cancel each other.  ","version":"2.0.0","tagName":"h2"},{"title":"How to tune it?‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/2.0.0/Tuning/Cyclic-Cross-Coupling#how-to-tune-it","content":" Start with a low value and increase when theres no significant coupling is observed or when there is a diminishing return. You might also want to try piroflips because cross-coupling gain changes the corresponding commands at different orientations during piroflips. Try increase the gain slowly so you can get used to the feeling.  From experience, the harder the main rotor dampener is, the lower cross coupling gain is required.  ","version":"2.0.0","tagName":"h2"},{"title":"(Advanced Topic) Constant Cross Coupling‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/2.0.0/Tuning/Cyclic-Cross-Coupling#advanced-topic-constant-cross-coupling","content":" The above cross coupling only happens at the moment of pitch (could also be a little bit of roll) input. However, there could be another scenario that a constant cross-coupling might occur. If the main blade flap axis is not centered at the middle commonly due to very hard dampeners, very low headspeed, or rotorhead designs, a constant cross coupling might occur because the phase lag of the rotor blade is no longer perfectly 90deg. In this case, you might want to consider adjusting the phase angle in the Mixer page. Usually a +2 to +10 deg would be a good range to start and more testing is needed. You might also want to make sure that it is doing the right thing. For CW rotor, when pushing the elevator, the swash should tilt slightly right, and when you pull the elevator stick, the swash should tilt slightly left. ","version":"2.0.0","tagName":"h2"},{"title":"First Flight & Filter Tuning","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/First-Flight-Filter-Tuning","content":"","keywords":"","version":"2.0.0"},{"title":"Example: A Relatively Well Tuned Filter During 3D Maneuvers‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/2.0.0/Tuning/First-Flight-Filter-Tuning#example-a-relatively-well-tuned-filter-during-3d-maneuvers","content":" ","version":"2.0.0","tagName":"h2"},{"title":"RAW Gyro:‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/2.0.0/Tuning/First-Flight-Filter-Tuning#raw-gyro","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"Filtered Gyro:‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/2.0.0/Tuning/First-Flight-Filter-Tuning#filtered-gyro","content":"  ","version":"2.0.0","tagName":"h3"},{"title":"Motorised Tail and TTA","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/Motorised-Tail-and-TTA","content":"Motorised Tail and TTA info Torque Tail Assist (TTA) - This is a feature used for helicopters with motorised tails. A motorised tail can provide high control authority in one direction. In the other it is greatly reduced as the motor can only turn in one direction. TTA is used to add control authority in the other direction. It does this by rapidly accelerating the main motor. This acceleration provides torque in the opposite direction to the tail motor. Tuning TTA is best performed by pushing your heli into a flight envelope in which you loose tail authority. A simple flight pattern is to fly backwards as fast as possible.. with the tail going into the wind. If you notice the heli suddenly doing a sharp rotation.. sometimes up to 180 degrees; then your TTA needs to be higher. Simply raise the value in increments of 10 until the problem starts to go away. Sometimes you will find that your heli will be find with flying backwards; but flip out in aggressive manoeuvres. For example a 'tail slide' or 'backwards loop' will trigger it. As above.. raise the gain until the issue is largely mitigated. Note. Its possible you will never 100% clear the swing that can occur. The original 'OMP M2' for example will still show the issue at times with even the maximum TTA gain. In the end the issue is that the main motor is not beefy enough to provide enough torque to control the swing that can occasionally occur.","keywords":"","version":"2.0.0"},{"title":"High Speed Integral","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/High-Speed-Integral","content":"","keywords":"","version":"2.0.0"},{"title":"What is it?‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/2.0.0/Tuning/High-Speed-Integral#what-is-it","content":" This is somewhat similar to one of the core features of most advanced FBL systems. The problem it is solving is mainly due to the difference in lift from high airspeed in the x and y directions. For example, as the helicopter is moving forward while having a constant positive collective pitch, the helicopter tends to pull up. If the collective pitch is negative, the imbalance of lift is reversed, and the heli would tend to push down. This is usually not a problem if the collective stays constant because the integral gain will compensate this constant &quot;trim&quot;. However, when changing collective while moving at a high speed (for example, fast moving side tick tocks) the heli would not move axially. It would behave in a snake shape because the I term is constantly charging and discharging in the opposite direction.  The High Speed Integral (HSI) resembles another integral term. However, its output is proportional to the collective input, which reverses when the collective is negative. This is the &quot;arching&quot; effect you might see on FBLs like a vbar, where if one tilt the helicopter at high collective, and move the collective up and down, the swash plate would resemble one side of a seesaw.  ","version":"2.0.0","tagName":"h2"},{"title":"How to tune it?‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/2.0.0/Tuning/High-Speed-Integral#how-to-tune-it","content":" To properly tune the HSI, one has to be able to fly maneuvers comfortably at a relatively high speed. The best maneuver is the fast moving ticktocks. It is advised to start low (about 30) and see if theres snaking at the first few tick tocks. The higher O-gain you use, the faster it reacts to high speed, meaning the amount of time ticktock becomes axial is lowered. Ideally, the O-gain should be just high enough to have no snaking. Too high might result in bobbling during stationary tick tocks because it is essentially an I gain at constant collective.  ","version":"2.0.0","tagName":"h2"},{"title":"(Advanced Topic) Tick tock Optimization‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/2.0.0/Tuning/High-Speed-Integral#advanced-topic-tick-tock-optimization","content":" The problem of naively implementing the HSI is repeated maneuvers like tick tocks. The HSI works the best when the heli needs reversed &quot;trim&quot; when collective is reversed. However, there is another scenario that this could happen: during ticktocks. Assume there's some error that reverses at each stops of the ticktocks, then the HSI would tend to charge up little by little at each end, resulting unwanted bobbling right after each collective change.  Currently, there seems to be three ways to solve this problem. The simplest way is to not deal with the problem at all and use a very fast I-term decay on the normal integral gain to &quot;soothe&quot; the effect. However, the fast I-term decay creates significant drifting problem in other scenarios, making the heli less predictable.  A much more sophisticated way to deal with this issue. From behavior of the pilots, we know that when the cyclic inputs are high, theres a very low chance that the heli would keep the same airspeed at the input direction. Therefore, the HSI would be added to the normal I term (in the input direction) at some cyclic threshold. This preserves the HSI in the orthogonal direction but &quot;deletes&quot; them in the parallel direction.  RF2 follows the previous logic. However, instead of &quot;deleting&quot; the HSI, it &quot;decays&quot; HSI in a set speed (dictated by the offset_bleed_rate_curve and offset_bleed_limit_curve parameter) into the normal-I. Therefore, a extremely fast impulse on the stick would not result in a complete deletion of the HSI.  ","version":"2.0.0","tagName":"h2"},{"title":"(Advanced Topic) HSI Charging Rate‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/2.0.0/Tuning/High-Speed-Integral#advanced-topic-hsi-charging-rate","content":" Another problem with HSI is that it behaves like integral gain at constant collective with higher collective having a higher &quot;equivalent I-gain.&quot; This problem could affect the PID balance greatly especially at high collectives. One way to solve this problem is to lower the HSI charging rate at high collective (offset_charge_curve). It erectly lowers the equivalent I-gain at high collective which helps maintain the PID balance. However, the adverse effect is that this assumes no significant airspeed change when collective is high, which in some extreme cases might not be true. Also, snaking might occur if one prefer to use high collective during fast moving ticktocks. Therefore, it is advised to have the charge rate as high as possible at high collective to minimize the effect. ","version":"2.0.0","tagName":"h2"},{"title":"Tune Feedforward","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/Tune-Feedforward","content":"","keywords":"","version":"2.0.0"},{"title":"Steps‚Äã","type":1,"pageTitle":"Tune Feedforward","url":"/docs/2.0.0/Tuning/Tune-Feedforward#steps","content":" If it is the first time, make sure to start low (usually &lt; =100 on the cyclic and 0 on the tail)Do continuous flips, rolls, or pirouetting.Stop the flip/roll or piro, observe the stopping behaviorIf the heli does not stop cleanly and kept moving a little bit, increase the FF gain on its corresponding axisIf the heli stops but bounces back, decrease the FF gain on the corresponding axis  IMPORTANT NOTICE: This parameter is NOT designed to tune the response of the helicopter. DO NOT use it to change how fast the heli reacts to inputs. If you want a sharper reaction, please increase the B(oost)-gain ","version":"2.0.0","tagName":"h2"},{"title":"Tune the Governor","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/Tune-Governor","content":"","keywords":"","version":"2.0.0"},{"title":"Preparation‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/2.0.0/Tuning/Tune-Governor#preparation","content":" If you're using TTA, disable it by setting TTA gain to 0 on the Profiles tab. You can enable it again once you're done tuning the governor.Set Blackbox debug mode to Governor and Blackbox logging rate to 1kHz on the Blackbox tab.Start with governor P-gain and I-gain really low, e.g. 10 for P and 20 for I. Spool up might now take a bit longer.  ","version":"2.0.0","tagName":"h2"},{"title":"Tuning steps‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/2.0.0/Tuning/Tune-Governor#tuning-steps","content":" When you're using the Rotorflight Lua scripts, you can change all gain values on the field. My routine is to make logs of 3 or 4 different values around the default value for one specific gain. Example: the governor F-gain has a default value of 15, so try 10, 15, 20 and 25. Start with 10, do some pitch pumps (give it full collective for a short period of time) and disarm. Change the value to 15 and save, arm, do some pitch pumps, and so on. The result will be one log file with 4 partial logs, which you can select with the dropdown in the upper-right corner of the Blackbox Explorer. Then look in the Blackbox Explorer to see what gain value works best. If you think you might need higher or lower values for a specific gain, make a new log with adjusted values.  Try increments of 10 for the F-gain, increments of 25 for the I-gain and increments of 10 for the P-gain.  ","version":"2.0.0","tagName":"h2"},{"title":"1. Tune the F-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/2.0.0/Tuning/Tune-Governor#1-tune-the-f-gain","content":" The F-gain determines the feedforward term, together with cyclic and collective precompensation. As stated, the better the F-gain is tuned, the less the PID-loop has to correct. Here's an example where the F-gain is too low, since the headspeed drops quite a bit when doing pitch pumps.    If the F-gain is too high, the headspeed will be temporarily too high.    ","version":"2.0.0","tagName":"h3"},{"title":"2. Tune I-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/2.0.0/Tuning/Tune-Governor#2-tune-i-gain","content":" After you have found and set the best value for F-gain you can increase the I-gain until it starts playing up, then reduce it with 1/3. Here you can see an I-gain value which is too high, since there are some slow oscillations during and/or after the pitch pump.    ","version":"2.0.0","tagName":"h3"},{"title":"3. Tune P-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/2.0.0/Tuning/Tune-Governor#3-tune-p-gain","content":" After setting the optimal value for I-gain start increasing the P-gain till there are slight oscillations, then reduce it with 1/3. Here is an example of a P-gain that is clearly too high and introduces fast oscillations.    ","version":"2.0.0","tagName":"h3"},{"title":"4. Tune D-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/2.0.0/Tuning/Tune-Governor#4-tune-d-gain","content":" Unless you're flying a 500+ heli you probably won't need D, since there's hardly any momentum in the rotor.  ","version":"2.0.0","tagName":"h3"},{"title":"The result‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/2.0.0/Tuning/Tune-Governor#the-result","content":" This is the result of tuning a Scorpion HKII-2208 3600KV motor in a Gaui X2.    And these are the gain values found for this heli:   ","version":"2.0.0","tagName":"h2"},{"title":"Rescue mode settings","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/Rescue-mode-settings","content":"Rescue mode settings","keywords":"","version":"2.0.0"},{"title":"Tuning your Helicopter","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/Tuning-description","content":"","keywords":"","version":"2.0.0"},{"title":"Tuning Profile PID:‚Äã","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/2.0.0/Tuning/Tuning-description#tuning-profile-pid","content":"   caution Please start by confirming your filters are working correctly before you increase your tuning parameters. If you do not have filters enabled it is particularly important that you do not use Derivative. This can result in hot Motors and Servos.  note What do we mean &quot;wobble&quot;?? When tuning parameters are too high the helicopter will wobble or shake during some movements. Each time we increase a tuning value we need to test fly and see if the new setting is too high. Test this in the following way: Beginner: Tap the stick and see if it shakes/shudders/wobblesAverage: Do some flips with sudden stops, try going fast and tapping the stick, do some TictocsAdvanced: Do crazy high speed high rate stuff that makes the FC sweat and see if it freaks out üòú. Please also see the General Guidelines below for more specific descriptions‚Äã  Increase Derivative (D) on each axis individually, (roll, pitch, yaw) until it wobbles, then back off a bit. (remember!! don't do this if your filters are not working). Increase Proportional (P) on each axis individually, until it wobbles, then back off a bit. Increase Integral (I) on each axis individually, until it wobbles, then back off a bit. Set Feedforward so that you get good response and Integral (I) remains near 0 in full stick flips and rolls (viewed using the blackbox logs). Feedforward can also be tuned by following the description in Tune Feedforward. If necessary, then tweak P:D ratio to tweak stick response damping to your liking. Increase HSI until it wobbles when jabbing elevator at full collective, back off a bit.    Increase Boost (B) if you want sharper/faster response.  ","version":"2.0.0","tagName":"h2"},{"title":"General Guidelines‚Äã","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/2.0.0/Tuning/Tuning-description#general-guidelines","content":" The higher the gains are, the better the heli response to inputs, the more &quot;locked in&quot; heli feels.The pitch axis is the most difficult axis to tune. It is advised to start here.The roll axis is the easiest. Many different gains works on the roll axis. It is advised to tune last.D-gain dampens oscillations caused by P, P-gain dampens oscillations caused by I.I-oscillation are very slow (0.5-1Hz) while P and D oscillations are fast (5-8Hz).If there is I-oscillation, one could lower the I-gain or raise the P-gain.The best maneuver to see I-oscillation is to pirouetting long pitch pumps. If the heli does not stop clean and has a large shake, it is either I-gain being too high or P-gain being too low.It is possible to use the same I-gain on pitch and roll axis.Check tick-tock stops to see if P and D are too high by observing the fast oscillations. If oscillations are mainly slow, I-gain might be too high.The B-gain should be increased incrementally to fit how sharp the response you want. Usually only pitch needs a significant B-gain.Too high on B-gain results in unwanted oscillations at stops if low B-gain did not cause it.One could also experiment the I-relax to tune out the I-oscillations at stops. Lower number means stronger relax. Notice that a extremely low number might make the helicopter feel unpredictable. low number also hide gain imbalance that could show up during high-demand maneuvers or natural occurring disturbances (like a gust of wind) ","version":"2.0.0","tagName":"h2"},{"title":"Beepers tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Beepers","content":"Beepers tab If required the Beeper function can be enabled on UART pin, the example below can be copied and pasted into the CLI section then type save and enter. This example has the Beeper on UART(B) RX pin resource SERIAL_RX 6 NONE resource BEEPER 1 C06 The Beeper required MUST be a 5v active low and buffered to protect the UART output. These have been tested and working, you may find these or similar local to your location. Beeper1 Beeper2 Under the Beepers tab in the Rotorflight configurator you can select the required alerts","keywords":"","version":"2.0.0"},{"title":"Tuning examples and presets","type":0,"sectionRef":"#","url":"/docs/2.0.0/Tuning/tuning-examples","content":"","keywords":"","version":"2.0.0"},{"title":"How to use these presets?‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/2.0.0/Tuning/tuning-examples#how-to-use-these-presets","content":" There are two options for using these pre-sets.  Follow the screen shots to configure your helicopter.Load from the supplied Diff file. Please note: This method may over-write some of your previously configured settings. Please check and confirm carefully.  ","version":"2.0.0","tagName":"h2"},{"title":"OMP M4‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/2.0.0/Tuning/tuning-examples#omp-m4","content":" OMPHOBBY M4 Jonas Wackershauser - M4‚Äã OMPHOBBY M4View Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"OMP M4 - max‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/2.0.0/Tuning/tuning-examples#omp-m4---max","content":" OMPHOBBY M4 - Max Jonas Wackershauser - M4 Max‚Äã OMPHOBBY M4 MaxView Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"OMP M7‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/2.0.0/Tuning/tuning-examples#omp-m7","content":" OMPHOBBY M7 Jonas Wackershauser - M7‚Äã This is a high headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 light Jonas Wackershauser - M7 Light‚Äã This is a low headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 Jiawen Bao - M7‚Äã OMPHOBBY M7View Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"XLPower Nitro Nimbus‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/2.0.0/Tuning/tuning-examples#xlpower-nitro-nimbus","content":" XLPower Nitro Nimbus Jiawen Bao - Nitro Nimbus.‚Äã Nitro NimbusView Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"XLPower Specter Nitro‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/2.0.0/Tuning/tuning-examples#xlpower-specter-nitro","content":" XLPower Specter Nitro Jiawen Bao - Specter Nitro.‚Äã Specter NitroView Pre-set ","version":"2.0.0","tagName":"h2"},{"title":"Adjustments tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Adjustments","content":"","keywords":"","version":"2.0.0"},{"title":"Example - Select a Profile In-Flight‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#example---select-a-profile-in-flight","content":" Being able to switch between profiles in-flight allows you to use different headspeeds with differently tuned PIDs. It can also help with PID tuning, since it makes A/B testing possible with the flick of a switch.  ","version":"2.0.0","tagName":"h2"},{"title":"Simple example‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#simple-example","content":" Here we use only one channel -AUX4- for PID and Rates Profiles Selection. Assign AUX4 to a 3-position switch on the TX, so that the switch outputs 1000/1500/2000us. Profile Switching Example.  ","version":"2.0.0","tagName":"h3"},{"title":"Adjustment Types‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#adjustment-types","content":" There are two ways the how the control AUX channel is affecting the configuration parameter.  ","version":"2.0.0","tagName":"h2"},{"title":"Step Adjustment‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#step-adjustment","content":" The control AUX channel can be a three position switch or a trim switch on the transmitter. While in up position, it will cause the adjustment to increase by step size, and vice versa. The min and max limits are adhered.  Step adjustment is enabled by setting the step size to non-zero value.  ","version":"2.0.0","tagName":"h3"},{"title":"Continuous Adjustment‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#continuous-adjustment","content":" The control AUX channel is a full resolution RC channel, and is controlling the configuration parameter directly. The RC channel range 1000us..2000us is stretched to cover the parameter range min..max.  Continuous adjustment is enabled by setting the step size to zero.  ","version":"2.0.0","tagName":"h3"},{"title":"Adjustment Functions‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#adjustment-functions","content":" The adjustment function assigns the control AUX channel to a configuration parameter or a special function. The supported functions are listed below.  Profile change   Rates   PID   Gyro cutoffs   Dterm cutoffs   Rescue   Leveling   Governor   Boost gains   Offset gains   Cross-coupling   ","version":"2.0.0","tagName":"h2"},{"title":"Parameter Change Functions‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#parameter-change-functions","content":" The parameter change functions are adjusting the associated configuration parameters, taking effect immediately. This allows changing the fundamental tuning parameter inflight.  Each parameter has a min and max limit that the user can set to safeguard against unreasonable or unsafe values. In addition, the system has absolute limits for each parameter.  ","version":"2.0.0","tagName":"h3"},{"title":"Profile Change Functions‚Äã","type":1,"pageTitle":"Adjustments tab","url":"/docs/2.0.0/Wiki/Configurator/Adjustments#profile-change-functions","content":" The special functions to change configuration profiles works exactly the same as the parameter functions, except that the possible values are limited to the number of profiles. Both step and continuous adjustments can be used.  For example, there are six Rate Profiles available, thus the parameter limits should be min = 0 and max = 5. Narrower range is also possible, if so desired. ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Blackbox","content":"","keywords":"","version":"2.0.0"},{"title":"What is Blackbox‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#what-is-blackbox","content":" Blackbox is a flight data recording feature in Rotorflight. A Blackbox log contains a lot of data, such as the attitude of the heli, gyro sensor measurements, PID data, RC commands, motor outputs etc. It‚Äôs an extremely powerful tool for tuning and troubleshooting the heli.  ","version":"2.0.0","tagName":"h2"},{"title":"Blackbox data can be logged to:‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#blackbox-data-can-be-logged-to","content":" A flash chip on the FC. Logging is fast, but storage is limited, unless you are using a dedicated RF controller(FlyDragon F7 has 128MByte Flash), and copying log files can be slow.An SD card on the FC, it's fast and storage is only limited by the capacity of the SD card.An external logging device: OpenLager. These devices write the log to a micro SD card.  A flash chip or an SD card on the FC are nice, but if your FC doesn't have that you can connect an OpenLager logging device.    ","version":"2.0.0","tagName":"h2"},{"title":"Blackbox Configuration‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#blackbox-configuration","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Logging Device‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#logging-device","content":" Here you can select the device type.  No Logging: Disable Logging.Onboard Flash: Log to the onboard flash chip (if available).SD Card: Log to the onboard SD Card (if available).Serial Port: Log to an external logging device (eg. OpenLager).  ","version":"2.0.0","tagName":"h3"},{"title":"Logging Mode‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#logging-mode","content":" Select the preferred logging mode.  No Logging: Disable Logging.Normal: Start logging when both ARM and BLACKBOX switches are active.Armed: Start logging when ARM switch is active.Switch: Start logging when BLACKBOX switch is active.  ","version":"2.0.0","tagName":"h3"},{"title":"Logging Rate‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#logging-rate","content":" The log data is saved to the logging device with this rate. For logging to an external device, lower speed may be required.  Set it to 2kHz for OpenLager.  ","version":"2.0.0","tagName":"h3"},{"title":"Debug Mode‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#debug-mode","content":" Choose what extra data is being logged, eight extra debug items are added to the Blackbox Log.  note Under Blackbox debug mode you can specify what should be logged. There are a lot of choices, but you can select GYRO_SCALED for PID tuning, GOVERNOR for analyzing the governor or CYCLETIME if you're interested in CPU time.  ","version":"2.0.0","tagName":"h3"},{"title":"Debug Axis‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#debug-axis","content":" Choose which axis is being debugged. Applies to some of the debug modes.  ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox Logging Options‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#blackbox-logging-options","content":"   Here you activate the parameters that you want to log.  For general use activate the following options Command Setpoint Mixer PID Raw Gyro Gyro Battery RSSI RPM Motors Servos.  ","version":"2.0.0","tagName":"h2"},{"title":"Onboard dataflash chip‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#onboard-dataflash-chip","content":"   Erase - Erase Blackbox Data.Save to file - Download Blackbox Data.  ","version":"2.0.0","tagName":"h2"},{"title":"Mass Storage Mode‚Äã","type":1,"pageTitle":"Blackbox tab","url":"/docs/2.0.0/Wiki/Configurator/Blackbox#mass-storage-mode","content":"   Blackbox Explorer  The log files can be read with the Rotorflight Blackbox Explorer. ","version":"2.0.0","tagName":"h2"},{"title":"Command Line Interface (CLI)","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/CLI","content":"","keywords":"","version":"2.0.0"},{"title":"Accessing the CLI.‚Äã","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/2.0.0/Wiki/Configurator/CLI#accessing-the-cli","content":" The CLI can be accessed via the configurator CLI tab.  ","version":"2.0.0","tagName":"h2"},{"title":"CLI Usage‚Äã","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/2.0.0/Wiki/Configurator/CLI#cli-usage","content":" To save your settings type in save, saving will reboot the flight controller.  To exit the CLI without saving power off the flight controller or type in exit.  To see a list of other commands type in help and press return.  To dump your configuration (including the current profile), use the dump command.  ","version":"2.0.0","tagName":"h2"},{"title":"Diff Backup Using CLI‚Äã","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/2.0.0/Wiki/Configurator/CLI#diff-backup-using-cli","content":" This method shows all user-modified settings but avoids saving values left as default or values that are part of the board targets  Note that diff only shows the current Rate and PID profiles, whereas diff all will show all profiles that have been changed  diff all   This data should be sufficient to replicate the heli configuration on a new or erased flight controller board. Use the save to file function to create a backup.  ","version":"2.0.0","tagName":"h2"},{"title":"Dump Using CLI‚Äã","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/2.0.0/Wiki/Configurator/CLI#dump-using-cli","content":" Note that the dump command will output every setting and their current values. Many of these will be firmware defaults and are not needed to backup heli configuration changes.  rateprofile 0 profile 0 dump   ","version":"2.0.0","tagName":"h3"},{"title":"Dump Profiles Using CLI if You Use Them‚Äã","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/2.0.0/Wiki/Configurator/CLI#dump-profiles-using-cli-if-you-use-them","content":" profile 1 dump profile profile 2 dump profile   ","version":"2.0.0","tagName":"h3"},{"title":"Dump Rate Profiles Using CLI if You Use Them‚Äã","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/2.0.0/Wiki/Configurator/CLI#dump-rate-profiles-using-cli-if-you-use-them","content":" rateprofile 1 dump rates rateprofile 2 dump rates   copy screen output to a file and save it.  ","version":"2.0.0","tagName":"h3"},{"title":"Backup/Restore via CLI‚Äã","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/2.0.0/Wiki/Configurator/CLI#backuprestore-via-cli","content":" Go to Backup and Restore ","version":"2.0.0","tagName":"h3"},{"title":"Failsafe tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Failsafe","content":"Failsafe tab In the event of receiver failsafe the flight controller will set Roll, Pitch, Yaw, and Collective commands to 0, and it will shut off the throttle. You can set other failsafe options for auxiliary channels, (Default is HOLD).","keywords":"","version":"2.0.0"},{"title":"Configuration tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Configuration","content":"","keywords":"","version":"2.0.0"},{"title":"Personalization‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#personalization","content":" Allows you to set your heli name to be shown in the OSD, blackbox logs and diff/dump outputs.    ","version":"2.0.0","tagName":"h2"},{"title":"System Configuration‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#system-configuration","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Gyro Update Frequency‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#gyro-update-frequency","content":" This indicates the current gyro update frequency.  ","version":"2.0.0","tagName":"h3"},{"title":"PID Loop Frequency‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#pid-loop-frequency","content":" This is the frequency that the control loop operates at. Set to between 1kHz and 2kHz.  There is limited or no benefit in higher rates and will result in high loads for your flight controller. This could be an issue for F405 and F411 boards.  ","version":"2.0.0","tagName":"h3"},{"title":"Accelerometer‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#accelerometer","content":" This must be selected if you wish to use stability (6G modes) such as Angle, Horizon or Rescue modes.  ","version":"2.0.0","tagName":"h3"},{"title":"Barometer‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#barometer","content":" This is used for Altitude hold Rescue which is currently still being developed  ","version":"2.0.0","tagName":"h3"},{"title":"Magnetometer‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#magnetometer","content":" Currently this does not provide any control functionality, however, it can be used for telemetry.  ","version":"2.0.0","tagName":"h3"},{"title":"Features‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#features","content":" This section is used to enable or disable features.    tip Features such as the GPS must be selected in the Serial ports section before selecting the Feature here.  ","version":"2.0.0","tagName":"h2"},{"title":"Serial Ports‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#serial-ports","content":" Please choose the functions you wish to assign to your UART.    ","version":"2.0.0","tagName":"h2"},{"title":"MSP‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#msp","content":" As the name suggests, usually only used for lower-level communication using the MSP (MultiWii Serial Protocol) for configuration done by external devices, or to allow a more direct way of control. You can also set a specific baud rate.  ","version":"2.0.0","tagName":"h3"},{"title":"GPS‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#gps","content":" GPS is not currently used for Rotorflight for any flight controls. This can be used for telemetry purposes.  ","version":"2.0.0","tagName":"h3"},{"title":"Serial Rx‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#serial-rx","content":" Check Receiver page for detailed info.  ","version":"2.0.0","tagName":"h3"},{"title":"ESC Telemetry‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#esc-telemetry","content":" Check ESC Telemetry page for detailed info.  ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox Logging‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#blackbox-logging","content":" This enables a UART for an external logging device such as OpenLager.  ","version":"2.0.0","tagName":"h3"},{"title":"Telemetry: FrSky SmartPort‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#telemetry-frsky-smartport","content":" This is used when connecting an FrSky SmartPort receiver pin to this UART.  ","version":"2.0.0","tagName":"h3"},{"title":"Board and Sensor alignment‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#board-and-sensor-alignment","content":" Change the roll, pitch and yaw gyro alignment value until the model on the status page moves in the same direction as the gyro board.  A method of determining what settings to use:  set Roll, Pitch and Yaw values to 0 degrees.set Gyro alignment to CW-0 degrees.Move the FC around until the movement of the FC matches the movement of the helicopter on the &quot;Status&quot; page. You may have to &quot;reset Z axis&quot;.Now take note of how you have to rotate/flip the board in order to get the FC oriented in the way you wish to mount it in the helicopter. An example would be that you have to rotate the board 180 and flip. You would chose 'CW180 Flip' in the Gyro alignment dropdown.    ","version":"2.0.0","tagName":"h2"},{"title":"Accelerometer Trim‚Äã","type":1,"pageTitle":"Configuration tab","url":"/docs/2.0.0/Wiki/Configurator/Configuration#accelerometer-trim","content":" This section is used to trim the roll and pitch axis while the helicopter is in Stability mode (e.g Angle, horizon or Rescue).  The Transmitter trims for each cyclic axis must be at neutral when using Rotorflight (at 1500us). This will usually result in the helicopter drifting while in a stable hover. To correct for this drift the Accelerometer roll and pitch trims are to be used.  This can be done either directly by the configurator or via the transmitter with Lua.   ","version":"2.0.0","tagName":"h2"},{"title":"GPS tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Gps","content":"GPS tab Rotorflight currently only uses GPS for telemetry. Return to home, and other autopilot features are not available. The GPS Tab is not visible by default. You must enable the GPS feature and chose a UART port to connect your GPS unit to. Save and reboot. THe GPS Tab will now be visible. Select your GPS type from the dropdown. There is more details on the Betaflight GPS tab page.","keywords":"","version":"2.0.0"},{"title":"Mixer tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Mixer","content":"","keywords":"","version":"2.0.0"},{"title":"Main Rotor Settings‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#main-rotor-settings","content":" Swashplate type‚Äã  Choose the swash type that suits your helicopter.    Rotor direction‚Äã  Choose the direction of rotation for the main rotor. This is looking down from on the top of the rotor.  Elevator Control direction‚Äã  With the helicopter servos powered, tilt the heli forward (pitch down). The swash should now pitch up towards the tail of the helicopter. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Aileron Control direction‚Äã  Roll the heli to the right (right Aileron). The swash should pitch towards the left. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Collective Control direction‚Äã  Push the collective stick forward (Increasing collective). The swash should now rise up towards the rotor head (to increase collective). If the swash goes down change the control direction from [NORMAL] to [REVERSE].  ","version":"2.0.0","tagName":"h3"},{"title":"Swashplate Link Trims‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#swashplate-link-trims","content":"   Ideally the swashplate should be set with all 3 Collective servos at 90 deg while the blade angle is at 0 degrees. Some helicopters have fixed length swash links which means in order to get 0 degrees for blade centre the servo arms need to be raised or lowered. Use these link trims to provide that function.  For helicopters with adjustable swash links this should remain at 0 and the links adjusted to get a 0 degree blade angle.  ","version":"2.0.0","tagName":"h2"},{"title":"Main Rotor Geometry‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#main-rotor-geometry","content":"   Cyclic and Collective calibration‚Äã  These settings are used to calibrate the mixer so that the blade angle matches the commanded angle for both the cyclic and collective. See the calibration procedure for details.  Collective geometry correction‚Äã  Adjust until the collective positive and negative deflections are equal.  Collective blade pitch limit‚Äã  Ideally, one should use this option to set the maximum allowed collective blade pitch. Therefore, if the person wants to change the collective pitch down the line, they should be able to adjust in the &quot;rates&quot; page confidently without worrying about servos binding. Practically, for most 3D helicopters, this is set to the maximum collective you will ever need (15-16deg) if the helicopter is physically capable of doing it  Cyclic blade pitch limit‚Äã  This is NOT the same as the cyclic calibration on other FBLs (it's NOT the 8 deg cyclic on vbar for example)This is designed to let the FBL know how much cyclic travel the helicopter is PHYSICALLY capable ofUsually adjust it so that around zero collective there is no physical interference anywhere. You might want to temporally increase the I gains (to around 200) on cyclic and move the cyclic stick to find the limits. MAKE SURE TO TURN THEM BACKSome 550+ size helicopter might be able to achieve 16+ degree of cyclic pitch, you could set it to the absolutely maximum but it is advised to limit around 16degree since practically it should never hit that much cyclic.  Total blade pitch limit‚Äã  This is probably the most difficult limit to understand and setup properlyTo find the total blade pitch limit, make sure the collective blade pitch limit and cyclic blade pitch limit are set up correctly. You might want to use the I-gain trick mentioned aboveSet the collective pitch to max, then move the cyclic. Increase the limit until either there is a physical limit or the fish-eye bearing (the ball) in the center of the swash drops at the max cyclic due to one servo reaching its limit.Repeat at lowest collective pitchYou could also increase cyclic servo travels to gain more total blade pitch. However, nothing should be interferingDouble check that theres NO binding or interference at ANY combination of collective and cyclic in their whole range.Make sure to turn the I-gains back to default in the end if the I-gain trick is used.  Swashplate phase angle‚Äã  Usually set it per manufacture recommendation. One could consider if theres bobbling that could not be resolved from changing the cross coupling gains or it is known that the rotor head design requires a non-zero phase angle.  ","version":"2.0.0","tagName":"h2"},{"title":"Tail Rotor Settings‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#tail-rotor-settings","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Tail rotor type‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#tail-rotor-type","content":" Variable Pitch‚Äã  This is a variable pitch tail controlled by a servo (Servo#4).  Motorized‚Äã  The tail has separate motor(M2) for controlling the yaw.  Bidirectional‚Äã  Motorized tail operating in bi-directional mode.  ","version":"2.0.0","tagName":"h3"},{"title":"Yaw Control Direction‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#yaw-control-direction","content":" With the helicopter tail servo powered, move Rudder stick to the right. The tail slider should move to the inside (toward the tail case). If this is not the case, change the control direction from [NORMAL] to [REVERSE].  ","version":"2.0.0","tagName":"h3"},{"title":"Center Trim For Tail Rotor [¬∞]‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#center-trim-for-tail-rotor-","content":" Set tail rotor trim for zero yaw command.  ","version":"2.0.0","tagName":"h3"},{"title":"Calibrating The mixer‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#calibrating-the-mixer","content":" note The purpose of the mixer calibration is to set the helicopters physical blade angle to the angle commanded by the FC  ","version":"2.0.0","tagName":"h2"},{"title":"Mixer override‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#mixer-override","content":" Set the mixer override at the bottom of the pages to ON. This will open the override window.    ","version":"2.0.0","tagName":"h3"},{"title":"Collective Calibration‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#collective-calibration","content":" Confirm with a blade pitch tool that with collective mixer at 0 deg the blades are also at 0 deg.Set the collective mixer override to 9 deg. Measure the blade angle.If the Blade angle is different from the Override angle, increase or decrease Collective Calibration % until the bade angle matches.Set collective back to 0 deg.  ","version":"2.0.0","tagName":"h3"},{"title":"Cyclic Calibration‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#cyclic-calibration","content":" Set the pitch override to 9 deg.Measure the blade pitchIncrease or decrease the Cyclic Calibration %  ","version":"2.0.0","tagName":"h3"},{"title":"Variable Pitch Yaw Calibration‚Äã","type":1,"pageTitle":"Mixer tab","url":"/docs/2.0.0/Wiki/Configurator/Mixer#variable-pitch-yaw-calibration","content":" Set YAW override to 0 deg.Adjust the push rod length so that the rear tail L arm is 90¬∞.If this does not give 0¬∞ blade pitch, adjust Center trim until you have 0¬∞ blade pitch.Set mixer yaw override to 30deg CW/CCW, adjust Yaw Calibration % until you have around 30deg both ways.Set mixer yaw override to 60deg CW/CCW, adjust CW / CCW limits to the maximum number that does not causing binding.  note The calibration and CW / CCW limits vs. blade pitch is never perfect, because of the geometry asymmetry. It does not matter.The reason for doing the calibration is to make the PID defaults better. Without the calibration, all defaults in PID Profile are probably wrong.The Centre trim is mostly needed for making the CW/CCW limit numbers to match the blade angles. It also helps the feedforwards to work correctly. ","version":"2.0.0","tagName":"h3"},{"title":"Modes tabs","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Modes","content":"","keywords":"","version":"2.0.0"},{"title":"ARM‚Äã","type":1,"pageTitle":"Modes tabs","url":"/docs/2.0.0/Wiki/Configurator/Modes#arm","content":" ELRS If using an ELRS receiver you must configure the ARM switch to AUX1 (1000 = Disarmed, 2000 = Armed). This channel is sent every cycle. Please see the ELRS switch config documentation  ARM &amp; throttle hold ARM and throttle hold are not the same. Do not configure the ARM and throttle hold on the same channel. The Flight controller needs to see minimum throttle before it can arm and if they are both on the same channel it will fail the minimum throttle check and will not ARM.    All flight controllers need to be ARMED before the motors are able to spool up. Once the Arming mode is configured (as shown above) the flight controller can be Armed ready for flight. If the flight controller detects an unsafe condition Arming will be disabled. If this occurs you can look at the Arming flag status on the Status Tab to identify what is preventing Arming being enabled.    You can find out a description of these flags from the List of Arming prevention flags  This function can also provide the ability to prevent arming of the heli unless the correct model has been selected on your transmitter (if your RX does not have this functionality). This is done by adjusting the endpoint of your AUX channel to a different value for each model and setting the ARM range to enable the FC only for that model.  ","version":"2.0.0","tagName":"h2"},{"title":"RESCUE‚Äã","type":1,"pageTitle":"Modes tabs","url":"/docs/2.0.0/Wiki/Configurator/Modes#rescue","content":" Enable Rescue mode from the tabs. Allocate the AUX channel and range to suit.    info The purpose of the rescue mode is to arrest any decent, then put the helicopter at a safe altitude in a stable attitude. It does this in stages. Immediately levels in current orientation (upright or inverted)Applies a pull up collective to rapidly stop any decentApplies a climb Collective to gain some heightif it is still inverted (and the flip toggle enabled) it will flip to upright.Hover collective is now applied.  After enabling Rescue mode configure the rescue settings from the Profiles Tab.  ","version":"2.0.0","tagName":"h2"},{"title":"6G flight modes‚Äã","type":1,"pageTitle":"Modes tabs","url":"/docs/2.0.0/Wiki/Configurator/Modes#6g-flight-modes","content":" There are 3 types of self leveling stabilization modes available in Rotorflight. 6G modes (unlike the normal Acro) will auto level when the transmitter sticks are released. These modes make the heli fly more like a drone.  ","version":"2.0.0","tagName":"h2"},{"title":"ANGLE‚Äã","type":1,"pageTitle":"Modes tabs","url":"/docs/2.0.0/Wiki/Configurator/Modes#angle","content":" Angle mode provides similar functionality to Horizon mode with the addition of limiting the helicopter attitude to the angle specified.  ","version":"2.0.0","tagName":"h3"},{"title":"HORIZON‚Äã","type":1,"pageTitle":"Modes tabs","url":"/docs/2.0.0/Wiki/Configurator/Modes#horizon","content":" Horizon mode provides attitude stabilization which will level the helicopter when the transmitter sticks are let go. Constant stick input is required to keep the helicopter moving.  ","version":"2.0.0","tagName":"h3"},{"title":"TRAINER‚Äã","type":1,"pageTitle":"Modes tabs","url":"/docs/2.0.0/Wiki/Configurator/Modes#trainer","content":" Acro trainer mode does not provide self leveling of the helicopter. It does however limit the angle the helicopter can reach.  Enable ANGLE/HORIZON/TRAINER modes from the tabs. Allocate the AUX channel and range to suit.    In the example above AUX3, and AUX6 are each assigned to a separate 3 position switches on the TX.  Horizon mode has been assigned to the AUX3 Range when the middle position of AUX3 switch.Angle mode is assigned to AUX3 at full up position of the AUX3 switch.Nothing is assigned when AUX3 switch fully down. This means the Heli is in Normal or 3D mode.Trainer mode is assigned to AUX6 at full up position of the AUX6 switch.  After enabling 3G modes you can configure their settings from the Profiles Tab.  ","version":"2.0.0","tagName":"h3"},{"title":"BLACKBOX‚Äã","type":1,"pageTitle":"Modes tabs","url":"/docs/2.0.0/Wiki/Configurator/Modes#blackbox","content":" When you select Normal logging mode, you need to activate the blackbox switch in the Modes Tab.  Enable Blackbox from the tabs. Allocate an AUX channel and range to suit.    Now in this example the blackbox logging will start when the heli is armed and AUX5 is at full up position. ","version":"2.0.0","tagName":"h2"},{"title":"Motor tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc","content":"","keywords":"","version":"2.0.0"},{"title":"ESC/Motor Features‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#escmotor-features","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"ESC Throttle Protocol‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#esc-throttle-protocol","content":" Set the ESC protocol required for your ESC under ESC/Motor protocol. Usually this would be PWM or DSHOT300.    ","version":"2.0.0","tagName":"h3"},{"title":"ESC Telemetry Protocol‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#esc-telemetry-protocol","content":" Set the ESC Telemetry protocol if your esc supports it.    note A correct RPM measurement is crucial to the operation of RPM_FILTER and GOVERNOR features, therefore ensure that you have a correct RPM measurement setup. The FC also needs to know the RPM of the main rotor, and the tail rotor. For this you have to exactly specify the Motor pole count and the Gear ratios. With this info, the FC can calculate the: Main motor RPM = eRPM / (motor pole count / 2)Main rotor RPM = Main motor RPM / ( main gear tooth count / main motor pinion tooth count )  ","version":"2.0.0","tagName":"h3"},{"title":"PWM Protocol‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#pwm-protocol","content":" Most RC helicopter ESCs manufacturers (e.g. Hobbywing, YGE, Scorpion ,or Castle) use PWM, an analog protocol.    RPM Sensor: Activate the RPM Sensor input for motor RPM, you can connect an RPM signal from the ESC, or from an external RPM sensor device.  ESC Update Frequency: the PWM update frequency for your ESC. Usually between 50-400Hz.  Disarm Throttle PWM value: the value that is sent to the ESC when the craft is disarmed. It should stop the motors. Usually 1000¬µs.  0% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at 0% throttle. Usually 1070¬µs.  100% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at full throttle. Usually 2000¬µs.  ","version":"2.0.0","tagName":"h3"},{"title":"DSHOT Protocol‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#dshot-protocol","content":" Most drone ESCs support DSHOT, a digital protocol.    If you use DSHOT, use either DSHOT150 or DSHOT300. DSHOT600 is not recommended. Also make sure that the main motor isn't actively being braked by the ESC, especially if you don't have a one way bearing on the main shaft.  BLHeli_32: set Non Damped Mode to On on the main motor ESCBluejay: set Maximum Breaking Strength to 0  DShot RPM Telemetry‚Äã  This switch is only visible when the ESC/Motor protocol is DSHOTxxx. It enables motor eRPM telemetry on supported ESCs via bidirectional DSHOT and can be used to facilitate the GOVERNOR and/or RPM_FILTER features. If you use bidirectional DSHOT you don't have to use a frequency sensor for obtaining the eRPM of the motor(s).  ","version":"2.0.0","tagName":"h3"},{"title":"Gear Ratio Configuration‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#gear-ratio-configuration","content":"   Enter the number of teeth for the main rotor gearing [Teeth on Pinion gear]/[Teeth on Main Gear]. For a direct drive Main rotor this is just set to 1 / 1.  Enter the number of teeth for the Tail rotor gearing [Teeth on Tail gear]/[Teeth on Autorotation Gear]. For a direct drive tail this is just set to 1 / 1.  tip If the gear tooth count is not known, you can approximate the gear ratio instead. For example if the main gear ratio is 11.8 then you set [Teeth on Pinion gear =10]/[Teeth on Main Gear =118]. Similarly if the tail gear ratio is 4.8 then you set [Teeth on Tail gear =10]/[Teeth on Autorotation Gear =48]. note that counting the gear tooth is preferable because an accurate gear ratio is essential to the operation of the RPM Filters.  note For Helicopters with two-stage reduction, kindly read the Two-Stage Gear Train WalkTrough  ","version":"2.0.0","tagName":"h3"},{"title":"Motor Pole Count‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#motor-pole-count","content":" Determine the number of magnetic poles for each motor. Count the number of magnets on the motors rotor. In the example below the magnets (circled) are fixed to the outer bell which in total has 14. This allows the flight controller to know how many electrical phase rotations are required to complete one physical motor revolution.      ","version":"2.0.0","tagName":"h3"},{"title":"Governor Features‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#governor-features","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Motor Override‚Äã","type":1,"pageTitle":"Motor tab","url":"/docs/2.0.0/Wiki/Configurator/Motor-and-Esc#motor-override","content":" Motor Override functionality is provided to test the operation of each motor directly. This functionality will make the motors spool up. Do this WITHOUT the main or tail rotors fitted!    Throttle - This is the command being sent from the flight controller to the ESC.  RPM - The measured RPM telemetry feedback. As the motor spins this should read a value related to the current speed.  Errors (only with DSHOT) - This shows the status of the RPM telemetry signal. This should be 0%.  Slider If you use the slider, make sure you release the mouse button. Nothing changes as long as you hold the mouse button down!  BLHeliSuite32 The Test motors function in BLHeliSuite32 doesn't work when using Rotorflight. It will give an error like 'Initialization of Motor Test Mode failed! Please check current Unknown rev 4.3.0 support for this application function!'. ","version":"2.0.0","tagName":"h2"},{"title":"Power tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Power","content":"","keywords":"","version":"2.0.0"},{"title":"Power State‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#power-state","content":" Connected - Yes/No, if Yes, also shows cell countVoltage - Voltage of the batteryCurrent - Current drawmAh Used - Capacity used in mAhCharge Level - Battery charge percentage  ","version":"2.0.0","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#battery","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Battery Voltage Source‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#battery-voltage-source","content":" Select the source for the voltage measurements  None - No voltage measurements will be availableBattery ADC - Use the ADC on the flight controller to get the voltage measurementsESC Telemetry - Use the ESC telemetry to get the voltage measurements  ","version":"2.0.0","tagName":"h3"},{"title":"Battery Current Source‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#battery-current-source","content":" Select the source for the current measurements  None - No current measurements will be availableBattery ADC - Use the ADC on the flight controller to get the current measurementsESC Sensor - Use the ESC telemetry to get the current measurements  ","version":"2.0.0","tagName":"h3"},{"title":"Min/Max/Warning Cell Voltage‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#minmaxwarning-cell-voltage","content":" Minimum Cell Voltage - The voltage that is considered critically low, and will trigger the corresponding warnings Maximum Cell Voltage - The voltage of a fully charged Cell Warning Cell Voltage - The voltage that is considered low, and will trigger the corresponding warnings  danger The warning voltage should be set to a value where you can still land safely, usually 3.6-3.5V. The minimum voltage should be set to a value where damage is imminent, usually 3.3V. If you fly a battery to less than 3.3V, it will start to be damaged and will not be able to hold a charge anymore, and can even be dangerous.  ","version":"2.0.0","tagName":"h3"},{"title":"Capacity‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#capacity","content":" The capacity of the battery in mAh. This is used to calculate the remaining battery capacity in percent.  ","version":"2.0.0","tagName":"h3"},{"title":"Cell Count‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#cell-count","content":" Force cell count to avoid confusion between full 11S and flat 12S for example.  ","version":"2.0.0","tagName":"h3"},{"title":"Voltage Meters‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#voltage-meters","content":" Settings for the voltage meter to measure the battery voltage correctly.  ","version":"2.0.0","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#battery-1","content":" Main Pack voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"BEC‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#bec","content":" Servo Bus voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"5V‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#5v","content":" VBus voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"EXT‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#ext","content":" External voltage input voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"MCU‚Äã","type":1,"pageTitle":"Power tab","url":"/docs/2.0.0/Wiki/Configurator/Power#mcu","content":" MCU voltage.  Scale‚Äã  The scale of the voltage meter. This is used to calculate the correct voltage from the ADC value. If the battery voltage is not displayed correctly, you can adjust this value up/down to fix it  Divider / Multiplier Value‚Äã  This defines how the value read by the ICs ADC converts into a voltage value that makes sense to the pilot. In easy terms this sets how the ratio difference between the two voltage divider resistors are used in the voltage calculation formula.  Example:‚Äã  Scale: 110 = 10:1 voltage divider (10k:1k ohm resistors) Divider: 10 = sets the direct resistor to resistor ratio Multiplier: 1 = this is to fine tune the outcome of the calculation, a value of 1 is &quot;no correction&quot;. ","version":"2.0.0","tagName":"h3"},{"title":"Rates tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Rates","content":"","keywords":"","version":"2.0.0"},{"title":"Understanding Actual Rates‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#understanding-actual-rates","content":" ‚ÄúActual Rates‚Äù are the default rates in Rotorflight, providing a straightforward approach to setting maximum rotational velocity (e.g., entering 1000 corresponds to 1000deg/sec) and center sensitivity values.  There are 3 values in Actual Rates: Center Sensitivity, Max Rate, Expo.    ","version":"2.0.0","tagName":"h2"},{"title":"Center Sensitivity‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#center-sensitivity","content":" Center Sensitivity relates to the responsiveness around the center stick position. A lower value offers finer, smoother control, while a higher value results in a more reactive heli to stick movement.  ","version":"2.0.0","tagName":"h3"},{"title":"Max Rate‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#max-rate","content":" Max Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  However, keep in mind that the maximum angular velocity can be limited by your heli mechanics. When the heli reaches its physical limitation and cannot flip any faster, the maximum angular velocity is capped, regardless of the higher value set in Rotorflight.  ","version":"2.0.0","tagName":"h3"},{"title":"Expo‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#expo","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo. Keep in mind that increasing Expo also reduces center sensitivity.  While Expo can be as high as 1.0, excessive Expo might cause decreased center stick sensitivity and make the heli‚Äôs response more unpredictable towards full stick (more jumpy).  ","version":"2.0.0","tagName":"h3"},{"title":"Understanding Raceflight Rates‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#understanding-raceflight-rates","content":" Actual Rates can be a little bit tricky for someone that does not have Betaflight knowledge and experience. So if you are coming from a different FBL system then Raceflight Rates might make more sense for you.  There are 3 values in Raceflight Rates: Rate, Acro+, Expo.    ","version":"2.0.0","tagName":"h2"},{"title":"Rate‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#rate","content":" Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  ","version":"2.0.0","tagName":"h3"},{"title":"Acro+‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#acro","content":" For the sake of simplicity, always keep Acro+ at 0.  ","version":"2.0.0","tagName":"h3"},{"title":"Expo‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#expo-1","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo.  While Expo can be as high as 100, excessive Expo might cause decreased center stick sensitivity and make the heli‚Äôs response more unpredictable towards full stick (more jumpy).  ","version":"2.0.0","tagName":"h3"},{"title":"Dynamics‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#dynamics","content":"   Response Time - corresponds the smoothness of the reaction to stick inputs, also called time constant of the input filter.  note High response times smooths out the input but too high could cause significant input delay.  Max Acceleration - is the input acceleration limiter. Zero represents off. Low value reduces the load on the machine and could be desired for scale flying, not useful for 3D normally.  ","version":"2.0.0","tagName":"h2"},{"title":"Copy Rate Profile‚Äã","type":1,"pageTitle":"Rates tab","url":"/docs/2.0.0/Wiki/Configurator/Rates#copy-rate-profile","content":" You can use the Copy rateprofile button at the upper right corner to copy the values of the current profile to another one. ","version":"2.0.0","tagName":"h2"},{"title":"Receiver tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Receiver","content":"","keywords":"","version":"2.0.0"},{"title":"Receiver Configuration‚Äã","type":1,"pageTitle":"Receiver tab","url":"/docs/2.0.0/Wiki/Configurator/Receiver#receiver-configuration","content":" First activate Serial Rx on the UART you have connected your receiver.    ","version":"2.0.0","tagName":"h2"},{"title":"Receiver Type‚Äã","type":1,"pageTitle":"Receiver tab","url":"/docs/2.0.0/Wiki/Configurator/Receiver#receiver-type","content":" There are many receiver protocols supported in Rotorflight, SBUS in the one of the most known receiver protocols, however it is not telemetry capable. On the Other hand FrSky F.Port and ELRS are the most used protocols because they support telemetry and thus allow you to use the Rotorflight LUA app to perform tuning using you radio.  SBUS needs to be connected to an RX pad.    SBUS with S.Port: the SBUS pin needs to be connected to a free UART RX, and the S.Port pin needs to be connected to a free UART TX (of another free UART), and you activate Telemetry: FrSky SmartPort on that UART.    F.Port needs be connected to a TX pad, with Inverted Serial Signaling activated ,and Half-Duplex activated.    note The Inverted Serial Signaling option will work only on F7/H7 or G4 type mcu, if you are using an F4 mcu, then you need to use and external signal inverter, or hack your receiver to get an Un-Inverted signal for SBUS, S.Port, and F.Port. for more info check Uninverted SBUS and Smart Port on Frsky Receivers  CRSF/ELRS needs an RX and a TX on the same UART.    Please see the documentation for your FC for more details on how to connect your receiver.  ","version":"2.0.0","tagName":"h2"},{"title":"Receiver Channels‚Äã","type":1,"pageTitle":"Receiver tab","url":"/docs/2.0.0/Wiki/Configurator/Receiver#receiver-channels","content":" Select the corresponding channels order based on the selected receiver type.    For FrSky receivers, set the channels in your radio as per the below order.    For ELRS receivers, set the channels in your radio as per the below order.  note For CRSF/ELRS always set ARM switch to CH5/AUX1 on the radio, also set THR to CH6    Reverse channels on your transmitter if a channel responds the wrong way around. Stick to the right should move the bar to the right. Push stick forward and bar should move to the right.  ","version":"2.0.0","tagName":"h2"},{"title":"Receiver Settings‚Äã","type":1,"pageTitle":"Receiver tab","url":"/docs/2.0.0/Wiki/Configurator/Receiver#receiver-settings","content":"   Stick Center - adjust as required by your radio to achieve 0% when the ROLL, PITCH, YAW sticks are centered.Stick Maximum Travel - adjust achieve 100% at the sticks limits.Throttle Channel value for arming - channel value under which arming is allowed.Throttle must be below this limit prior to ARM mode being selected.Throttle Channel value for 0% throttle - The channel value (in ¬µS) for the channel to be considered 0%.Throttle Channel value for 100% throttle - The channel value (in ¬µS) for the channel to be considered 100%.Cyclic Deadband and Yaw Deadband - adjust to the smallest possible value that doesn't make your model drift in the Rates Preview window.  caution Calibrating Stability Mode The stability modes (Angle, Horizon or Rescue) can be calibrated so that the heli doesn't drift much when using such a mode. This can only be done via the accelerometer trims.Do not use trim on your transmitter.  You should end up with something similar to this:   ","version":"2.0.0","tagName":"h2"},{"title":"Telemetry Sensors‚Äã","type":1,"pageTitle":"Receiver tab","url":"/docs/2.0.0/Wiki/Configurator/Receiver#telemetry-sensors","content":" Use the below switch to enable/disable the telemetry stream sent to your radio. Each sensor can then be enabled or disabled individual depending on your requirement.    tip For ELRS receivers, follow the ELRS Telemetry Reuse WalkTrough for a practical example on ELRS sensors Reuse and Setup. ","version":"2.0.0","tagName":"h2"},{"title":"Profiles tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Profiles","content":"","keywords":"","version":"2.0.0"},{"title":"Main Tuning Parameters‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#main-tuning-parameters","content":" ","version":"2.0.0","tagName":"h2"},{"title":"PID Controller Gains‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#pid-controller-gains","content":"   Proportional‚Äã  The gain factor that is proportional to the rate error. High proportional gain increase response speed of the helicopter. Low proportional gain results in overall slow system response. Too high results in fast oscillation (~20hz). It also helps reduce the slow oscillation due to high Integral gain.  Integral‚Äã  The gain factor that is proportional to the accumulated error. Low integral gain results in drift when hovering, and uneven roll or flip rate during continuous roll / flips. It also results in the helicopter not &quot;wanting&quot; to finish maneuvers. Integral too high results in slow oscillation (1-3hz) during cyclic input stops and/or during high disturbance scenarios such as stops of (piro) pitch pumps and tick-tock stops.  Derivative‚Äã  The gain factor proportional to the change of error. It is responsible for &quot;dampening&quot; the overshoot caused by proportional gain. The Derivative gain is particularly sensitive to noise. Ideally, high derivative gain dampens the system too much results in slow response. However, in practice, noise-induced fast oscillation would occur first. Too low results in fast oscillation during stops due to high proportional gain.  Feedforward‚Äã  The gain factor proportional to the input. In practice, feedforward gain is used to eliminate I-term windup, which occurs after continuous flips and rolls. If the helicopter does not stop immediately and continue moving in the rolling / flipping direction, feedforward gain needs to be increased. If FF gain is set to be too high, the helicopter may overshoot during such maneuver. Thus it is advised to start tuning from low.  Boost‚Äã  The setpoint boost - or B-term will increase the stick reaction speed. In case the heli is not reacting fast enough, the reaction can be boosted with this new B-gain on each axis separately. This seems to be in the range of 20..50  This provides a rapid short term increase in your command. This parameter is used in conjunction with the time B-Cutoff.  ","version":"2.0.0","tagName":"h3"},{"title":"Advanced Settings‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#advanced-settings","content":" ","version":"2.0.0","tagName":"h2"},{"title":"PID Controller Settings‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#pid-controller-settings","content":"   Error Rotation‚Äã  If turned on, the I-term can transfer between pitch and roll axis during pirouetting. Increase the performance of overall piro related maneuvers. This is sometimes referred to as Piro compensation.  Ground Error Decay‚Äã  A safety feature. This is to prevent the helicopter from tilting during takeoff.  I-term Relax Type‚Äã  The axis that I-term relax is applied to. Generally this is Roll, Pitch and Yaw (RPY)  I-term Relax Cutoff Points‚Äã  The I-term relax corresponds to the speed of control input for a given axis. When the control input exceed a certain speed, I-term would stop charging. This partially solved the slow overshoot at cyclic input stops due to I-gain charging at fast stick input. The cutoff value corresponds to the input FREQUENCY. A lower value gives more I-term relax, and a higher value provides less I-term relax. It is advised to start high and decrease until bounce back disappears.  Error Limits‚Äã  The limit of how much I-term can be charged. During normal flights, it would not reach this limit. (More info needed)  ","version":"2.0.0","tagName":"h3"},{"title":"Offset Limit/Gain‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#offset-limitgain","content":" The offset gains are used for the High Speed Integral feature.  note Offset feature is still being tested. It is currently only available if PID mode is set to 3 from the CLI set pid_mode = 3     Offset Limits‚Äã  This is a hard limit for the offset angle in the PID loop. The absolute offset and thus the O-term will never go above these limits.  Offset Gains‚Äã  Gain for offset term,(Integral for high speed flight).  ","version":"2.0.0","tagName":"h3"},{"title":"Main Rotor Settings‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#main-rotor-settings","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Collective To Pitch Feedforward Gain‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#collective-to-pitch-feedforward-gain","content":" The pre-compensation for pitch axis when collective is high. Since there is drag-induced pitching motion (there is more drag on the tail thus the helicopter would want to have nose-up tendency when climbing), increasing this gain would compensate that. High gain push the nose down during climb ups. However, it is also advised to select a relatively low value to be conservative.  ","version":"2.0.0","tagName":"h3"},{"title":"Cyclic Cross Coupling‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#cyclic-cross-coupling","content":" Cyclic cross coupling compensation removes the aileron wobble when only elevator is applied.  Cross-Coupling Gain‚Äã  Amount of compensation applied for Pitch-to-Roll decoupling.  Cross-Coupling Ratio‚Äã  Amount of Roll-to-Pitch compensation needed, vs. Pitch-to-Roll.  Cross-Coupling Cutoff Frequency‚Äã  Frequency limit for the compensation, higher value will make the compensation action faster.  ","version":"2.0.0","tagName":"h3"},{"title":"Tail Rotor Settings‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#tail-rotor-settings","content":"   CW/CCW Stop Gain‚Äã  The increase of yaw (what) gain during stops. Higher gain results in crisper stops. Too high may cause fast oscillations.  Cyclic Feedforward Gain‚Äã  Since cyclic input creates more torque on the main rotor, this gain aims to pre-compensate the tail motion due to cyclic inputs. a high cyclic value results CW motion on tail when starting pitching/rolling, a low value results CCW motion. (for CW main rotor)  Collective Feedforward Gain‚Äã  The pre-compensation due to the increase of collective pitch. It is advised to tune it based on the immediate response after a the beginning of a climb up. Higher gain results in CW response, lower gain results in CCW response. It is advised to use a lower value since it may affect tail performance during other maneuvers.  Collective Impulse Feedforward Gain‚Äã  The pre-compensation due to the sudden change of collective. Ideally it is designed to clean up any tail movement in small pitch pumps, however, the compensation is generally overcompensating. Thus it is suggested to turn it off for now.  Collective Impulse Feedforward Decay Time‚Äã  Decay time for collective impulse feedforward mixed into yaw.  ","version":"2.0.0","tagName":"h2"},{"title":"PID Controller Bandwidth‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#pid-controller-bandwidth","content":"   Row/Pitch/Yaw Bandwidth‚Äã  An extra low pass filter for each axis. It is specifically designed to preserve a weaker filter on the yaw axis to increase tail performance. High value corresponding to weaker filter. Too high may cause wobbles. Too low may cause delay and even instability in the control loop.  Row/Pitch/Yaw D-term cutoff‚Äã  An extra first order low pass filter just for the D-gain to further reduce the sensitivity to noise. A high value decreases the effectiveness but may potentially increase the D-gain performance. A low value increase the filter effect but may hinder D-term effectiveness. It is advised to keep it around 20Hz to prevent oscillation.  B-Term Cut-off‚Äã  This is controlling how &quot;quick&quot; or &quot;twitchy&quot; the boost is. This works exactly the same as D-cutoff, but on setpoint. It is safe to start with the same cutoffs as used with D. Usually in the range of 10..20. This is used in conjunction with Boost or B-gain  ","version":"2.0.0","tagName":"h2"},{"title":"Auto Leveling Settings‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#auto-leveling-settings","content":"   Acro Trainer gain‚Äã  This determines how aggressively the heli tilt back to the maximum angle (if exceeded) while in TRAINER mode.  Acro Trainer angle limit‚Äã  This determines the maximum angle the heli can tilt to while in TRAINER mode.  Angle Mode leveling gain‚Äã  This determines how aggressively the heli tilt back to level while in ANGLE mode.  Angle Mode maximum angle‚Äã  This determines the maximum angle the heli can tilt to while in ANGLE mode.  Horizon Mode leveling gain‚Äã  This determines how aggressively the heli tilt back to level while in HORIZON mode.  ","version":"2.0.0","tagName":"h2"},{"title":"Rescue Settings‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#rescue-settings","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Enable Rescue‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#enable-rescue","content":" Enable or disable the rescue mode.  Flip to upright‚Äã  Activate flip to upright option when the heli is inverted.  Pull-up Collective‚Äã  Values 0.0-100. This is to be set to a level where the helicopter rapidly gains height.  Pull-up Time‚Äã  How long pull up collective should be applied. This is usually about 0.3 to 0.5s  Climb Collective‚Äã  Values 0.0-100. This is to be set to a level where the helicopter gains height.  Climb Time‚Äã  How long Climb collective should be applied. This is usually about 0.5 to 1.5s  Hover Collective‚Äã  Increase this value until the heli hovers at a stable altitude  Flip Fail Time‚Äã  This is a safety feature. If there is a mechanical issue preventing the helicopter from completing the flip during this time the rescue mode will exit  Exit Time‚Äã  This slows the transition from rescue back to normal mode. This is helpful if you have rescued from inverted where your collective may be in the opposite direction. This prevents it from rapidly pitching down.  Leveling Gain‚Äã  How strong the helicopter will level. Too low and the helicopter will be sluggish to level. Too high and it will wobble/vibrate.  Flip-to-Upright Gain‚Äã  How strong the helicopter will flip to upright.  Max Leveling Rate‚Äã  Used to control how fast the helicopter levels. Set this to a value that is achievable by your helicopter. Larger slower helicopters may need this reduced.  Max Leveling Acceleration‚Äã  Limit how fast the controller tries to accelerate the helicopter to level or flip. Larger slower helicopters may need this reduced.  ","version":"2.0.0","tagName":"h3"},{"title":"Copy Profile‚Äã","type":1,"pageTitle":"Profiles tab","url":"/docs/2.0.0/Wiki/Configurator/Profiles#copy-profile","content":" You can use the Copy profile button at the upper right corner to copy the values of the current profile to another one. ","version":"2.0.0","tagName":"h2"},{"title":"Sensors tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Sensors","content":"Sensors tab On this tab you can enable or disable trending for each sensor. This is for testing and confirmation that each is working correctly.","keywords":"","version":"2.0.0"},{"title":"Servos tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Servos","content":"","keywords":"","version":"2.0.0"},{"title":"Servo Numbering‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#servo-numbering","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Direct‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#direct","content":" For helicopters that uses mechanical mixing, where the Pitch, Roll, and Collective movements are each controlled by a dedicated servo by means of a complex series of linkages and levers from the servos up to the swashplate.  Servo 1 - Pitch Servo 2 - Roll Servo 3 - Collective Servo 4 - Rudder  ","version":"2.0.0","tagName":"h3"},{"title":"CCPM‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#ccpm","content":" For 120, 135 and 140 deg CCPM swashplates. Looking from the tail towards the nose of the helicopter:  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Left side Servo 3 - Right side Servo 4 - Rudder    ","version":"2.0.0","tagName":"h3"},{"title":"Fixed pitch‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#fixed-pitch","content":" 90deg L‚Äã  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Side servo Servo 3 - Rudder    90deg V‚Äã  Servo 1 - Left side Servo 2 - Right side Servo 3 - Rudder    ","version":"2.0.0","tagName":"h3"},{"title":"Servo Override‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#servo-override","content":" The toggle at the bottom of this page enables the servo overrides. The purpose of this is so that each servo can be driven by the slider to calibrate the range and center points. Beside each servo is an individual override.  The servo override slider scale is in degrees    ","version":"2.0.0","tagName":"h2"},{"title":"Servo Configuration parameters‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#servo-configuration-parameters","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Center‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#center","content":" In general this will be 1520us for cyclic servos and 760us for tail servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Min and Max‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#min-and-max","content":" These are hard limits to prevent servos binding or moving outside of their mechanical limits. If a servo is commanded to a point that is greater or less than it is capable it will buzz and likely burn out. These settings should be used to limit the command.  ","version":"2.0.0","tagName":"h3"},{"title":"Scale Neg and Scale Pos‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#scale-neg-and-scale-pos","content":" Scales the negative and positive direction of the servo to match the commanded angle.  ","version":"2.0.0","tagName":"h3"},{"title":"Rate‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#rate","content":" This is the servo frequency. This will be specified by the manufacturer. A large proportion of servos suitable for cyclic operate at 333Hz.  note For Rotorflight 2 it is recommended that tail servos are assigned to a different timer than cyclic servos (see Remapping). This means that tail servos can be set to a different frequency (i.e. faster).  ","version":"2.0.0","tagName":"h3"},{"title":"Speed‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#speed","content":" Servo Speed Equalization. The aim of this parameter is to remove the collective &quot;bobbing&quot; when fast elevator changes are applied.  The bobbing happens because the elevator servo has to move double distance vs. the aileron servos, when elevator position is changed. If the change is faster than the servos can go, the aileron servos will reach the target sooner than the elevator servo, causing the swash to jump slightly in the process.  To tune this value increase the speed value (it's actually ms/60¬∞, like in the servo datasheet) until the bobbing is not visible any more. It should be always ok to use the value from the servo datasheet if unsure.  ","version":"2.0.0","tagName":"h3"},{"title":"Reverse‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#reverse","content":" Toggle for forward or reverse servo direction.  ","version":"2.0.0","tagName":"h3"},{"title":"Geo Cor‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#geo-cor","content":" Geometry Correction. Servos are rotary, so at high angles this results in smaller swashplate movement for each degree of servo movement. Geometry correction accounts for this and provides better control at high angles (e.g. 3D flight).  In order to use this feature it is important to set the servo arm at 90¬∞ (with servo center) and calibrating the servo scale.  ","version":"2.0.0","tagName":"h3"},{"title":"Servo Setup and Calibration‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#servo-setup-and-calibration","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Step 1‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#step-1","content":" DO NOT CONNECT THE SERVOS YET!Confirm and set the servo center to your servo manufacturers recommendation. For Cyclic this will usually be 1520us, and for Tail it would be 760us.If a servo's center is 760us, make sure to change the min/max to -350/350 instead of -700/700, and pos/neg scales to 250 instead of 500.Confirm and set the servo rate as specified by your manufacturer. For many digital cyclic servos this is 333Hz and for most tail servos this is 560Hz.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 2‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#step-2","content":" Connect the servos.Set Servo override to ON.Fit servo arms to as close to 90 degrees as possible.Slide Servo 1 override in the positive direction (i.e. right).Confirm the servo arm travels up towards the swashplate. If not toggle the servo reverse.  Repeat with remaining cyclic servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 3‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#step-3","content":" Set each of the override sliders to 0 degrees.Adjust center to level the servo arm (0¬∞ or 90¬∞ depending on servo installation orientation). One quick way is to slide the override bar and copy the output value from the blue bar into the center and press save. Make sure to reset the override to see the correct effect.  Repeat with remaining cyclic servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 4 (Usually Not Required)‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#step-4-usually-not-required","content":" With the servos installed in the helicopter, adjust Min/Max so that the arm &amp; ball won't hit anything in the heli frame (servo override @ 80¬∞ / -80¬∞).  Repeat with remaining cyclic/tail servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 5 (Usually Optional)‚Äã","type":1,"pageTitle":"Servos tab","url":"/docs/2.0.0/Wiki/Configurator/Servos#step-5-usually-optional","content":" Calibrate the range. Not all servos move by the same angle for each change in command. This step calibrates this range so that the servo's move by the same amount. This means that the Geometric Correction can be used.  Set the override to a positive value (e.g. 30¬∞)measure the current servo arm angle and increase or decrease the Scale Pos until the servo arm angle matches the override angle.   ","version":"2.0.0","tagName":"h3"},{"title":"LED Strip tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip","content":"","keywords":"","version":"2.0.0"},{"title":"LED Strip Profiles‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#led-strip-profiles","content":" The LED strip feature supports 4 LED Strip profiles: RACE, BEACON, STATUS and STATUS_ALT. The selected profile can be changed from the Configurator, CLI, OSD LED strip menu or from an adjustment channel, i.e. switch on your radio. Take note that the adjustment channel from your radio overrides all other LED strip profile selection options.  ","version":"2.0.0","tagName":"h2"},{"title":"STATUS Profile‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#status-profile","content":" The STATUS profile is used to display all the information mentioned below, i.e. warning indications, Larson scanner, positional lights, ACL, etc.  Addressable LEDs can be used to show information from the flight controller system and supports:  Up to 32 LEDs.User definable blink patterns.AUX operated switching between LED profiles.Indicators showing pitch/roll stick positions.Heading/Orientation lights.Flight mode specific color schemes.Low battery warning.GPS state.RSSI level.Battery level.  ","version":"2.0.0","tagName":"h3"},{"title":"STATUS_ALT Profile‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#status_alt-profile","content":" The STATUS_ALT profile works just like the STATUS profile, except for LEDs with the Fade overlay. LEDs with the Fade overlay will use their alternate color when the STATUS_ALT profile is active.  ","version":"2.0.0","tagName":"h3"},{"title":"RACE Profile‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#race-profile","content":" The RACE profile is used to set ALL LEDs to the selected color for racing, i.e. to identify helis based on LED color. The LED color is fixed and no other information is displayed.  ","version":"2.0.0","tagName":"h3"},{"title":"BEACON Profile‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#beacon-profile","content":" The BEACON profile is used to find a lost heli, it flashes all LEDs white once per second. Again in this profile no other information is displayed on the LEDs.  ","version":"2.0.0","tagName":"h3"},{"title":"LED Profile Selection‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#led-profile-selection","content":" OPTION 1: Use the Configurator‚Äã  Go to the LED Strip tabSelect the profile under LED Strip Global Settings  OPTION 2: Configure an adjustment range to change the LED strip profile from your radio‚Äã  The LED strip profile selection is performed using an adjustment configured via the Adjustments tab. Enable an adjustment by selecting Mapped.Select the AUX channel to be used to change the LED strip profile under Enable channel and set the range to 900-2100usSet the same AUX channel and range under Value channelFor the adjustment select LED Profile Selection and set the range to 1-4.Save Configure the AUX channel on your radio. When this channel is changed the selected LED strip profile will change between RACE, BEACON, STATUS and STATUS_ALT. You should see the LED function change as you do this.  OPTION 3: Use the CLI to select the LED strip profile (i.e. not selecting the LED strip profile with your radio)‚Äã  Open the CLI.Type get ledstrip_profile followed by enter to display the currently selected LED strip profile.Type set ledstrip_profile=x where x is the profile STATUS, STATUS_ALT, RACE or BEACON and press enter.Type save followed by enter to save the selected LED strip profile.  OPTION 4: By using the OSD‚Äã  Open the OSD menu by yawing left and pitching forward on your radio.Using the pitch stick, move down to the LED Strip menu and roll right to enter the menu.The profile and race color can be configured using the left stick to go back and the right stick to navigate up/down and to change the selected value.Use the left stick to go to the top level menu and select save &amp; reboot to complete.  RACE COLOR: The Race color can be configured using the CLI:‚Äã  Open the CLI.Type get ledstrip_race_color followed by enter to display the currently selected race color number.Type set ledstrip_race_color=x where x is the required color.Type save followed by enter to save the race color to be used.  BRIGHTNESS: The overall brightness can be configured using the CLI:‚Äã  Open the CLI.Type get ledstrip_brightness followed by enter to display the current brightness.Type set ledstrip_brightness=x where x is the brightness in percentage between 5 and 100.Type save followed by enter to save the brightness level to be used.  ","version":"2.0.0","tagName":"h3"},{"title":"Supported hardware‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#supported-hardware","content":" Up to 32 WS2811/WS2812 LEDs are currently supported.  WS2812 LEDs require an 800khz signal and precise timings and thus requires the use of a dedicated hardware timer.  Note: Not all WS2812 ICs use the same timings, some batches use different timings.  ","version":"2.0.0","tagName":"h2"},{"title":"Tested Hardware‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#tested-hardware","content":" Adafruit NeoPixel Jewel 7 (preliminary testing) Measured current consumption in all white mode ~ 350 mA.Fits well under motors on mini 250 quads. Adafruit NeoPixel Stick (works well) Measured current consumption in all white mode ~ 350 mA. Aliexpress SK6812 RBGWW strip (works well) Alternative Adafruit NeoPixel Stick RGBW  ","version":"2.0.0","tagName":"h3"},{"title":"WS2811 vs WS2812‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#ws2811-vs-ws2812","content":" The WS2811 is a LED driver IC which is connected to an RGB LED. It accepts data in the form of 8 bits each of Red-Green-Blue.  The WS2812 is integrated into the package of a 50:50 LED rather than as a separate device. It accepts data in the form of 8 bits each of Green-Red-Blue.  With the SK6812 also GRBW variants are supported, which have a fourth (white) channel and such provide a much cleaner white color.  It is thus possible, depending on the LED board/strip being used that either Red-Green-Blue or Green-Red-Blue encoding may be required. This may be controlled by setting the following.  set ledstrip_grb_rgb = RGB   or  set ledstrip_grb_rgb = GRB   or  set ledstrip_grb_rgb = GRBW   Then confirm the required setting by simply setting an LED to be green. If it lights up red, you have the wrong setting. Afterwards check if the second LED also lights up red - if not, you might have 4-color SK6812 LEDs and would have to select GRBW.  Combining RGB and GBR(W) LEDs‚Äã  If you're using both WS2811 and WS2812/SK6812 LEDs, set ledstrip_grb_rgb to GRB or GRBW. The colors of the WS2811 LEDs will then be incorrect. To correct this, indicate which LEDs use RGB by specifying those LEDs in ledstrip_inverted_format - a 32 bit bitmask. For example, if LED 1 and 4 use RGB, specify 1 + 8 = 9:  set ledstrip_inverted_format = 9   ","version":"2.0.0","tagName":"h3"},{"title":"Connections‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#connections","content":" WS2812 LED strips generally require a single data line, 5V and GND.  WS2812 LEDs on full brightness can consume quite a bit of current. It is recommended to verify the current draw and ensure your supply can cope with the load. It's also possible to power one half of the LEDs from one BEC and the other half from another BEC. Just ensure that the GROUND is the same for all BEC outputs and LEDs.  LED Strip pin should be:  on a separate timerwith DMA enabled  If you have LEDs that are intermittent, flicker or show the wrong colors then drop the VIN to less than 4.7v, e.g. by using an inline diode on the VIN to the LED strip. The problem occurs because of the difference in voltage between the data signal and the power signal. The WS2811 LED's require the data signal (Din) to be between 0.3 * Vin (Max) and 0.7 * VIN (Min) to register valid logic low/high signals. The LED pin on the CPU will always be between 0v to ~3.3v, so the Vin should be 4.7v (3.3v / 0.7 = 4.71v). Some LEDs are more tolerant of this than others.  The datasheet can be found here: WS2812  ","version":"2.0.0","tagName":"h2"},{"title":"Configuration‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#configuration","content":" The LED strip feature can be configured via the Configurator or the CLI.  ","version":"2.0.0","tagName":"h2"},{"title":"Configurator‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#configurator","content":" First enable the LED_STRIP feature in the Configuration tab. The LED Strip tab should now become visible.  Now go to the LED Strip tab and configure the LEDs. First setup how the LEDs are laid out so that you can visualize it later as you configure and so the flight controller knows how many LEDs there are available.  There is a step by step guide on how to use the Configurator to configure the Led Strip feature which was published in 2018 by Oscar Liang.  ","version":"2.0.0","tagName":"h3"},{"title":"CLI‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#cli","content":" Enable the LED_STRIP feature via the cli:  feature LED_STRIP   If you enable LED_STRIP feature and the feature is turned off again after a reboot then check your config does not conflict with other features, as above.  Configure the LEDs using the led command.  The led command takes either zero or two arguments - an zero-based LED number and a sequence which indicates pair of coordinates, direction flags and mode flags and a color.  If used with zero arguments it prints out the LED configuration which can be copied for future reference.  Each LED is configured using the following template: x,y:direction:mode:color:blinkpattern:blinkpause:alternatecolor  x and y are grid coordinates of a 0 based 16x16 grid, north west is 0,0, south east is 15,15direction specifies the directions, since an LED can face in any direction it can have multiple directions. Directions are:  N - NorthE - EastS - SouthW - WestU - UpD - Down  For instance, an LED that faces South-east at a 45 degree downwards angle could be configured as SED.  Note: It is perfectly possible to configure an LED to have all directions NESWUD but probably doesn't make sense.  mode specifies the modes that should be applied an LED. A mode consists of a base function and zero or more overlays.  Each LED has one base function:  C - Color.F - Flight mode &amp; OrientationA - Armed state.R - Ring thrust state.G - GPS state.S - RSSSI level.L - Battery Level.  And each LED can have one ore more overlays:  W - Wwarnings.I - Indicator.T - Thrust state.B - Blink mode.O - LarsOn Scanner (Cylon Effect).V - VTX Frequency.K - FlicKer.D - FaDe.  color specifies the color number (0 based index). This color has a black border in the Configurator.  blinkpattern specifies a 16 bit bitmask which indicates when a LED should blink. Example: two fast blinks would be 5 (binary 101), two slow blinks 3855 (binary 111100001111). The alternatecolor is used for blinking.  blinkpause specifies whether blinking should pause after the blink pattern has been finished. A value of 0 doesn't pause blinking, a value of 3 pauses the blinking for three subsequent rounds.  alternatecolor specifies the color for: a. blinking; b. fading between color and alternatecolor if the LED profile is switched from STATUS to STATUS_ALT. The alternatecolor can be black if you want to turn a light off in in the STATUS_ALT profile. The alternate color has a red border in the Configurator.  Example:  led 0 0,15:SD:AWI:0:0:0:0 led 1 15,0:ND:AWI:0:0:0:0 led 2 0,0:ND:AWI:0:0:0:0 led 3 0,15:SD:AWI:0:0:0:0 led 4 7,7::C:1:0:0:0 led 5 8,8::C:2:0:0:0 led 6 8,9::CB:1:3855:0:2   To erase an LED, and to mark the end of the chain, use 0,0:: as the second argument, like this:  led 4 0,0:::   It is best to erase all LEDs that you do not have connected.  ","version":"2.0.0","tagName":"h3"},{"title":"Modes‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#modes","content":" Note: though this section does apply to Rotorflight, it mainly stems form Betaflight and is thus very quad oriented.  Warning‚Äã  This mode simply uses the LEDs to flash when warnings occur.  Warning\tLED Pattern\tNotesArm-lock enabled\tflash between green and off\toccurs during calibration or when unarmed and the aircraft is tilted too much Low Battery\tflash red and off\tbattery monitoring must be enabled. May trigger temporarily under high-throttle due to voltage drop Failsafe\tflash between light blue and yellow\tFailsafe must be enabled  Flash patterns appear in order, so that it's clear which warnings are enabled.  GPS state‚Äã  This mode shows the GPS state and satellite count.  No fix = red LED 3D fix = green LED  The LEDs will blink as many times as the satellite count, then pause and start again.  RSSI level‚Äã  This mode binds the LED color to RSSI level.  Color\tRSSIGreen\t100% Lime green\t80% Yellow\t60% Orange\t40% Red\t20% Deep pink\t0%  When RSSI is below 50% is reached, LEDs will blink slowly, and they will blink fast when under 20%.  Battery level‚Äã  This mode binds the LED color to remaining battery capacity.  Color\tCapacityGreen\t100% Lime green\t80% Yellow\t60% Orange\t40% Red\t20% Deep pink\t0%  When Warning or Critical voltage is reached, LEDs will blink slowly or fast. Note: this mode requires a current sensor. If you don't have the actual device you can set up a virtual current sensor.  Blink‚Äã  This overlay makes the LED blink from the current active color to the alternate color. You can set the blink rate using ledstrip_blink_period_ms.  Flicker‚Äã  This overlay makes the LED flicker, a bit like a candle. Set the flicker rate using ledstrip_flicker_rate.  Fade to alt color‚Äã  A LED with this overlay will fade to the alternate color in the profile STATUS_ALT. Specify Black as the alternate color to turn LEDs off (e.g. for switching off landing lights). You can set the fade rate with ledstrip_fade_rate.  Larson Scanner (Cylon Effect)‚Äã  The Larson Scanner replicates the scanning &quot;eye&quot; effect seen on the mechanical Cylons and on Kitt from Knight Rider. This overlay dims all of the LEDs it is assigned to and brightens certain ones at certain times in accordance with the animation. The animation is active regardless of arm state.  VTX Frequency‚Äã  This overlay makes the LED color dependent on the current channel of the VTX, in case it is equipped with SmartAudio or IRC Tramp. The color is selected according to the following table:  Frequency range\tDefault color\tColor index&lt; = 5672\tWhite\t1 &gt; 5672 &lt; = 5711\tRed\t2 &gt; 5711 &lt; = 5750\tOrange\t3 &gt; 5750 &lt; = 5789\tYellow\t4 &gt; 5789 &lt; = 5829\tGreen\t6 &gt; 5829 &lt; = 5867\tBlue\t10 &gt; 5867 &lt; = 5906\tDark violet\t11 &gt; 5906\tDeep pink\t13  The default color can be changed by double-clicking the color and moving the Hue slider or by using the color command in the CLI.  Flight Mode &amp; Orientation‚Äã  This mode shows the flight mode and orientation.  When flight modes are active then the LEDs are updated to show different colors depending on the mode, placement on the grid and direction.  LEDs are set in a specific order:  LEDs that marked as facing up or down.LEDs that marked as facing west or east AND are on the west or east side of the grid.LEDs that marked as facing north or south AND are on the north or south side of the grid.  That is, south facing LEDs have priority.  The mapping between modes LED placement and colors is currently fixed and cannot be changed.  Indicator‚Äã  This mode flashes LEDs that correspond to roll and pitch stick positions. i.e. they indicate the direction the craft is going to turn.  Mode\tDirection\tLED ColorOrientation\tNorth\tWHITE Orientation\tEast\tDARK VIOLET Orientation\tSouth\tRED Orientation\tWest\tDEEP PINK Orientation\tUp\tBLUE Orientation\tDown\tORANGE Head Free\tNorth\tLIME GREEN Head Free\tEast\tDARK VIOLET Head Free\tSouth\tORANGE Head Free\tWest\tDEEP PINK Head Free\tUp\tBLUE Head Free\tDown\tORANGE Horizon\tNorth\tBLUE Horizon\tEast\tDARK VIOLET Horizon\tSouth\tYELLOW Horizon\tWest\tDEEP PINK Horizon\tUp\tBLUE Horizon\tDown\tORANGE Angle\tNorth\tCYAN Angle\tEast\tDARK VIOLET Angle\tSouth\tYELLOW Angle\tWest\tDEEP PINK Angle\tUp\tBLUE Angle\tDown\tORANGE Mag\tNorth\tMINT GREEN Mag\tEast\tDARK VIOLET Mag\tSouth\tORANGE Mag\tWest\tDEEP PINK Mag\tUp\tBLUE Mag\tDown\tORANGE Baro\tNorth\tLIGHT BLUE Baro\tEast\tDARK VIOLET Baro\tSouth\tRED Baro\tWest\tDEEP PINK Baro\tUp\tBLUE Baro\tDown\tORANGE  Armed state‚Äã  This mode toggles LEDs between green and blue when disarmed and armed, respectively. If arming is disabled the LED will be set to the background color, which usually is black.  Note: Armed State cannot be used with Flight Mode.  Thrust state‚Äã  This mode fades the current LED color to the previous/next color in the HSB color space depending on throttle stick position. When the throttle is in the middle position the color is unaffected, thus it can be mixed with orientation colors to indicate orientation and throttle at the same time. Thrust should normally be combined with Color or Mode/Orientation.  Thrust ring state‚Äã  This mode is allows you to use one or multiple LED rings (e.g. NeoPixel ring) for an afterburner effect. LEDs with this mode will light up with their assigned color in a repeating sequence. Assigning the color black to an LED with the ring mode will prevent the LED from lighting up.  A better effect is achieved when LEDs configured for thrust ring have no other functions.  LED direction and X/Y positions are irrelevant for thrust ring LED state. The order of the LEDs that have the state determines how the LED behaves, and the throttle value determines the animation rate. The animation is only active while armed.  Each LED of the ring can be a different color. The color can be selected between the 16 colors available.  For example, LED 0 is set as a Ring thrust state LED in color 13 as follow.  led 0 2,2::R:13   LED strips and rings can be combined.  Solid Color‚Äã  The mode allows you to set an LED to be permanently on and set to a specific color.  x,y position and directions are ignored when using this mode.  Other modes will override or combine with the color mode.  For example, to set LED 0 to always use color 10 you would issue this command.  led 0 0,0::C:10   ","version":"2.0.0","tagName":"h3"},{"title":"Colors‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#colors","content":" Colors can be configured using the cli color command.  The color command takes either zero or two arguments - an zero-based color number and a sequence which indicates pair of hue, saturation and value (HSV).  See HSL and HSV  If used with zero arguments it prints out the color configuration which can be copied for future reference.  The default color configuration is as follows:  Index\tColor0\tblack 1\twhite 2\tred 3\torange 4\tyellow 5\tlime green 6\tgreen 7\tmint green 8\tcyan 9\tlight blue 10\tblue 11\tdark violet 12\tmagenta 13\tdeep pink 14\tblack 15\tblack  color 0 0,0,0 color 1 0,255,255 color 2 0,0,255 color 3 30,0,255 color 4 60,0,255 color 5 90,0,255 color 6 120,0,255 color 7 150,0,255 color 8 180,0,255 color 9 210,0,255 color 10 240,0,255 color 11 270,0,255 color 12 300,0,255 color 13 330,0,255 color 14 0,0,0 color 15 0,0,0   ","version":"2.0.0","tagName":"h3"},{"title":"Mode Colors Assignement‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#mode-colors-assignement","content":" Mode Colors can be configured using the cli mode_color command.  No arguments: lists all mode colorsarguments: mode, function, color  First 8 groups of ModeIndexes are :  mode\tname0\torientation 1\theadfree 2\thorizon 3\tangle 4\tmag 5\tbaro 6\tspecial 7\tchannel  Modes 0 to 5 functions:  function\tname0\tnorth 1\teast 2\tsouth 3\twest 4\tup 5\tdown  Mode 6 use these functions:  function\tname0\tdisarmed 1\tarmed 2\tanimation 3\tbackground 4\tblink background 5\tgps: no satellites 6\tgps: no fix 7\tgps: 3D fix  The ColorIndex is picked from the colors array (&quot;palette&quot;).  Mode 7 is used along with Thrust state to make the LED color dependent on a channel different from the throttle.  Examples (using the default colors):  set armed color to red: mode_color 6 1 2set disarmed color to yellow: mode_color 6 0 4set Headfree mode 'south' to Cyan: mode_color 1 2 8set color dependent on AUX 1 in Thrust state: mode_color 7 0 4  ","version":"2.0.0","tagName":"h3"},{"title":"Positioning‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#positioning","content":" Cut the strip into sections as per diagrams below. When the strips are cut ensure you reconnect each output to each input with cable where the break is made. e.g. connect 5V out to 5V in, GND to GND and Data Out to Data In.  Orientation is when viewed with the front of the aircraft facing away from you and viewed from above.  ","version":"2.0.0","tagName":"h2"},{"title":"Example 12 LED config‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#example-12-led-config","content":" The default configuration is as follows  led 0 15,15:ES:IA:0 led 1 15,8:E:WF:0 led 2 15,7:E:WF:0 led 3 15,0:NE:IA:0 led 4 8,0:N:F:0 led 5 7,0:N:F:0 led 6 0,0:NW:IA:0 led 7 0,7:W:WF:0 led 8 0,8:W:WF:0 led 9 0,15:SW:IA:0 led 10 7,15:S:WF:0 led 11 8,15:S:WF:0 led 12 7,7:U:WF:0 led 13 8,7:U:WF:0 led 14 7,8:D:WF:0 led 15 8,8:D:WF:0 led 16 8,9::R:3 led 17 9,10::R:3 led 18 10,11::R:3 led 19 10,12::R:3 led 20 9,13::R:3 led 21 8,14::R:3 led 22 7,14::R:3 led 23 6,13::R:3 led 24 5,12::R:3 led 25 5,11::R:3 led 26 6,10::R:3 led 27 7,9::R:3 led 28 0,0:::0 led 29 0,0:::0 led 30 0,0:::0 led 31 0,0:::0   Which translates into the following positions:   6 3 \\ / \\ 5-4 / \\ FRONT / 7,8 | 12-15 | 1,2 / BACK \\ / 10,11 \\ / \\ 9 0 RING 16-27   LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle LEDs 16-27 should be placed in a ring and positioned at the rear facing south.  This is the default so that if you don't want to place LEDs top and bottom in the middle just connect the first 12 LEDs.  ","version":"2.0.0","tagName":"h3"},{"title":"Example 16 LED config‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#example-16-led-config","content":" led 0 15,15:SD:IA:0 led 1 8,8:E:FW:0 led 2 8,7:E:FW:0 led 3 15,0:ND:IA:0 led 4 7,7:N:FW:0 led 5 8,7:N:FW:0 led 6 0,0:ND:IA:0 led 7 7,7:W:FW:0 led 8 7,8:W:FW:0 led 9 0,15:SD:IA:0 led 10 7,8:S:FW:0 led 11 8,8:S:FW:0 led 12 7,7:D:FW:0 led 13 8,7:D:FW:0 led 14 7,7:U:FW:0 led 15 8,7:U:FW:0   Which translates into the following positions:   6 3 \\ / \\ 5-4 / 7 \\ FRONT / 2 | 12-15 | 8 / BACK \\ 1 / 10-11 \\ / \\ 9 0   LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle  ","version":"2.0.0","tagName":"h3"},{"title":"Example 28 LED config‚Äã","type":1,"pageTitle":"LED Strip tab","url":"/docs/2.0.0/Wiki/Configurator/LED-Strip#example-28-led-config","content":" #right rear cluster led 0 9,9:S:FWT:0 led 1 10,10:S:FWT:0 led 2 11,11:S:IA:0 led 3 11,11:E:IA:0 led 4 10,10:E:AT:0 led 5 9,9:E:AT:0 # right front cluster led 6 10,5:S:F:0 led 7 11,4:S:F:0 led 8 12,3:S:IA:0 led 9 12,2:N:IA:0 led 10 11,1:N:F:0 led 11 10,0:N:F:0 # center front cluster led 12 7,0:N:FW:0 led 13 6,0:N:FW:0 led 14 5,0:N:FW:0 led 15 4,0:N:FW:0 # left front cluster led 16 2,0:N:F:0 led 17 1,1:N:F:0 led 18 0,2:N:IA:0 led 19 0,3:W:IA:0 led 20 1,4:S:F:0 led 21 2,5:S:F:0 # left rear cluster led 22 2,9:W:AT:0 led 23 1,10:W:AT:0 led 24 0,11:W:IA:0 led 25 0,11:S:IA:0 led 26 1,10:S:FWT:0 led 27 2,9:S:FWT:0    16-18 9-11 19-21 \\ / 6-8 \\ 12-15 / \\ FRONT / / BACK \\ / \\ 22-24 / \\ 3-5 25-27 0-2   All LEDs should face outwards from the chassis in this configuration. ","version":"2.0.0","tagName":"h3"},{"title":"Setup tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Setup","content":"","keywords":"","version":"2.0.0"},{"title":"Calibrate Accelerometer‚Äã","type":1,"pageTitle":"Setup tab","url":"/docs/2.0.0/Wiki/Configurator/Setup#calibrate-accelerometer","content":" The accelerometer is used to determine the orientation of the flight controller. It is used to determine the pitch, roll and yaw angles. You can calibrate it here, following the instructions.  info The accelerometer is used for self stabilization features, like angle, horizon, acro trainer, and even rescue. If you do not intend to use these features, you can skip this step, or even disable the accelerometer entirely.  ","version":"2.0.0","tagName":"h2"},{"title":"Calibrate Magnetometer‚Äã","type":1,"pageTitle":"Setup tab","url":"/docs/2.0.0/Wiki/Configurator/Setup#calibrate-magnetometer","content":" The magnetometer (compass) is used to determine the heading of the flight controller in 3d space. This is useful for more accurate information for GPS rescue( Not yet implemented ). Calibrate it following the instructions  The magnetometer calibration process is time limited, you only have 30 seconds to do the movements.  ","version":"2.0.0","tagName":"h2"},{"title":"Reset Settings‚Äã","type":1,"pageTitle":"Setup tab","url":"/docs/2.0.0/Wiki/Configurator/Setup#reset-settings","content":" Reset Flight Controller to target default parameters.  ","version":"2.0.0","tagName":"h2"},{"title":"Bootloader/DFU‚Äã","type":1,"pageTitle":"Setup tab","url":"/docs/2.0.0/Wiki/Configurator/Setup#bootloaderdfu","content":" A manual way to put the flight controller into DFU (Device Firmware Update) mode without having to hold down the physical boot button. This is useful if you're having issues when flashing. Board will remain in DFU mode until cycled or a flash is completed.  ","version":"2.0.0","tagName":"h2"},{"title":"Mass Storage Mode‚Äã","type":1,"pageTitle":"Setup tab","url":"/docs/2.0.0/Wiki/Configurator/Setup#mass-storage-mode","content":" Reboot into mass storage mode to access blackbox data logs.  ","version":"2.0.0","tagName":"h2"},{"title":"System Reboot‚Äã","type":1,"pageTitle":"Setup tab","url":"/docs/2.0.0/Wiki/Configurator/Setup#system-reboot","content":" Reboot and reinitialize the system. ","version":"2.0.0","tagName":"h2"},{"title":"Diy board - Betaflight FC","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy","content":"","keywords":"","version":"2.0.0"},{"title":"Flashing Rotorflight‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#flashing-rotorflight","content":" Flashing Rotorflight firmware  ","version":"2.0.0","tagName":"h3"},{"title":"Remap Betaflight board‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#remap-betaflight-board","content":" Remapping servos and motors  ","version":"2.0.0","tagName":"h3"},{"title":"Servo Breakout boards‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#servo-breakout-boards","content":" ","version":"2.0.0","tagName":"h3"},{"title":"OMP M1‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#omp-m1","content":" ","version":"2.0.0","tagName":"h2"},{"title":"OMP M2‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#omp-m2","content":" ","version":"2.0.0","tagName":"h2"},{"title":"16mm x 16mm‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#16mm-x-16mm","content":" ","version":"2.0.0","tagName":"h2"},{"title":"20mm x 20mm‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#20mm-x-20mm","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Whoop boards‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#whoop-boards","content":" ","version":"2.0.0","tagName":"h2"},{"title":"32mm x 32mm‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/2.0.0/Wiki/Controllers/betaflight-diy#32mm-x-32mm","content":"","version":"2.0.0","tagName":"h2"},{"title":"Status tab","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Configurator/Status","content":"","keywords":"","version":"2.0.0"},{"title":"Info‚Äã","type":1,"pageTitle":"Status tab","url":"/docs/2.0.0/Wiki/Configurator/Status#info","content":" Shows some basic data from the flight controller and model. This includes:  Craft NameFirmwareBoard    ","version":"2.0.0","tagName":"h2"},{"title":"Arming‚Äã","type":1,"pageTitle":"Status tab","url":"/docs/2.0.0/Wiki/Configurator/Status#arming","content":"   Enable Arming: Use this switch to enable arming while the configurator is connected.  caution With the arming enabled, the motor can spoolup when the throttle is released. Remove blades for safety.  Arming Disable Flags: Shows all of the &quot;errors&quot; that prevent the flight controller from arming. This is useful to check if you're having issues arming.  You can find out a description of these flags from the List of Arming prevention flags  ","version":"2.0.0","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Status tab","url":"/docs/2.0.0/Wiki/Configurator/Status#battery","content":"   Voltage - Shows the current battery voltage if the settings for it are set correctly.Current - Shows the current drawn from the battery if the settings for it are set correctly.Capacity - Shows the consumed capacity of the battery in mAh.Charge Level - Shows remaining battery capacity in percent.  ","version":"2.0.0","tagName":"h2"},{"title":"Live Gyro Preview‚Äã","type":1,"pageTitle":"Status tab","url":"/docs/2.0.0/Wiki/Configurator/Status#live-gyro-preview","content":" A live preview of the gyroscope data. This is useful to check if the gyroscope is aligned correctly, and if it isn't getting/giving noisy data.    Reset Z axis - This button resets the heli heading to 0 degrees.  info You can set the gyroscope alignment in the Configuration tab.  ","version":"2.0.0","tagName":"h2"},{"title":"Instruments‚Äã","type":1,"pageTitle":"Status tab","url":"/docs/2.0.0/Wiki/Configurator/Status#instruments","content":" A graphic replica of real aircraft instruments.    ","version":"2.0.0","tagName":"h2"},{"title":"Receiver‚Äã","type":1,"pageTitle":"Status tab","url":"/docs/2.0.0/Wiki/Configurator/Status#receiver","content":" The receiver output preview shows the current state of the receiver channels, both in channel value and graph forms, and how those affect the heli movement.   ","version":"2.0.0","tagName":"h2"},{"title":"Controllers","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Controllers/intro","content":"Controllers There are several flight controllers specifically made for Rotorflight. Radiomaster NEXUSFlydragon V2.2Flywing F405HELIMatek G474HeliMatek G474-HLITEDIY - from a Betaflight FC","keywords":"","version":"2.0.0"},{"title":"Flywing Heli405","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Controllers/flywingf405heli","content":"","keywords":"","version":"2.0.0"},{"title":"Matek G474Heli","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Controllers/matek_heli","content":"","keywords":"","version":"2.0.0"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/2.0.0/Wiki/Controllers/matek_heli#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/2.0.0/Wiki/Controllers/matek_heli#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/2.0.0/Wiki/Controllers/matek_heli#uart-ports","content":"     ","version":"2.0.0","tagName":"h3"},{"title":"Onboard BEC‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/2.0.0/Wiki/Controllers/matek_heli#onboard-bec","content":" The Matek G474Heli contains a 5A-8A peak, Variable voltage (5v or 7.2v) BEC to supply the servos. The BEC will supply 5v by default and 7.2 v when the solder bridge is connected. THis is powered by the VBat connection.  caution If using an external BEC the internal BEC MUST be disabled via the [Vx Off] solder bridge.    ","version":"2.0.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/2.0.0/Wiki/Controllers/matek_heli#manuals","content":" Detail specifications and documentation available at the Matek website. Matek G474-HELI website ","version":"2.0.0","tagName":"h3"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/2.0.0/Wiki/Controllers/flywingf405heli#rotorflight-target","content":" Servo Tail: Use the FLYWING_HELI405 target for a servo tail Heli.  Motorised Tail: Use the FLYWING_HELI405M target for a Motorised tail. The 'M' is Motorised.    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/2.0.0/Wiki/Controllers/flywingf405heli#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/2.0.0/Wiki/Controllers/flywingf405heli#uart-ports","content":" UART 1 - GPS ConnectorUART 2 - Top JST-GH portUART 6 - DSM and SBUS       ","version":"2.0.0","tagName":"h3"},{"title":"Matek G474-HLite","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Controllers/matek_hlite","content":"","keywords":"","version":"2.0.0"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/2.0.0/Wiki/Controllers/matek_hlite#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"2.0.0","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/2.0.0/Wiki/Controllers/matek_hlite#motorised-tail","content":" The H-Lite FC is configured with 4 servos and 1 motor. If you wish to use this board for a motorised tail it can be added in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource motor 2 A06 save    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/2.0.0/Wiki/Controllers/matek_hlite#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/2.0.0/Wiki/Controllers/matek_hlite#uart-ports","content":"     ","version":"2.0.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/2.0.0/Wiki/Controllers/matek_hlite#manuals","content":" Detail specifications and documentation available at the Matek website. Matek G474-HLite website ","version":"2.0.0","tagName":"h3"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/intro","content":"","keywords":"","version":"2.0.0"},{"title":"Latest Rotorflight 2 Version‚Äã","type":1,"pageTitle":"Introduction","url":"/docs/2.0.0/Wiki/intro#latest-rotorflight-2-version","content":" Rotorflight v2.1 is the current stable release and can be found in the V2.1.0 Stable Downloads.  ","version":"2.0.0","tagName":"h2"},{"title":"Next release testing‚Äã","type":1,"pageTitle":"Introduction","url":"/docs/2.0.0/Wiki/intro#next-release-testing","content":" The next release of Rotorflight is currently in the development phase. Snapshots can be found Development Downloads.   ","version":"2.0.0","tagName":"h2"},{"title":"Radiomaster NEXUS","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus","content":"","keywords":"","version":"2.0.0"},{"title":"Release Video‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#release-video","content":"   Specifications Hardware SpecificationsÔºö‚Äã NEXUS Heli Flight Controller MCU: STM32F722RET6 Gyro (IMU): ICM-42688-P Flash Memory (Black Box. IC): 128MB (W25N01GVZEIG) Barometer: SPL06-001 Uart: 6 - DSM[UART1], S.BUS[UART2], A-CRSF[UART4], PORT-B[UART6], PORT-C[UART3] Servo: 4 - S1, S2, S3, TAIL Rpm Sensor: 1 - FROM ESC FREQUENCY SENSOR Receiver Support: CRSF, ELRS, GHOST, S.BUS, SUMD, IBUS, XBUS, EXBUS, PPM, MSP, DSM2, DSMX Voltage Supply(DC): 5 - 12.6V A-B-C Serial Port Power Output: 5V - 2.0A DSM Serial Port Power Output: 3.3V - 0.5A Telemetry: S.BUS, HoTT, S.Port, MSP, EDGETX, ELRS ESC: PWM, Oneshot, Multishot, Dshot Support Tail ESC: 760Œºs/1520Œºs Servo Support Tail Motor: Yes Demensions: 41.3 X 25.4 X 13.1mm Weight: 16.8g  ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#rotorflight-target","content":" When updating Rotorflight firmware. Please use the NEXUS_F7.    ","version":"2.0.0","tagName":"h3"},{"title":"Matching RP3-H ELRS receiver‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#matching-rp3-h-elrs-receiver","content":" Any of the Rotorflight receiver protocols can be used with the NEXUS. Radiomaster does have the RP3-H receiver which is a direct plug and play ELRS receiver.    ","version":"2.0.0","tagName":"h3"},{"title":"F-Port‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#f-port","content":" Nexus supports F.Port on: The 'TX' pin of Port A, B or C or by remapping the SBUS to a TX for F.Port.   F.Port is an Unverted protocol over a single wire so must configured with both of these options enabled.   ","version":"2.0.0","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#motorised-tail","content":" To use the NEXUS with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 B03 save    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#uart-ports","content":" All the UARTS on the NEXUS are labeled to match each port. Just enter the function you wish to use for each port such as SerialRx (receiver), ESC Telemetry, blackbox, GPS etc.    ","version":"2.0.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/2.0.0/Wiki/Controllers/rm-nexus#manuals","content":" Radiomaster NEXUS website ","version":"2.0.0","tagName":"h3"},{"title":"Getting Started","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/setup-examples/intro","content":"Getting Started The general process for setting up a helicopter using Rotorflight. This process is generic and may be slightly different, depending on your particular helicopter. Install the latest RF2 releaseRemap your servos and motors if you are using a Betaflight FC, otherwise, skip this step.Calibrate the Accelerometer.Check you Board alignment setting and adjust if necessary.Connect Receiver to a free UART and select corresponding receiver settings.Select Battery Voltage and Current Source as per you setup, and Set Battery Capacity and Cell Count.Select ESC Throttle protocol, and Optional: ESC Telemetry protocol, Set Gear Ratios, and Motor Pole Count.Optional: Select and Setup the Governor. There are several Governor Options.Setup Servos.Setup and Calibrate the Mixer.Setup the Gyro RPM Filters.Set the Rates as per flying style.Set the PID Values.Setup ARMING, and other MODES.Setup Profile Switching and other Adjustments if required.Setup BLACKBOX Logging.Optional: Setup LUA Script on radio.","keywords":"","version":"2.0.0"},{"title":"flydragon2.2","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2","content":"","keywords":"","version":"2.0.0"},{"title":"use--- sidebar_position: 30‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#use---sidebar_position-30","content":" Flydragon V2.2    Specifications Hardware SpecificationsÔºö‚Äã MCU: STM32F722RET6 IMU: BMI270 Black Box: W25N01G (128MB) Baro: SPL06 (I2C2Ôºâ LED: WS2812 Beeper: 5V Active Buzzer USB: Type-C UARTS: UART2ÔºåUART3ÔºåUART5 I2C: I2C1 ADC: ADC1 (12S) Servo Pins: CH1-CH4 RPM Inputs: RPM_E (ESC RPM Wire)ÔºåRPM_S (External RPM Sensor) Internal Receiver: ELRS Diversity Receiver 2.4G (UART1) External Receiver: CRSF, S.BUS, F.PORT, GHOST, SUMD, SUMH, IBUS, XBUS, XBUS/RJ01, EXBUS, PPM, MSP, DSM (Needs 3.3V step down BEC module) BEC Voltage: 5-15V 5V Power Output: 5V-1.5A Dimensions: 45mm x 27mm x 14.5mm Weight: 27g Receiver specifications:‚Äã MCUÔºöESP8285 RFÔºöSX1280 LAN/PAÔºöSE2431L Active crystal oscillatorÔºöTCXO 52MHz AntennaÔºö2 sticks ipex1 200mm 2.4GHz RF frequencyÔºö2.4GHz (2400-2480GHz) Transmit powerÔºö100mW (MAX) Maximum accepted refresh rateÔºö500HZ/F1000HZ Firmware versionÔºöv3.3.2 Firmware targetÔºöFlyDragonRC 2.4 GHz / FD R24D 2.4GHz RX  ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#rotorflight-target","content":" When updating Rotorflight firmware. Please use the FLYDRAGONF722_V2_2 target.    ","version":"2.0.0","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#motorised-tail","content":" To use the Flydragon with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 C09 save    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#wiring","content":"   caution WARNING: The RPM-S Port is powered via the internal 5V supply which is also powered during USB connection. If you have any power supplies connected or innapropriate loads you are likely to damage your board. DO NOT plug in your ESCs BEC wire into here, many BECs act like a deadshort if you attempt to backfeed them and you WILL blow out the 5V supply on your board when you connect USB if you do this. Power to the rest of the ports is all common power you can connect whatever to.  ","version":"2.0.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#uart-ports","content":" UART 1 - Internal ELRS Receiver - (disable as shown below if not used)UART 2 - SBUS or FPORT connectorUART 3 - Rx and Tx on Extension portUART 5 - Rx and Tx on GPS port (can also be used for the Receiver)    ","version":"2.0.0","tagName":"h3"},{"title":"Remapping‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#remapping","content":" Several of the ports can be remapped for other purposes.  ","version":"2.0.0","tagName":"h2"},{"title":"Use RPM-E for Motor 1 RPM (default)‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#use-rpm-e-for-motor-1-rpm-default","content":" resource FREQ 1 A01 save  ","version":"2.0.0","tagName":"h3"},{"title":"Use RPM-S for Motor 1 RPM‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#use-rpm-s-for-motor-1-rpm","content":" resource FREQ 1 A15 save  ","version":"2.0.0","tagName":"h3"},{"title":"Use both RPM-E and RPM-S‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#use-both-rpm-e-and-rpm-s","content":" RPM-E port for Motor 1RPM-S port for Motor 2  resource FREQ 1 A01 resource FREQ 2 A15 save  ","version":"2.0.0","tagName":"h3"},{"title":"remap SBUS to SERVO 5‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#remap-sbus-to-servo-5","content":" resource SERIAL_RX 2 none resource SERVO 5 A03 timer A03 AF3 mixer input CH10 -1000 1000 1000 mixer rule 10 set CH10 S5 1000 0 save  ","version":"2.0.0","tagName":"h3"},{"title":"remap F.PORT to SERVO 5‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#remap-fport-to-servo-5","content":" resource SERIAL_TX 2 none resource SERVO 5 A02 timer A02 AF3 mixer input CH10 -1000 1000 1000 mixer rule 10 set CH10 S5 1000 0 save  ","version":"2.0.0","tagName":"h3"},{"title":"Can I use a receiver other than ELRS?‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#can-i-use-a-receiver-other-than-elrs","content":" External receivers can be connected to the SBUS, FPORT or any of the Extension UART ports (UART 3 or 5). If not using the inbuilt ELRS receiver it should be disabled.  ","version":"2.0.0","tagName":"h2"},{"title":"How to Enable/Disable the Internal Receiver:‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#how-to-enabledisable-the-internal-receiver","content":" The internal receiver is default turned on. When using external receivers, we need to turn it off. Connect the Flydragon F722 V2 to the Rotorflight Configurator. Go to CLI (command line) page: Command to DISABLE the receiver: set pinio_config = 1,1,1,1    Command to ENABLE the receiver: set pinio_config = 129,1,1,1    ","version":"2.0.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"flydragon2.2","url":"/docs/2.0.0/Wiki/Controllers/flydragon2.2#manuals","content":" Flydragon V2.2 Flight Controller Manual Flydragon V2 Flight Controller Manual Flydragon V2 internal ELRS Manual ","version":"2.0.0","tagName":"h2"},{"title":"Example setup - Servo tail","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/setup-examples/example-1","content":"","keywords":"","version":"2.0.0"},{"title":"Update Firmware‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#update-firmware","content":" Update the Flight Controller firmware to the current release. Follow the description on the Flashing the firmware page.  ","version":"2.0.0","tagName":"h2"},{"title":"Setup Receiver‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#setup-receiver","content":" Choose where you want to connect your receiver. Any of the UARTS or SBUS port are suitable depending on your receiver and personal preference. In this example we are using ELRS and will connect to the Port(A) which is default ELRS port.    caution Double check your wires between receiver and flight controller before powering on. Some ELRS receiver manufacturers use a different pin arrangement and connecting to your Flight controller will damage the receiver.  ","version":"2.0.0","tagName":"h2"},{"title":"Receiver - serial ports‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#receiver---serial-ports","content":" Open the configuration tab and set the serial port Port (A) to Serial_RX. Save and Reboot.    ","version":"2.0.0","tagName":"h3"},{"title":"Receiver - Rx protocol‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#receiver----rx-protocol","content":" Open the Receiver tab. Set the receiver protocol to TBS CRSF (ELRS) and the channel order to ELRS (AECR1T). Save and Reboot.    ","version":"2.0.0","tagName":"h3"},{"title":"Receiver - Check‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#receiver---check","content":" Your Receiver should now be connected and operating correctly.    ","version":"2.0.0","tagName":"h3"},{"title":"Receiver - Update firmware‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#receiver---update-firmware","content":" If you wish to update your firmware for your ELRS receiver you can now connect using ExpressLRS Configurator using the Betaflight Passthrough method.  note You will need to disconnect and close the Rotorflight Configurator and power cycle the receiver before updating your Receiver  ","version":"2.0.0","tagName":"h3"},{"title":"Receiver - Enable telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#receiver---enable-telemetry","content":" Enable telemetry back to your transmitter    ","version":"2.0.0","tagName":"h3"},{"title":"Enable ARM mode‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#enable-arm-mode","content":" Arming is an important step for Rotorflight. See the Arming setup page for more details.  ","version":"2.0.0","tagName":"h2"},{"title":"Gyro setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#gyro-setup","content":" The gyro can be put into the helicopter in many different ways. We now have to set the gyro alignment so that the gyro knows what direction it is pointing in.  ","version":"2.0.0","tagName":"h2"},{"title":"Gyro - alignment‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#gyro---alignment","content":" Check and confirm on the configuration tab that while moving your helicopter (gyro installed) that the model in the configurator moves in the same direction.    ","version":"2.0.0","tagName":"h3"},{"title":"Gyro - Calibrate accelerometer‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#gyro---calibrate-accelerometer","content":" With the flight controller installed in your Helicopter open the setup tab and click on the calibrate accelerometer    ","version":"2.0.0","tagName":"h3"},{"title":"Servo Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#servo-setup","content":" The purpose of this step is to setup and calibrate servos. On the M4 the servos are setup in the CCPM 120 degree arrangement so the servos need to be plugged in as shown below.    ","version":"2.0.0","tagName":"h2"},{"title":"Mixer Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#mixer-setup","content":" The purpose of this step is to setup and calibrate the mixer.  ","version":"2.0.0","tagName":"h2"},{"title":"Motor and ESC Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#motor-and-esc-setup","content":" ESC Throttle Protocol - The OMPHobby 65A ESC uses a PWM protocol. ESC telemetry Protocol - Set this to OMPHobby to match the ESC. RPM Sensor - The nexus has an RPM input. The Yellow RPM signal wire from the ESC is plugged into this port. Enabling this toggle enables the RPM so it can be used for the Governor and RPM Filtering Main Rotor Gear Ratio - The M4 is a direct drive Helicopter so is set to 1 / 1 Tail Rotor Gear Ratio - Counting the teeth on the M4 gears is 22 / 99 Main Motor Pole count - The M4 motor has 42 poles 42  note If your helicopter has a two stage gear train, please follow this guide    Governor Mode - Set this to &quot;Mode 1&quot;. This will control the Headspeed and provide slow spoolup. See the Govenor Modes and Governor setup for details and examples.    ","version":"2.0.0","tagName":"h2"},{"title":"Test motor and Telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#test-motor-and-telemetry","content":" Now you can check and confirm your motor runs.  caution This step MUST be done with blades off!!  Enable the motor override and slowly raise the motor override signal. The Motor should begin to spool up and RPM and other ESC telemetry should be displayed.    ","version":"2.0.0","tagName":"h2"},{"title":"Power setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#power-setup","content":" Since we now have ESC telemetry working we can enable ESC Telemetry as the Voltage and current source.   ","version":"2.0.0","tagName":"h2"},{"title":"ELRS telemetry reuse‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#elrs-telemetry-reuse","content":" The Crossfire protocol is very limited for our helicopters so this is required to get the full range of telemetry that we may wish to see. Some of the less valuable telemetry sensors have been repurposed. Please see the ELRS Telemetry Reuse page for how to set it up.  ","version":"2.0.0","tagName":"h2"},{"title":"RPM Filters‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#rpm-filters","content":" From the Gyro tab enable the RPM filters and accept the default.    ","version":"2.0.0","tagName":"h2"},{"title":"Rates‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#rates","content":" Review and modify your Rates to taste.    ","version":"2.0.0","tagName":"h2"},{"title":"Pre-flight test‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/2.0.0/Wiki/setup-examples/example-1#pre-flight-test","content":" Check and confirm all your controls are functioning. Pay particular attention to:  When connected to the configurator the model moves in the same way as the real helicopter (tilt forward/backward, sideways and yaw).Tx stick forward, helicopter swash pitched down ","version":"2.0.0","tagName":"h2"},{"title":"Arming","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/arming","content":"","keywords":"","version":"2.0.0"},{"title":"Transmitter configuration‚Äã","type":1,"pageTitle":"Arming","url":"/docs/2.0.0/Wiki/Tutorial-Setup/arming#transmitter-configuration","content":" The transmitter simply needs a channel that switches between Low (disarmed) and High (Armed). This can be any switch; however, it is preferable that it is not easy to accidentally switch in flight.  ELRS Arming Channel For ELRS receivers - Put your arm switch on AUX1, and set it as 1000 is disarmed, 2000 is armed. Please read ELRS switch configs and Arming for more details  For EdgeTx this would look like this:    This simply switches the Arm channel (CH5/Aux1) from 0% (1000us) to 100% (2000us).    ","version":"2.0.0","tagName":"h2"},{"title":"Flight Controller configuration‚Äã","type":1,"pageTitle":"Arming","url":"/docs/2.0.0/Wiki/Tutorial-Setup/arming#flight-controller-configuration","content":" As shown in the video below: 1. Open the Modes tab 2. Set the channel to match your switch (in this case AUX1) 3. Drag the sliders to the top end of the channel 4. Save 5. Toggle the chanel and watch the red indicator pip move. When it is inside the upper range the ARM box turns red. Note - The box shows as &quot;(Disabled)&quot; because it is connected to the Configurator.    ","version":"2.0.0","tagName":"h2"},{"title":"Arming Disable flags‚Äã","type":1,"pageTitle":"Arming","url":"/docs/2.0.0/Wiki/Tutorial-Setup/arming#arming-disable-flags","content":" The Arming disable flags are a list of issues that could be preventing your helicopter from Arming. These are things like Gyro not configured, Receiver fail ot throttle not at minimum. Please see the list below for details of each flag and how to fix it.  There are several ways to identify what is preventing your helicopter from Arming. You can view the Arming disable flags from the configurator or on the transmitter (if you have a transmitter with Rotorflight Lua scripts).  info ConfiguratorEdgeTX LuaEthos Lua Configurator‚Äã The Arming disable flags are displayed on the Status tab. Disable flag MSP means you are connected to the configurator. You can enable arming while connected to the configurator by the selecting the enable arming toggle. WARNING this should only be done with blades off!!  ","version":"2.0.0","tagName":"h2"},{"title":"Disable flags description‚Äã","type":1,"pageTitle":"Arming","url":"/docs/2.0.0/Wiki/Tutorial-Setup/arming#disable-flags-description","content":" Disable Flag\tDescription'NOGYRO'\tGyro was not detected 'FAILSAFE'\tFailsafe is active 'RXLOSS'\tRX is in Failsafe. No valid receiver signal is detected. 'BADRX'\tYour receiver has just recovered from receiver failsafe but the arm switch is on 'BOXFAILSAFE'\tYou have enabled Failsafe in the Modes and it is currently active. 'RUNAWAY'\tRunway Takeoff Prevention has been triggered. Disarm then re-arm to clear this condition. 'CRASH'\tCrash Recovery has been triggered. Disarm then re-arm to clear this condition. \\ 'GOVERNOR'\tGovernor enabled but no valid 'fast' RPM source (RPM frequency input or bi-directional D-shot) OR Gove mode 2 and no Voltage input configured. 'THROTTLE'\tLower throttle below Throttle Channel value for arming 'ANGLE'\tCraft is not level. Level craft to within (default) 25 degrees. 'BOOTGRACE'\tArming too soon after power on. Turn off Arm; pause, then Arm again. 'NOPREARM'\tPrearm switch has been set-up but is not activated or prearm has not been toggled after disarm 'LOAD'\tSystem load is too high. This may happen with some low spec boards. Reduce the PID loop frequency and/or number of filters 'CALIB'\tSensor calibration is still ongoing. Wait for sensor calibration to complete. 'CLI'\tCLI is active. Exit the CLI. 'CMS'\tCMS (config menu) is Active - over OSD or other display. Exit the CMS (or OSD menu). 'BST'\tA Black Sheep Telemetry device (TBS Core Pro for example) disarmed and is preventing arming. Refer to the manual for your hardware. 'MSP'\tMSP connection is active, probably via Rotorflight Configurator. Terminate the Rotorflight Configurator connection (disconnect). Note - you would expect this flag if you are looking at the Arm disable flags on the Status tab. 'PARALYZE'\tParalyze Mode has been configured and is currently active. Power cycle/reset FC board. 'GPS'\tGPS rescue mode is configured but required number of satellites has not been fixed. Wait for GPS fix, enable arming without GPS fix, or disable GPS rescue mode. Note - Rotorflight GPS rescue is not functional so should not be configured. 'RESCUE_SW'\tRescue mode has been configured and is currently Active. Switch off rescue mode and toggle the Arm switch. 'RPMFILTER'\tRPM-based filtering is enabled but one or more ESC's are not configured or receiving valid RPM signals. RPM feedback can be from bi-directional Dshot or Frequency inputs using the ESC RPM signal or an external RPM sensor. See RPM Measurement for more details. 'REBOOT_REQD'\tReboot required. Settings have been changed and the flight controller requires a Reboot for the settings changes to take effect. 'DSHOT_BBANG'\tDSHOT Bitbang is not working. Check configuration of timers and DMA for your controller. Generally Dshot Bitbang is not required for Rotorflight so try set dshot_bitbang = OFF in the CLI 'NO_ACC_CAL'\tAccelerometer calibration required. Calibrate the accelerometer or disable features that use it (e.g. Rescue, Horizon, Angle modes etc). 'MOTOR_PROTO'\tESC/Motor Protocol not configured. Select the ESC/Motor protocol to use on the Configuration tab. 'ARMSWITCH'\tArm switch is in an unsafe position. Toggle the arm switch to arm. ","version":"2.0.0","tagName":"h2"},{"title":"Backup and restore","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore","content":"","keywords":"","version":"2.0.0"},{"title":"Back up the configuration‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#back-up-the-configuration","content":" Backups of your Rotorflight configuration can be taken in order to restore a controller to a previous state, in the event of a failure, or to duplicate your controller to use on another helicopter. Also it is advised that a backup is taken of the original Betaflight pre-loaded configuration before loading Rotorflight.  ","version":"2.0.0","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#step-1","content":"   Open Rotorflight Configurator and [Connect]. If the board is new and as supplied with Betaflight a warning message will pop up saying the &quot;firmware version is not supported&quot;. This means that the board currently does not have Rotorflight loaded so it can be safely ignored. Rotorflight configurator will now open in CLI mode. If you are backing up your config after having already configured your helicopter you will need to click on the CLI tab from the left hand side of the page to open the CLI interface.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#step-2","content":" Choose what you want to back up. There are several options.  dumpThis command dumps all of the hardware and software configuration.diffdiff will download any configuration that is not equal to the custom defaults for that board. Things like your ESC protocol, RX type etc. This file is very small.dump allDump all downloads all hardware and software the same as the dump command; however, it also includes all rate profiles.dump hardwareDump hardware will download all of the hardware config. This is information like the pin assignments and board specific information (gyro bus address etc).  ","version":"2.0.0","tagName":"h3"},{"title":"Step 3.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#step-3","content":"   Click on [Clear output window].Type the backup command (from step 2) in the window and click [ENTER].  ","version":"2.0.0","tagName":"h3"},{"title":"Step 4.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#step-4","content":"   After the command is complete click [Save to File] and store on your computer.  ","version":"2.0.0","tagName":"h3"},{"title":"Load/Restore Config‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#loadrestore-config","content":" Use this process to load remapping config files for your specific flight controller if available. You can also restore config files to your flight controller you have previously saved or have been shared by other users.  ","version":"2.0.0","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#step-1-1","content":"   Open the CLI tab and click [Load from File] and select the file on your computer.Click on the [Execute] from the pop up.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Backup-and-restore#step-2-1","content":"   Once the backup is loaded type save in the command line and [ENTER]. The flight controller will now reboot. ","version":"2.0.0","tagName":"h3"},{"title":"ESC Telemetry","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/ESC-Telemetry","content":"","keywords":"","version":"2.0.0"},{"title":"Select Serial Port‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/2.0.0/Wiki/Tutorial-Setup/ESC-Telemetry#select-serial-port","content":" The ESC telemetry pin TX needs to be connected to a spare UART RX.  Select the UART from the Configuration page.    ","version":"2.0.0","tagName":"h3"},{"title":"Select the Protocol‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/2.0.0/Wiki/Tutorial-Setup/ESC-Telemetry#select-the-protocol","content":" Select the correct ESC telemetry protocol based on the one you are using.    For Hobbywing V4Additional parameters are provided for the voltage and current gains, and zero offsets.  set esc_sensor_hw4_voltage_gain = 0set esc_sensor_hw4_current_gain = 0set esc_sensor_hw4_current_offset = 0  These parameters are set to zero by default to enable the Auto-Calculation within the firmware. If you wish to fine tune the voltage and current you can use the below values as a starting point.  Model\tVoltage gain\tCurrent gain\tCurrent offsetPlatinum LV 60A\t109\t0\t0 Platinum LV 80A\t109\t146\t409 Platinum LV 120A\t109\t110\t377 Platinum HV 130A\t210\t157\t0 Platinum HV 200A\t210\t157\t477 FlyFun HV 160A\t210\t66\t381  ","version":"2.0.0","tagName":"h3"},{"title":"Power Config‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/2.0.0/Wiki/Tutorial-Setup/ESC-Telemetry#power-config","content":" Enable the Voltage and Current from the Power Tab.   ","version":"2.0.0","tagName":"h3"},{"title":"Flashing Blheli_S ESC to Bluejay firmware","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Blheli_s-to-Bluejay","content":"","keywords":"","version":"2.0.0"},{"title":"Bluejay Configurator web page‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Blheli_s-to-Bluejay#bluejay-configurator-web-page","content":" Bluejay can be flashed via the web page application at https://esc-configurator.com/  ","version":"2.0.0","tagName":"h2"},{"title":"step 1.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Blheli_s-to-Bluejay#step-1","content":" Click on settings and check the &quot;Disable common settings&quot;. This enables different settings to be loaded to each ESC which is required so we can change the settings between the main and tail motors.    ","version":"2.0.0","tagName":"h3"},{"title":"step 2.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Blheli_s-to-Bluejay#step-2","content":" From the top right corner click on [Connect]. Power up the ESC with the flight pack and click on [Read Setup].    ","version":"2.0.0","tagName":"h3"},{"title":"step 3.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Blheli_s-to-Bluejay#step-3","content":" Click on [Flash all]  ","version":"2.0.0","tagName":"h3"},{"title":"step 4.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Blheli_s-to-Bluejay#step-4","content":" From the config dropdown chose:  Firmware = BluejayESC = Leave this as you find it. This is specific to your ESC typeVersion = Choose the latest version.PWM Frequency = 24kHz Smaller motors can use higher frequencies due to their very low inductance. Most helicopters 24kHz is suitable however helicopters with very small tail rotors (k110) you can use higher frequencies.  Click on [Flash] to load the new firmware.    ","version":"2.0.0","tagName":"h3"},{"title":"step 5.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Blheli_s-to-Bluejay#step-5","content":" After flashing has completed Click on [Read setup].  On both the tail and Main motors deselect &quot;Brake on stop&quot;On the Main motor slide the &quot;Maximum Braking Strength&quot; to 0. This will disable the Complimentary PWM (Damped Light Mode). This needs to be left active on the Tail motor.  Click the [Write Setup] to complete the setup.   ","version":"2.0.0","tagName":"h3"},{"title":"Adding an extra servo","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Extra-servo","content":"","keywords":"","version":"2.0.0"},{"title":"Add an extra servo controlled by an AUX channel.‚Äã","type":1,"pageTitle":"Adding an extra servo","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Extra-servo#add-an-extra-servo-controlled-by-an-aux-channel","content":" note Sometimes we may wish to add an extra servo to our helicopter to be controlled by our Tx for something like retracts on a scale machine or a camera etc. This can be done using the remapping spreadsheet. In the example below we will add Servo 5 to be controlled by the AUX 3 channel.  Step 1: Assign the servo to your chosen pin. In the pic below we have assigned Servo 5 to Serial Rx 2.    Step 2: Assign the timer to your new servo. This timer cannot clash with motors, frequency or LED_STRIP. They can be assigned to the same timer as one of your other servos; however, it then will need to be set to the same frequency (e.g. if one is set to 333Hz they will both need to be set to 333Hz). If it can be assigned to a totally different timer then you can assign whatever frequency you like.    Step 3: In the 'Advanced' section assign your AUX channel to servo 5 and then select and copy the mixer config displayed.    Step 4: Open the configurator and go to the CLI page. Paste the config from the mixer into the command line and click [ENTER]. Type save and click [ENTER].   ","version":"2.0.0","tagName":"h2"},{"title":"ELRS Telemetry Reuse","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/ELRS-telemetry-reuse","content":"ELRS Telemetry Reuse The Crossfire Protocol (CRSF) used by ELRS does not include the full range of sensors that can be useful for rotorflight. Crossfire was specifically designed for Drones, which generally have different parameters that are useful to the pilot. As a temporary fix for this issue a series of telemetry items that are currently transferred to the transmitter can be re-used to transfer information we would rather see. There are four messages that can be chosen, each with a variety of telemetry sensor options. Flight modeset crsf_flight_mode_reuse = [OPTION] [Option] Allowed values: NONE, GOVERNOR, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGE, ADJFUNC, GOV_ADJFUNCPitch attitudeset crsf_att_pitch_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGERoll attitudeset crsf_att_roll_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGEYaw positionset crsf_att_yaw_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGEGPS Headingset crsf_gps_heading_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Ground Speedset crsf_gps_ground_speed_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Altitudeset crsf_gps_altitude_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Satsset crsf_gps_sats_reuse = [OPTION] [Option] Allowed values: NONE, ESC_TEMP, MCU_TEMP, PROFILE, RATE_PROFILE, LED_PROFILE This tutorial will guide you through the process of re-using/transforming the unused ELRS sensor into a more useful Rotorflight sensors. The following procedure will allow you to get the following telemetry sensors on your radio, these sensors are: Flight/Governor status and adjustment functionsBEC VoltageVBUS(5V) VoltageReal time controller loadThrottleESC TemperatureHeadspeedMCU Temperature To begin: Enable Telemetry. If you have not done so already enable the telemetry toggle on the receiver tab. Enable each of the telemetry messages that you wish to 'reuse'. Enter CLI tab, copy and paste the below commands, then type save and hit enter. set crsf_flight_mode_reuse = GOV_ADJFUNC set crsf_att_pitch_reuse = BEC_VOLTAGE set crsf_att_roll_reuse = BUS_VOLTAGE set crsf_att_yaw_reuse = RT_LOAD set crsf_gps_heading_reuse = THROTTLE set crsf_gps_ground_speed_reuse = ESC_TEMP set crsf_gps_altitude_reuse = HEADSPEED set crsf_gps_sats_reuse = MCU_TEMP Next, go to your radio telemetry page and discover new sensors. You should see eight sensors, called: FM, Ptch, Roll, Yaw, Hdg, Gspd, Alt, Sats These sensors will be transformed to the following sensors respectively: FM, Bec Voltage, VBus Voltage , Real Time Load, Throttle, ESC Temperature, Headspeed, MCU Temperature Copy the sensors from Ptch to Sats Rename the sensors and modify the Unit, Precision, and ratio as per the below pictures. For Ptch‚Äã For Roll‚Äã For Yaw‚Äã For Hdg‚Äã For Gspd‚Äã For Alt‚Äã For Sats‚Äã After you finish you will see the new sensors in your telemetry page as per below. You can use these new sensors to monitor your heli and create useful alarms and warnings.","keywords":"","version":"2.0.0"},{"title":"Flashing the firmware","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware","content":"","keywords":"","version":"2.0.0"},{"title":"Install Rotorflight Configurator‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#install-rotorflight-configurator","content":" Start by downloading and installing the latest Rotorflight Configurator release.  This walk-through uses Windows, but it should also work on Linux or macOS.  ","version":"2.0.0","tagName":"h2"},{"title":"Install Drivers‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#install-drivers","content":" On Windows, install the STM USB VCP Drivers from the links on the Rotorflight Configurator page.  ","version":"2.0.0","tagName":"h2"},{"title":"Back up Betaflight Config‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#back-up-betaflight-config","content":" Rotorflight is based on Betaflight and uses the Betaflight configuration as its base. You should make a copy of the configuration that the flight controller (FC) shipped with. Back up the Betaflight configuration as shown in Back up and restore.  ","version":"2.0.0","tagName":"h2"},{"title":"Flash Firmware to FC‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#flash-firmware-to-fc","content":" Connect the FC to your computer with an USB data cable. Now you are ready to install the Rotorflight firmware to your FC. There are five different versions of the firmware, each version targeting a specific microprocessor: F405, F411, F7X2, F745, and H743. Your FC must use one of those processors. Besides firmware, each FC has it's own configuration. The configuration specifies the FC board, e.g. what pads are used for what.  ","version":"2.0.0","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#step-1","content":" Identify the Betaflight target. This can be found in the dump file specified by board_name saved in your backup or on the manufacturers website.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#step-2","content":" Open the Rotorflight configurator and click on Update Firmware.  Choose Releases from the dropdown. Note: Snapshots are for development and testing purposes only. They may contain bugs!!Select the Target you identified in Step 1. You can also click on the &quot;detect&quot; button to auto detect the target.Select Full chip Erase, this will remove all previous configurations.Click on Load firmware[online]    ","version":"2.0.0","tagName":"h3"},{"title":"Step 3.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#step-3","content":" Check and confirm the target board is correct.Click on Flash Firmware.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 4.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#step-4","content":" When the programming is successful click on Connect.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 5.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#step-5","content":" Configure the pin remapping. If you are using a commercial Rotorflight controller (NEXUS, Flydragon, Flywing, MatekG474 etc) this step is not required. These boards are configured with the required servos etc already.  If building a custom controller you will need to apply the remapping config to add your servos and motors. Please see the Remapping page for details on how to use the Custom defaults remapping spreadsheet.  ","version":"2.0.0","tagName":"h3"},{"title":"Troubleshooting‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Flashing-the-firmware#troubleshooting","content":" 'Initiating reboot to bootloader' hangs If you're on Windows and it hangs while displaying Initiating reboot to bootloader, you'll need to install the proper driver for the STM32 BOOTLOADER device.  Make sure the device STM32 BOOTLOADER is installed and showing up in the Device Manager, either under Other Devices or under Universal Serial Bus devices. Select View &gt; Show Hidden Devices in order to see all installed devices.  You might need to uninstall all STM Device in DFU Mode devices under Universal Serial Bus Controllers before Windows will install the STM32 BOOTLOADER device. Make sure to check Delete the driver software for this device.  In the Configurator, go to the CLI and type dfu. This puts the FC in Device Firmware Update mode.  Start Zadig (see download link on the Welcome tab in the Configurator), select Options &gt; List all Devices, select STM32 BOOTLOADER and change the driver to WinUSB. Flash firmware should now work.    Error 'Rebooting device to bootloader: FAILED' If you receive the error Rebooting device to bootloader: FAILED then you will need to manually place the FC into bootloader mode. Do this by holding down the BOOT button while connecting it to your computer.  Help... that didn't work. Its bricked! Ok, so after rebooting you are no longer able to connect to the FC via USB. This can happen if your configuration file is not correct (USB becomes unallocated) or if you have loaded the incorrect firmware for the processor type. Don't worry: the bootloader can't be bricked, it's in ROM. You can always reload the firmware via the DFU (device firmware update) mode. Most flight controllers have a 'boot' button or pins which are used to enter DFU mode. Generally you can just enter DFU mode by pushing the button or bridging the boot pins as you plug the USB in (while the Rotorflight Configurator is open).    Rotorflight Configurator will display DFU - STM32 BOOTLOADER at the top of the page after a successful DFU connection. Click on the Update Firmware and follow the steps above to re-flash the firmware as required.    If you still having problem connecting to the MCU, install the Impulse-RC Driver Fixer. ","version":"2.0.0","tagName":"h2"},{"title":"Getting Started","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Getting-Started","content":"Getting Started Install the latest RF2 releaseRemap your servos and motors if you are using a Betaflight FC, otherwise, skip this step.Calibrate the Accelerometer.Check you Board alignment setting and adjust if necessary.Connect Receiver to a free UART and select corresponding receiver settings.Select Battery Voltage and Current Source as per you setup, and Set Battery Capacity and Cell Count.Select ESC Throttle protocol, and Optional: ESC Telemetry protocol, Set Gear Ratios, and Motor Pole Count.Optional: Select and Setup the Governor.Setup Servos.Setup and Calibrate the Mixer.Setup the Gyro RPM Filters.Set the Rates as per flying style.Set the PID Values.Setup ARMING, and other required MODES.Setup Profile Switching and other Adjustments if required.Setup BLACKBOX Logging.Optional: Setup LUA Script on radio.","keywords":"","version":"2.0.0"},{"title":"Governor","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor","content":"","keywords":"","version":"2.0.0"},{"title":"Governor Mode‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#governor-mode","content":" The governor has multiple operating modes, each using a slightly different method for the throttle control in the PID loop. Select a mode from one of the values below.    ","version":"2.0.0","tagName":"h2"},{"title":"OFF‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#off","content":" The governor is disabled, and the stabilized throttle output ST is taken from the receiver throttle channel.  ","version":"2.0.0","tagName":"h3"},{"title":"PASSTHROUGH‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#passthrough","content":" The governor does not control the headspeed, but provides all the aux functions, like slow spool up, autorotation bailout, and error recovery. In the active state, the receiver throttle channel is directly passed through to the stabilized throttle output ST.  ","version":"2.0.0","tagName":"h3"},{"title":"STANDARD‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#standard","content":" The governor is stabilizing the headspeed with a standard PID control, similar to most ESCs. All aux functions are also active.  ","version":"2.0.0","tagName":"h3"},{"title":"MODE1‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#mode1","content":" Like STANDARD, but with collective/cyclic precompensation. This is similar to governors in most FBL systems.  ","version":"2.0.0","tagName":"h3"},{"title":"MODE2‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#mode2","content":" Like MODE1, but with battery voltage compensation. The PID loop does not need to react to battery voltage fluctuations, as it is taken into account outside the PID loop. This is usually the best choice. Can be used only if the battery voltage is connected to the FC.  ","version":"2.0.0","tagName":"h3"},{"title":"Governor Basic Settings‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#governor-basic-settings","content":"   In order to use the governor you must first configure the ESC/Motor features. This defines the motor telemetry (for RPM feedback) and gear ratios for your helicopter which lets the flight controller know how fast the rotor is spinning.  ","version":"2.0.0","tagName":"h2"},{"title":"Handover throttle‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#handover-throttle","content":" The throttle level above which the governor is activated. Below this level the input throttle is passed to the ESC, above this level the governor is enabled and the input throttle is used for calculating the target headspeed. The motor must be able to start below this throttle level.  ","version":"2.0.0","tagName":"h3"},{"title":"Startup time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#startup-time","content":" startup time is applied before the RPM is detected. Some ESCs require really slow startup ramp to be gentle. Some other ESCs need really rapid start for starting at all.  ","version":"2.0.0","tagName":"h3"},{"title":"Spoolup time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#spoolup-time","content":" This is an acceleration limit (in seconds) used for spooling up (After a valid rpm signal has been detected). It sets the acceleration limit that is equivalent to total time for spooling up from zero to full headspeed. For example, with a value of 10 and full headspeed of 3000rpm, the main rotor would take 10s to reach 3000rpm.  ","version":"2.0.0","tagName":"h3"},{"title":"Tracking time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#tracking-time","content":" Acceleration limit (in seconds) for normal operation. This occurs when the requested headspeed command changes while the governor is in the active state. This parameter limits the rpm change speed (acceleration). For example, when set to a value of 10 (which is 10s to ramp 0-100%). If hovering in Normal mode at 1500rpm (50% throttle) and then switching to Idl3 of 3000rpm (100% throttle) the Governor would ramp over 5s. Typical value is 5..20.  ","version":"2.0.0","tagName":"h3"},{"title":"Recovery time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#recovery-time","content":" Acceleration limit (in seconds) for error recovery. When the governor is recovering from lost headspeed or lost throttle signal, this is the max acceleration for the following (faster) spoolup.  ","version":"2.0.0","tagName":"h3"},{"title":"Autorotation bailout time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#autorotation-bailout-time","content":" Acceleration limit (in seconds) for autorotation bailout. When the governor is spooling up from autorotation, it is limiting the spoolup speed with this parameter.  ","version":"2.0.0","tagName":"h3"},{"title":"Autorotation timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#autorotation-timeout","content":" In the autorotation state, if high throttle returns before this timeout expires, the spoolup is done with bailout acceleration. After the expiration, the governor enters the idle state, and any subsequent spoolup is slow.  ","version":"2.0.0","tagName":"h3"},{"title":"Autorotation minimum entry time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#autorotation-minimum-entry-time","content":" Minimum flight time before Autorotation can be engaged.  ","version":"2.0.0","tagName":"h3"},{"title":"Zero Throttle Timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#zero-throttle-timeout","content":" When the throttle input (from receiver) goes to zero, the governor enters an intermediate state where it is waiting for the throttle to return. If the throttle returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters off state, and any future spoolup will be slow.  note The purpose of this feature is to allow fast spoolup in case the throttle cut (hold) is hit accidentally. If high throttle is returned very soon after, the heli will spool up quickly and hopefully keep on flying. Unit is 0.1s. Typical value is 5..50.  ","version":"2.0.0","tagName":"h3"},{"title":"Headspeed Signal Timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#headspeed-signal-timeout","content":" If the headspeed rpm signal is lost, the governor enters an intermediate state where it is waiting for the rpm signal to return. If the signal returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters the idle state, and any future spoolup would happen with the default (slow) spoolup acceleration. Unit is 0.1s. Typical value is 5..50.  ","version":"2.0.0","tagName":"h3"},{"title":"Headspeed Filter Cutoff [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#headspeed-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The RPM input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"2.0.0","tagName":"h3"},{"title":"Battery Voltage Filter Cutoff [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#battery-voltage-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The Battery voltage input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"2.0.0","tagName":"h3"},{"title":"TTA Bandwidth [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#tta-bandwidth-hz","content":" Cutoff for the TTA (Torque Tail Assist) lowpass filter.  ","version":"2.0.0","tagName":"h3"},{"title":"Precomp Bandwidth [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#precomp-bandwidth-hz","content":" Cutoff for the cyclic/collective precompensation lowpass filter.  ","version":"2.0.0","tagName":"h3"},{"title":"Governor Profiles Settings‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#governor-profiles-settings","content":" These settings are set from the Profiles Tab. If desired, individual Profiles can be configured via the Adjustments Tab. This enables individual flight modes to have separate tuning and configuration set for each flight mode. (similar to 'Bank Switching').    ","version":"2.0.0","tagName":"h2"},{"title":"Full Headspeed‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#full-headspeed","content":" This is the highest headspeed that the governor would ever try to maintain, when the throttle input is at 100%.  ","version":"2.0.0","tagName":"h3"},{"title":"Maximum Throttle‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#maximum-throttle","content":" Maximum output throttle the governor is allowed to use.  ","version":"2.0.0","tagName":"h3"},{"title":"PID Master Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#pid-master-gain","content":" Master gain multiplier  ","version":"2.0.0","tagName":"h3"},{"title":"P-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#p-gain","content":" Governor Proportional gain  ","version":"2.0.0","tagName":"h3"},{"title":"I-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#i-gain","content":" Governor Integral gain  ","version":"2.0.0","tagName":"h3"},{"title":"D-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#d-gain","content":" Governor Derivative gain  ","version":"2.0.0","tagName":"h3"},{"title":"Feedforward-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#feedforward-gain","content":" Governor Feedforward gain  ","version":"2.0.0","tagName":"h3"},{"title":"Yaw precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#yaw-precompensation","content":" Yaw precompensation weight. Determines how much yaw is mixed into the feed forward. This helps the governor to maintain the headspeed proactively. Usually 20..100  ","version":"2.0.0","tagName":"h3"},{"title":"Cyclic precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#cyclic-precompensation","content":" Cyclic precompensation weight. Increasing the cyclic increases load on the rotor and causes it to slow down. This setting determines how much cyclic is mixed into the governor feedforward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"2.0.0","tagName":"h3"},{"title":"Collective precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#collective-precompensation","content":" Collective precompensation weight. Increasing the collective increases load on the rotor and causes it to slow down. This setting determines how much collective is mixed into the governor feedfoward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"2.0.0","tagName":"h3"},{"title":"Governor throttle input ranges‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#governor-throttle-input-ranges","content":" With the governor feature activated, the transmitter throttle channel is controlling the governor, rather than the ESC directly.  Depending in which range the throttle value falls into, the governor will function differently.  ","version":"2.0.0","tagName":"h2"},{"title":"THROTTLE < 0%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#throttle--0","content":" This throttle value indicates throttle hold (throttle cut) condition. It's guaranteed that all motors are stopped immediately. The throttle output from the governor is guaranteed to be zero.  note Make sure your transmitter is sending a value lower than 0% when throttle hold is activated. Throttle hold SHOULD NOT be used for autorotation.  ","version":"2.0.0","tagName":"h3"},{"title":"0% < THROTTLE < 5%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#0--throttle--5","content":" In this range, the governor is in idle or autorotation state, and the output is zero - the main motor is stopped.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor stopped, use this range!  ","version":"2.0.0","tagName":"h3"},{"title":"5% < THROTTLE < Handover throttle%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#5--throttle--handover-throttle","content":" In this range, the governor is in idle or autorotation state, and the output is in 0% - H.Thr%, increasing linearly through the range.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor running, use this range!  ","version":"2.0.0","tagName":"h3"},{"title":"Handover throttle% < THROTTLE < 100%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#handover-throttle--throttle--100","content":" In this range, the governor is in active state, and the requested rpm is Handover throttle%..100% of the gov_headspeed.  ","version":"2.0.0","tagName":"h3"},{"title":"Governor State‚Äã","type":1,"pageTitle":"Governor","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Governor#governor-state","content":" The governor internal state can be observed in the blackbox log. It is a good indication on what the governor is trying to do.  OFF The governor is disabled and the throttle output is zero.  IDLE The governor is idle, because the input throttle is in the idle range. The throttle output is as described above - 0..10%.  SPOOLING_UP The input throttle has transitioned from low to high, and the governor is spooling up slowly.  ACTIVE The governor has reached the target headspeed and is actively maintaining it.  LOST_THROTTLE The throttle signal has suddenly dropped from high to low. If the throttle returns quickly, a recovery spoolup is performed. This state is for convenience, when the pilot accidentally hits throttle hold, and then realizes the mistake.  LOST_HEADSPEED The RPM input signal is lost. The governor will wait for a little while for the signal to return, before spooling down. It the signal returns quickly, a recovery spoolup is performed.  RECOVERY The governor is performing a recovery spoolup after one of the conditions above.  AUTOROTATION The throttle has dropped from high to the autorotation range. The governor is expecting the throttle to return once the autorotation has been performed. Once the throttle return, the governor moves to the state below.  AUTOROTATION_BAILOUT Throttle has returned while in AutoRotation state, and the governor is performing an autorotation bailout. ","version":"2.0.0","tagName":"h2"},{"title":"Governor setup","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/governor-setup","content":"Governor setup There are several options for configuring the Governor. Governor Options Option 1Option 2 Single profile - Multiple throttle settings‚Äã Configuring a single profile with Full Headspeed set to the Maximum desired headspeed. Transmitter throttle settings are configured to Separate throttle positions for each desired headspeed. Example: If we configure a 2500RPM Full headspeed On the transmitter set the required headspeeds. Throttle Hold = 0%Idle up 1 = 70% = 2500 * 0.7 = 1750 RPM headspeedIdle up 2 = 90% = 2500 * 0.9 = 2250 RPM headspeedIdle up 3 = 100% = 2500 RPM Headspeed This Method is easier to configure and simplifies the tuning as there is only one profile to change. You will have to tune so that it is suitable for each of the headspeed.","keywords":"","version":"2.0.0"},{"title":"Getting started with LEDs","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction to LED strips‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#introduction-to-led-strips","content":" Rotorflight supports up to 32 individually addressable WS2811/2812 RGB LEDs. You can control them with just one data pin, and set the brightness and color of each LED individually. LEDs can have different functions, for example display a color, visualize warnings or battery state, or just blink. This walk-through will show you how to set up a simple LED strip with some scale lights.    Each LED has 4 pins: 5V, ground, data in and data out. The FC should be connected to data in of the first LED. Data out of the first LED should be connected to data in of the second LED. And the data out of the second LED should again be connected to data in of the third LED. And so on.  There are ready made WS2812 strips with 30, 60 or 144 LEDs per meter. That's great for testing or maybe on the boom for some night flying, but there are also more conventional WS2811 5mm and 8mm LEDs available. Those are more suited for scale lighting.  There are quite a lot of tutorials/videos for Betaflight, and Rotorflight supports all the functions of Betaflight 4.3. In addition, Rotorflight supports scale lights, with which you can program anti-collision lights, strobe lights or landing lights. Here we'll focus on those scale lights.  ","version":"2.0.0","tagName":"h2"},{"title":"Create a LED_STRIP resource‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#create-a-led_strip-resource","content":" In order to use a LED strip, you'll need a LED_STRIP resource to which you can connect your LEDs. A LED_STRIP resource requires a timer and DMA should be enabled.  Some FCs might already have a LED_STRIP resource and then you can just use that pin. But if you want to use another pin on your FC, or if your FC doesn't have a LED_STRIP resource, you'll need to do some resource remapping. For this walk-through I'm going to use the Radiomaster Nexus, so go to the CLI and remap TX6 to LED_STRIP.  Now go to the Configuration tab and enable LED_STRIP under Features. Press Save and reboot.  ","version":"2.0.0","tagName":"h2"},{"title":"Testing hardware‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#testing-hardware","content":" A piece of LED strip is ideal for testing. I'll be using one with 3 LEDs connected to Port B on the Nexus. Wiring is simple: just connect 5V, ground and LED_STRIP (formerly known as TX6) to the strip.    ","version":"2.0.0","tagName":"h2"},{"title":"The LED Strip tab‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#the-led-strip-tab","content":" Now go to the LED Strip tab. Note that this tab will only be visible if you have the LED_STRIP feature enabled under Configuration.  We're going to define:  a green navigation light that also functions as a strobea red ACL light that slowly blinksa white landing light that can be operated from the TX.  Connect the Nexus to the Configurator using USB. 5V will now be available on port A, B and C. If you're using many LEDs, consider using an external 5V power supply.  ","version":"2.0.0","tagName":"h2"},{"title":"Define the 3 LEDs‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#define-the-3-leds","content":" Click on Wire Ordering Mode. The 16x16 matrix will become greenish.Select a square in the matrix. A '0' should now be displayed in it.Select Color as FunctionNow select another square in the matrix. A '1' should now be displayed in it.Select Color again as FunctionSelect yet another square in the matrix. A '2' should now be displayed in it.Select Color as FunctionPress Save  Your screen might now look like this, although the actual position of the three squares will likely be different:    ","version":"2.0.0","tagName":"h3"},{"title":"Create the green navigation light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#create-the-green-navigation-light","content":" Select the square with '0' in itIn the color palette, left-click on green. The LED should now light up.If you find the LED too bright, adjust the overall LED brightness under LED Strip Global SettingsEnable Blink and set one checkmark. The LED wil now shortly turn off (=black).In the color palette, right-click on white. Now the LED will shortly flash a white light.Press Save  ","version":"2.0.0","tagName":"h3"},{"title":"Create the red anti-collision light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#create-the-red-anti-collision-light","content":" Select the square with '1' in itSelect Blink and set some check marks next to each otherRight-click the red color. The second LED should now flash redPress Save  ","version":"2.0.0","tagName":"h3"},{"title":"Create the white landing light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#create-the-white-landing-light","content":" Select the square with '2' in itEnable the Fade to alt color featureLeft-click white. The LED should now light upSelect Status Alt next to Profile, under LED Strip Global Settings. The LED should now dim.Set Fade rate to 10 to dim slowlyPress SaveYou can use Adjustments to switch the LED profile from your transmitter. It might look something like:    Here's another video showing the techniques used in this Quick Start on a Walkera 4F200LM, for which I used two 3mm and four 5mm LEDs.    ","version":"2.0.0","tagName":"h3"},{"title":"Molex PicoBlade bus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#molex-picoblade-bus","content":" Here's a simple bus system for connecting individual LEDs using 4-pin Molex PicoBlade connectors. It can be used for connecting individual WS2811/2812 LEDs as well as conventional LEDs.    Conventional LEDs should come after the WS2811/2812 LEDs since they don't support data in and data out. Also, you can use 2-pin PicoBlade connectors for them.  ","version":"2.0.0","tagName":"h2"},{"title":"Building the PicoBlade bus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#building-the-picoblade-bus","content":" Glue some 4-pin PicoBlade headers togetherBend the pins for 5V and GND so they form two railsCarefully solder the 5V and GND railsBend the data out pin of the first header to the data in pin of the second header and repeatSolder the data out pins to the next data in pinsConnect wires for 5V, GND and data in to the busIsolate the bottom of the bus with hot glue or epoxyConnect the bus to the FC    ","version":"2.0.0","tagName":"h3"},{"title":"Remapping to LED_STRIP‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#remapping-to-led_strip","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Radiomaster Nexus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#radiomaster-nexus","content":" On the Nexus Port B is the best choice for creating a LED_STRIP resource. Port B provides RX6 and TX6 by default. To remap TX6 to LED_STRIP, enter the following in the CLI:  resource SERIAL_TX 6 NONE resource LED_STRIP 1 C07 timer C07 AF3 # TIM8, default is also AF3 dma pin C07 0 # default is NONE save   Note that although we remapped TX6, RX6 is still there and functional.  Alternatively you can remap RX6 to LED_STRIP:  resource SERIAL_RX 6 NONE resource LED_STRIP 1 C06 timer C06 AF3 # TIM8, default is also AF3 dma pin C06 0 # default is NONE save   ","version":"2.0.0","tagName":"h3"},{"title":"FlyDragon F722‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#flydragon-f722","content":" The FlyDragon F722 has a built in LED 'strip' with just one LED. It has the Warning overlay enabled by default and is connected to the FC using pin B08. However, the data out pin of that LED isn't exposed, so you have to remap some other port to LED_STRIP to make use of your own LEDs. There are several options: SCL, SDA, RPM-S and F.Port. SCL and SDA are located on the GPS port, which also provides 5V. Using SCL or SDA is preferred because they can have their own dedicated timer.  1. Remap SCL to LED_STRIP‚Äã  To remap SCL to LED_STRIP, enter the following in the CLI:  resource I2C_SCL 1 NONE resource LED_STRIP 1 B06 # default is B08 timer B06 AF2 # TIM4 dma pin B06 0 save   2. Remap SDA to LED_STRIP‚Äã  To remap SDA to LED_STRIP, enter the following in the CLI:  resource I2C_SDA 1 NONE resource LED_STRIP 1 B07 # default is B08 timer B07 AF2 # TIM4 dma pin B07 0 save   3. Remap RPM-S to LED_STRIP‚Äã  RPM-S isn't connected to VBec and supplies 5V, which is all right for a couple of LEDs.  To remap RPM-S to LED_STRIP on the FlyDragon V2 or V2.2, enter the following in the CLI:  resource LED_STRIP 1 A15 # default is B08 timer A15 AF1 # TIM1 dma pin A15 0 save   To remap RPM-S to LED_STRIP on the FlyDragon V1, enter the following in the CLI:  resource LED_STRIP 1 A08 # default is B08 timer A08 AF1 # TIM1 dma pin A08 0 save   4. Remap F.Port to LED_STRIP‚Äã  Be careful: F.Port uses VBec, which might be too high for your LEDs. Most LEDs require 5V.  resource LED_STRIP 1 A02 # default is B08 timer A02 AF1 # TIM2 dma pin A02 0 # Change motor 1 timer from TIM2 to TIM5 timer A00 AF2 save   ","version":"2.0.0","tagName":"h3"},{"title":"Flywing HELI405‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/2.0.0/Wiki/Tutorial-Setup/led-strip-quick-start#flywing-heli405","content":" You can remap SBUS to LED_STRIP on the Flywing HELI405. To do this, enter the following in the CLI:  resource SERIAL_RX 2 NONE resource LED_STRIP 1 A03 timer A03 AF2 dma pin A03 1 save  ","version":"2.0.0","tagName":"h3"},{"title":"Lua Scripts","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Lua-Scripts","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction‚Äã","type":1,"pageTitle":"Lua Scripts","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Lua-Scripts#introduction","content":" You can adjust a variety of settings using only your transmitter with the Rotorflight Lua scripts. A Lua script once loaded to your transmitter adds extra pages to the interface. These pages allow you to change things like PIDs, rates, filters, failsafe and governed headspeed on the field. Prerequisites:  OpenTX 2.3.12, EdgeTX 2.5.0 or newer or Ethos 1.4 or newer on the transmitter and: an FrSky SmartPort or F.Port receiver.or a CRSF v2.11 or newer receiver.or an ELRS 3.5.0 or newer receiver.  Examples:  TX16S with a FrSky X4R using the FrSkyX2 protocol.Frsky Ethos Radio (X20, X18, X14 etc) with either SPORT,FPORT receiver or ELRS with an external module.Taranis X9D with a TBS Crossfire TX/RX module.Taranis QX7 and a FrSky R-XSR, using the FrSky D16 protocol (as long as you don't use the ACCST D16 2.1.1 LBT firmware on the R-XSR, because this firmware has telemetry bugs).TX16S with an ELRS 3.5.0 module and receiver.  If you're not using F.Port, start up the Rotorflight Configurator, go to the Configuration tab and enable the TELEMETRY feature. F.Port telemetry does not work without enabling this feature.  If telemetry is working properly on your system, the Lua scripts should work as well.  There are different Lua scripts depending on what radio you are using (edgeTX or Ethos).  Please choose to suit your Radio - EdgeTX or ETHOS Choose TxEdgeTXETHOS Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio. ","version":"2.0.0","tagName":"h2"},{"title":"OpenLager","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/OpenLager","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction‚Äã","type":1,"pageTitle":"OpenLager","url":"/docs/2.0.0/Wiki/Tutorial-Setup/OpenLager#introduction","content":" An OpenLager is an external logging devices that use SD cards. Logging with an OpenLager has several benefits compared to other logging methods:  Virtually unlimited storage when using, for example, a 32GB SD cardHigh read speeds when you eject the SD card and connect it directly to your PCLogging using an UART TX is a lightweight process and very MCU friendly, so you'll have more processing power for other tasks.  ","version":"2.0.0","tagName":"h2"},{"title":"Connecting an OpenLager‚Äã","type":1,"pageTitle":"OpenLager","url":"/docs/2.0.0/Wiki/Tutorial-Setup/OpenLager#connecting-an-openlager","content":" The OpenLager can be connected to the FC using just three wires: +5V, ground and a TX output pad of a free UART on the FC, which is connected to the RX pad of the logging device. As soon as you power the device on, it will create a new log file on the SD card. Then it'll log everything it receives to that file. Simple but effective.  After you've connected the OpenLager, you have to tell Rotorflight which UART the TX pad for the logger is connected to. You can specify that UART in the Configuration tab, under Blackbox logging. For the OpenLager select 2000000 bps. Click Save and Reboot.    After configuring the OpenLager you can go to the Blackbox tab to specify what should be logged at what speed when.  note For maximum performance the SD card should be formatted with the SD Association's special formatting tool. A fast SD card is needed, e.g. the Sandisk Extreme 16GB Class 10 UHS microSDHC. ","version":"2.0.0","tagName":"h2"},{"title":"Profile (Bank) switching example","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Profile-switching-example","content":"","keywords":"","version":"2.0.0"},{"title":"Purpose‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Profile-switching-example#purpose","content":" info We often configure several flight modes to suit our own flying requirements e.g. (Futaba - Normal, IU1, IU2)(OpenTx - FM1, FM2, FM3). It is quite possible that with each of these flight modes we would want to adjust and tune the model independently. We can do this through the Adjustments tab. This is a similar feature to V-bar 'Bank switching'. The following example is just a suggestion and is one way to go about using the adjustments tab. The same process can be used to switch rates if required.  ","version":"2.0.0","tagName":"h2"},{"title":"Aim‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Profile-switching-example#aim","content":" My helicopter has already been set up to have a 3 position switch (SwE) which selects between 3 headspeeds (I use the governor so my 'curves' are just flat). The following example will add switching of tuning parameters (Profile Tab) for each of these headspeeds.  ","version":"2.0.0","tagName":"h2"},{"title":"Configure the Tx‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Profile-switching-example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwE) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch9 to the SwE in the Mixers tab    ","version":"2.0.0","tagName":"h3"},{"title":"Configure flight controller‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Profile-switching-example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux4 is the ninth channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux4,    Step 3:  Go to the Adjustments tab. Enable an adjustment slot by selecting Mapped and select Aux4 as the Enable Channel and Value Channel.Stretch the Enable Channel and Value Channel sliders across the entire channel range. This covers the positions for each of the three switch positions.Select Profile Selection from the dropdown. This means we want to change the 'Profile selection' by the switch position.Stretch the Profile Selection slider from 1 to 3, This means over the defined range a value of 1-3 will be chosen based on the switch position. (e.g. SwE down = 0, SwE middle = 1, SwE up = 2). These values are added to the Profile so will result in (e.g. SwE down = Profile 1, SwE middle = Profile 2, SwE up = Profile 3).    Step 4: Go to the Profiles tab and test and confirm that changing the switch position results in changing of the current Profile.   ","version":"2.0.0","tagName":"h3"},{"title":"ETX Widget","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/widget-etx-bob00","content":"ETX Widget Bob00 has created a custom widget for displaying Rotorflight Telemetry. More details and downloads can be found in the Githup Repository. ETX Widget by Bob00","keywords":"","version":"2.0.0"},{"title":"FrSky Ethos Generic example","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-ethos/ethos-generic-radio-setup","content":"","keywords":"","version":"2.0.0"},{"title":"Coming soon‚Äã","type":1,"pageTitle":"FrSky Ethos Generic example","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-ethos/ethos-generic-radio-setup#coming-soon","content":"","version":"2.0.0","tagName":"h2"},{"title":"EdgeTX Generic Radio Setup","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup","content":"","keywords":"","version":"2.0.0"},{"title":"Channels Arrangement‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#channels-arrangement","content":" This following radio model uses 12 channels to get the best of Rotorflight options, the user can add or delete channels depending on his specific application, and required features.  These channels are configured as follows:  Channel #\tFunctionCH1\tAileron CH2\tElevator CH3\tCollective CH4\tRudder CH5\tAUX1 - Arming CH6\tThrottle CH7\tAUX2 - Profile Switching CH8\tAUX3 - Rescue CH9\tAUX4 - Blackbox CH10\tAUX5 - Backup Pack CH11\tAUX6 - Adjustment Enable Channel CH12\tAUX7 - Adjustment Value Channel  note Use the below recommended setting for the ELRS Tx module. Baud Rate: 921kPacket Rate: 500HzTelemetry Ratio: 1:32Switch Mode: WideTx Max Power: 250mW Dynamic Consult ELRS Website for more info.  ","version":"2.0.0","tagName":"h2"},{"title":"Radio Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-setup","content":" This Generic Rotorflight Radio Model Yaml file contain all the options listed above.  ","version":"2.0.0","tagName":"h2"},{"title":"Radio Inputs Page Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-inputs-page-setup","content":" Configure the inputs on the radio as per the below image.    Based on the image above:  The 3-position SB Switch will control Arming as below:  Switch SB-down: DisarmedSwitch SB-middle: DisarmedSwitch SB-up: Armed  The 2-position SF Switch will control Throttle Hold as below:  Switch SF-down: Throttle HoldSwitch SF-up: Throttle Release  The 3-position SE Switch will control Throttle percentage and Profile Switching as below:  Switch SE-down: Throttle 60%, Profile 1, and Rate 1Switch SE-middle: Throttle 70%, Profile 2, and Rate 2Switch SE-up: Throttle 80%, Profile 3, and Rate 2  The 2-position SH Momentary Switch will control Rescue as below:  Switch SH-down: Rescue OFFSwitch SH-up: Rescue ON  The 3-position SA Switch will control Blackbox enable and Blackbox erase as below:  Switch SA-down: Blackbox Logging OFFSwitch SA-middle: Blackbox Logging ONSwitch SA-up: Erase Blackbox Logs  The 3-position SC Switch will control Backup Buffer Pack as below:  Switch SC-down: Buffer OFFSwitch SC-middle: Buffer ONSwitch SC-up: Buffer ON  ","version":"2.0.0","tagName":"h3"},{"title":"Radio Mixer Page Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-mixer-page-setup","content":" Additionally you can use CH11-AUX6 and CH12-AUX7 to perform in flight parameter adjustment using adjustment functions from the Adjustments Tab.    The above settings will allow you to adjust 30 parameters in flight using the radio trim switches with combination of the 6-position buttons.  The below table explain how each parameter can be accessed.    For example when 6-position button 1 is activated, the pitch trim switch will change Pitch P Gain value, and when 6-position button 3 is activated, the throttle trim switch will change Governor D Gain value, and so on.  ","version":"2.0.0","tagName":"h3"},{"title":"Rotorflight Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#rotorflight-setup","content":" After completing the above radio setup, you can proceed to the Rotorflight Configurator to complete the setup on the flight controller side.  ","version":"2.0.0","tagName":"h2"},{"title":"Arming Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#arming-setup","content":" Proceed to Modes Tab and setup arming as per below picture.    Alternatively you can paste and save the below commands in CLI to easily achieve the same result.  aux 0 0 0 1800 2100 0 0   ","version":"2.0.0","tagName":"h3"},{"title":"Profile Switching Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#profile-switching-setup","content":" Proceed to Adjustment Tab and setup Profiles and rates switching as per below picture.    Alternatively in CLI.  adjfunc 0 2 1 900 2100 1 975 2025 975 2025 0 0 3 adjfunc 1 1 1 900 2100 1 975 2025 975 2025 0 0 3   ","version":"2.0.0","tagName":"h3"},{"title":"Rescue Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#rescue-setup","content":" Proceed to Modes Tab and setup Rescue mode as per below picture.    Alternatively in CLI.  aux 1 53 2 1800 2100 0 0   ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#blackbox-setup","content":" Proceed to Modes Tab and setup Blackbox Modes as per below picture.    Alternatively in CLI.  aux 2 26 3 1400 1600 0 0 aux 3 31 3 1800 2100 0 0   ","version":"2.0.0","tagName":"h3"},{"title":"Buffer Pack Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#buffer-pack-setup","content":" Buffer packs like the 1st Buffer-Pack can be switched off from the radio after disconnecting the main pack, this can be done by connecting the buffer pack to a free 1500us PWM Channel on the flight controller.  First you need to assign servo 5 to a free timer pin, you will then see servo 5 in the Servos Tab. Assuming we have a free timer on pin A08. In CLI: Resource Servo 5 A08 Next you assign AUX5 Channel to Servo 5 using a mixer rule. In CLI: mixer rule 1 set AUX5 S5 1000 0   ","version":"2.0.0","tagName":"h3"},{"title":"In-Flight Profile Parameters Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#in-flight-profile-parameters-setup","content":"   Since there is many functions required to perform the In-flight adjustment as per the above table, you can directly copy the below commands to CLI and save.  adjfunc 2 14 5 900 1100 6 1025 1075 1925 1975 5 10 200 adjfunc 3 18 5 900 1100 6 1100 1150 1850 1900 5 10 200 adjfunc 4 22 5 900 1100 6 1175 1225 1775 1825 5 10 200 adjfunc 5 49 5 900 1100 6 1250 1300 1700 1750 5 10 200 adjfunc 6 27 5 900 1100 6 1325 1375 1625 1675 5 10 200 adjfunc 7 26 5 900 1100 6 1400 1450 1550 1600 5 10 200 adjfunc 8 15 5 1100 1300 6 1025 1075 1925 1975 5 10 200 adjfunc 9 19 5 1100 1300 6 1100 1150 1850 1900 5 10 200 adjfunc 10 23 5 1100 1300 6 1175 1225 1775 1825 5 10 200 adjfunc 11 50 5 1100 1300 6 1250 1300 1700 1750 5 10 200 adjfunc 12 28 5 1100 1300 6 1325 1375 1625 1675 5 10 200 adjfunc 13 29 5 1100 1300 6 1400 1450 1550 1600 5 10 200 adjfunc 14 16 5 1300 1400 6 1025 1075 1925 1975 5 10 200 adjfunc 15 20 5 1300 1400 6 1100 1150 1850 1900 5 10 200 adjfunc 16 24 5 1300 1400 6 1175 1225 1775 1825 5 10 200 adjfunc 17 51 5 1300 1400 6 1250 1300 1700 1750 5 10 200 adjfunc 18 39 5 1300 1400 6 1325 1375 1625 1675 5 10 200 adjfunc 19 40 5 1300 1400 6 1400 1450 1550 1600 5 10 200 adjfunc 20 17 5 1550 1700 6 1025 1075 1925 1975 5 10 200 adjfunc 21 21 5 1550 1700 6 1100 1150 1850 1900 5 10 200 adjfunc 22 25 5 1550 1700 6 1175 1225 1775 1825 5 10 200 adjfunc 23 52 5 1550 1700 6 1250 1300 1700 1750 5 10 200 adjfunc 24 59 5 1750 1900 6 1025 1075 1925 1975 5 10 200 adjfunc 25 60 5 1750 1900 6 1100 1150 1850 1900 5 10 200 adjfunc 26 54 5 1750 1900 6 1175 1225 1775 1825 5 10 200 adjfunc 27 55 5 1750 1900 6 1250 1300 1700 1750 5 10 200 adjfunc 28 56 5 1950 2100 6 1025 1075 1925 1975 5 10 200 adjfunc 29 57 5 1950 2100 6 1100 1150 1850 1900 5 10 200 adjfunc 30 58 5 1950 2100 6 1175 1225 1775 1825 5 10 200 adjfunc 31 48 5 1950 2100 6 1250 1300 1700 1750 5 10 200   Consult Rotorflight Adjustments for more info on how to setup the above adjustments. ","version":"2.0.0","tagName":"h3"},{"title":"Jeti and Nexus example","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-jeti/jeti-nexus-setup","content":"Jeti and Nexus example Rotorflight-Jeti-Setup Instructions for Jeti Initial Radio and Configurator Setup, this is a generic setup using a Nexus FBL, Frsky transmitter with an frsky access receiver Wiring The simplest is to use a male to male servo lead to connect from the SBUS port on the FBL to the E1 port on your receiver. Receiver Setup Once your receiver has been bound to the radio; visit the device explorer page. Select the receiver Select the alternative pin configuration Set the pin to use the ExBus protocol Next steps are to configure the fbl to receive the Exbus signal. Set the SBUS port to be used for serial rx communication Then visit the receiver page and configure as follows You should now have a control link and telemetry with all the sensors available on your radio.","keywords":"","version":"2.0.0"},{"title":"Other Transmitters","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-others/others","content":"","keywords":"","version":"2.0.0"},{"title":"Coming Soon‚Äã","type":1,"pageTitle":"Other Transmitters","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-others/others#coming-soon","content":"","version":"2.0.0","tagName":"h2"},{"title":"FrSky Ethos RFStatus LUA Script","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-ethos/ethos-nexus-status","content":"FrSky Ethos RFStatus LUA Script Installation As part of the RFSuite installation detailed above the RFStatus Widget is installed in the background and is ready for configuration. Before proceeding please ensure the Heli, RX and Rotorflight FBL are powered on and connected to your Ethos transmitter, At this point please ensure you have the full list of Telemetry sensors showing in the Model\\Telemetry screen. ##-- PLEASE REMOVE THE BLADES -- Ethos Screen Setup From the main screen press the DISP button and a screen similar to this will be shown. Press the + symbol to add another screen, scroll down and select the full screen icon as shown. Select Change Widget, scroll thru the list and select Rotorflight Status The following screen is shown, select Configure The following screen is the main configuration options for the Rotorflight Status widget TRIGGERS The ARM and IDLE-UP switch positions MUST be entered as per your Rotorflight configurator setup, in this example SE is ARM (Motor) and SD is IDLE-UP or Throttle Enable. Delay before active is the time taken for your motor to reach idle-up RPM. Current measurements will be started after this timeout. TIMER CONFIGURATION This is a count UP timer and will alarm at the set point, you can disable if using another Ethos timer. BATTERY CONFIGURATION Enter your Battery \\ Voltage settings and preferences, the 'Play alert on' can be configured for your preference. SWITCH ANNOUNCEMENTS This section allows you to have the status widget play announcements depending on your TX switch positions. TELEMETRY ANNOUNCEMENTS Similar to the above, allows the status widget to play various Telemetry announcements depending on your TX switch positions, this could include, for example, using the rear panel SJ momentary switch to announce Fuel and/or Voltage. GOVERNOR ANNOUNCEMENTS Similar to the above but recommended to enable as per your preferences.These are primarily intended for use when using the Rotorflight Governor - If using an External ESC governor you will receive basic announcements of ARMED, DISARMED, ACTIVE and THROTTLE OFF. CUSTOMISE DISPLAY This is the main widget display which has 6 pre-defined boxes each of which can display a range of items for your layout preference. The additional display options allow the widget to display the min\\max of the sensors as well as colours to indicate status or low battery. You also have the option to add additional sensors from Telemetry and choose these to display in the main screen. ADVANCED OPTIONS This is where you select Rotorflight Internal or an External governor for the widget, as well as any temp conversion from Centigrade to Fahrenheit. The Voltage section allows you to choose how sensitive the low voltage alarms will be depending on the voltage sag whilst in flight.The sag compensation is a time delay before the alarms are announced. Gimbal monitor effectively monitors your stick positions based on the drop down selection, and alerts if the given value is met. Normally disabled. The Headspeed option allows you to set the announcement which will tell you when the headspeed has changed, 10% default, usefull to monitor if the Governor is maintaining the requested headspeed during fast 3D manoeuvres. Could point to Governor PID tuning. Calculate fuel locally can be used in the event your ESC does not send a current measurement.","keywords":"","version":"2.0.0"},{"title":"FrSky Ethos and Nexus example","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/radio-setup/radio-setup-ethos/ethos-nexus-setup","content":"FrSky Ethos and Nexus example Rotorflight-Frsky-Setup Instructions for Frsky Ethos Initial Radio and Configurator Setup, this is a generic setup using a Nexus FBL, Frsky transmitter with an frsky access receiver Radio Following the manufacturers instructions register and bind your receiver to your newly created model or a clone Once the bind is successful you will see Telmetry items updating in the Model\\Telemetry screen, similar to this And the radio will display signal in the top right similar to this: Enter the Model screen and scroll to RF System, select the receiver, in this example we are using a Frsky Archer GR6Plus, click on the receiver type and select options. Under Telemetry port choose FBUS, and exit the screen. FBUS is the prefered method of connection. Nexus and RF Configurator In the following example the Frsky receiver is connected to Port (A) of a Nexus controller. With the supplied cables you can connect to either Port A, B or C Connect the USB-C cable to the Nexus and connect to the PC\\Laptop with the Configurator installed. The latest Rotorflight configurator can be found HERE One connected this screen will be displayed if a new Nexus is attached. This is a warning the accelerometer is not calibrated, click close and enter the main configurator page. Select SETUP on the left, hold or keep the nexus flat on the bench and click 'Calibrate Accelerometer', the top status bar will show ' Accelerometer calibration finished' Select STATUS on the left and the following page will be displayed Item 1 is showing board firmware and identification. Item 2 is showing battery connection info - At this stage the main battery is not connected. Item 3 is showing the Nexus firmware version and the RF Configurator version. Configurator Initial Setup Select Configuration on the left The screen is described as: Enter your craft nameEnable Accelerometer, Barometer and CMSSet Port (A) or your assigned receiver port to Serial Rx By default the Nexus is setup to be installed horizontal servo pins facing towards the front, if the pins are facing to the rear of the heli enter 180 in the Yaw Degree's box. Click Save and reboot Enter the Receiver tab and select the options as per this view. Under telemetry enable these options Save and Reboot, please ensure your transmitter is switched on and connected to your receiver Return to the receiver tab, you should now see the channel bars moving when the TX joysticks are moved. If not either the TX\\RX are not bound or a step above has been missed.","keywords":"","version":"2.0.0"},{"title":"Remapping (for DIY boards)","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping","content":"","keywords":"","version":"2.0.0"},{"title":"Key concepts‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping#key-concepts","content":" Before you start remapping your drone FC to be used with Rotorflight, keep in mind the following.  1- Although it is not necessary, but it is advised to keep your cyclic servos on the same Timer.  2- If you wish to use a narrow band tail servo, then assign that servo to separate timer.  3- Main motor esc output should on a separate timer.  4- In case you are using a PWM controlled esc then Rotorflight will require an rpm signal for governor and RPM Filtering, RPM input should be on a 32bit separate timer (TIM2 or TIM5).    ","version":"2.0.0","tagName":"h2"},{"title":"Custom defaults remapping spreadsheet‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping#custom-defaults-remapping-spreadsheet","content":" Spreadsheet for remapping Betaflight targets for use with Rotorflight. The spreadsheet re-allocates features for motors and servos and configures associated timers and dma.  Please 'make a copy'.  Rotorflight remapping spreadsheet v1.4.1  Rotorflight remapping spreadsheet v2.0  ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Hardware config and remapping video‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping#rotorflight-hardware-config-and-remapping-video","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Importing new targets‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping#importing-new-targets","content":" Some targets in the betaflight target repository have additional #define lines above board_name. Please do not chose them. In the example below copy only from board_name down. The Board_name MUST be the first line in the spreadsheet.    ","version":"2.0.0","tagName":"h2"},{"title":"Configuring a Motor output‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping#configuring-a-motor-output","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Configuring a Frequency input‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping#configuring-a-frequency-input","content":" The frequency input pin must be connected to a timer with exclusive access. In other words, there must be a free timer, not used by anything else, and one of its positive channels must be available on a pin that is connected to the FC's solder pads. Negative channels, like CH3N, can't be used as inputs. Once we know which timer and pin we can use, it can be configured for frequency sensor use.  note We recommend that Freq inputs are allocated to pins that have Timer 2 or Timer 5 available. If 2 Freq inputs are required (e.g. Motorized tail) then both inputs can share the same timer. In the remapping spreadsheet these pins are indicated by the green box marked Freq.  In this example, we have chosen to use the LED_STRIP pin as our frequency input. We see there is only one option (Timer1) on AF1. We can use this pin but must not allocate any of the Servos or Motors to Timer1. Only the motor pins share this timer so we can choose either AF2 (timer3) or AF3 (timer8).    ","version":"2.0.0","tagName":"h2"},{"title":"The lines which configure the frequency signal‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Remapping#the-lines-which-configure-the-frequency-signal","content":" resource LED_STRIP 1 NONE resource Freq 1 A09 timer A09 AF1 # Freq - pin A09: TIM1 CH2 (AF1) dma pin A09 0 # Freq - 0: DMA2 Stream 6 Channel 0  ","version":"2.0.0","tagName":"h3"},{"title":"RPM Filters","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/RPM-Filters","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/2.0.0/Wiki/Tutorial-Setup/RPM-Filters#introduction","content":" RPM filters clean up the gyro signals by filtering out vibrations that are coming from the rotating parts in a helicopter: the main rotor, tail rotor and motor(s).  The difference between an unfiltered and filtered signal is significant. Here's an example of filtered and unfiltered gyro signals:    RPM filtered gyro signals enable you to tune the helicopter better, for example by being able to use higher gains.  The RPM filters require real time motor speed information to be available to the flight controller. This can be obtained with a Frequency Sensor or by using Bidirectional DSHOT.  Once the FC knows the motor speed, it can calculate the main and tail rotor speeds. For this it needs to know the Main Rotor Gear Ratio and the Tail Rotor Gear Ratio, which you can specify in the Motors tab.  For example, here are the ratios for my Gaui X3.    note Direct drive motors have a ratio of 1:1.  In order to use RPM filters, proceed to the Gyro tab, and enable the filters as shown below.  ","version":"2.0.0","tagName":"h2"},{"title":"Basic RPM Filters Settings‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/2.0.0/Wiki/Tutorial-Setup/RPM-Filters#basic-rpm-filters-settings","content":" These settings should be ok for a first flight.      Filters introduce latency. More filters mean more latency. So try to keep the number of filters low.  Double filters provide heavier filtering than single filters, but are also slower. They are sometimes needed on the 1st and/or 2nd harmonic.  tip The Q factor defines how wide the filter is: Lower Q values make the filter widerHigher Q values make the filter smaller  Wider filters are slower than narrow filters, so try to make the filters as small as possible without it being ineffective.  ","version":"2.0.0","tagName":"h2"},{"title":"Filter Tuning‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/2.0.0/Wiki/Tutorial-Setup/RPM-Filters#filter-tuning","content":" Make a blackbox log of a short flight with constant headspeed. Scroll to the point where the heli has spooled up and is hovering. Mark that point with the I key. Scroll near the end and mark that with the O key. Now bring up the Analyzer Display and enlarge it. It might look like:    This log was made with only a double fundamental filter. As you can see there's some noise around 144Hz. Since the headspeed is 4200 RPM, that must be near the second harmonic (4200/60 = 70*2 = 140Hz). Also note that the gyro signal in the background is also a bit noisy.  Now let's add some single filters for the 2nd (140Hz) and 3rd (210Hz) harmonic. Suddenly the log looks a lot cleaner:   ","version":"2.0.0","tagName":"h2"},{"title":"RPM Measurement","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Rpm-Measurement","content":"RPM Measurement In order to use the Governor or RPM filters (and why wouldn't you!!) you must measure the RPM. There are two options for this: RPM sensorBi-directional D-shot info RPM can sometimes also be read via ESC telemetry. However, this is at a refresh frequency that is too slow to be used for filtering of governing. caution RPM filtering is used to remove frequencies related to the rotating components. This allows a much higher tune; HOWEVER!! If the helicopter is flown in an OverSpeed condition the rotation of the one way bearing means that the RPM measurement will not be correct. If the helicopter is tuned too critically this could mean the helicopter could become out of tune resulting in unwanted oscillations. note RPM SensorBi-directional D-shot Frequency Sensor‚Äã Typically it is used when the RPM is not available via ESC telemetry. Only BLHeli_32, some BLHeli_S and APD F3 ESCs support Dshot/KISS telemetry, so this feature is needed with a wide range of traditional ESCs. The RPM signal is used in multiple places in the FC, e.g. in the PID control, the governor and the RPM-filter. If these features are not needed, then there is no need for the frequency sensor either. An electrical frequency signal is provided by some ESCs, e.g. Hobbywing with the &quot;yellow&quot; wire. Or it can come from an RPM sensor, which is converting the motor three-phase voltages into a frequency signal - e.g. Hobbywing RPM sensor. Please refer to your ESC's or sensor's manuals how to connect them correctly. Note about the Hobbywing RPM sensor: it's safest to power it with 3.3V, as the input voltage of the sensor is also the output voltage of the RPM signal it generates. All inputs on a STM32 MCU tolerate 3.3V, and some will also accept 5V. But if you're using a 8.4V BEC to power the sensor, you'll likely damage the MCU. Up to two frequency sensors are supported, for acquiring motor #1 and motor #2 speed. If both Frequency Sensor and telemetry RPM signals are available, the Frequency Sensor has precedence. Connection‚Äã Plug the ESC RPM wire (often yellow wire) or separate RPM sensor (Hobbywing RPM etc) into the FC RPM input. Configuration‚Äã Then the frequency sensor can be turned ON with the feature flag located on the Motors tab.","keywords":"","version":"2.0.0"},{"title":"Servo Setup and Calibration","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-servos","content":"","keywords":"","version":"2.0.0"},{"title":"Step 1 - set frequency and center‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-servos#step-1---set-frequency-and-center","content":" DO NOT CONNECT THE SERVOS YET!Confirm and set the servo center to your servo manufacturers recommendation. For Cyclic this will usually be 1520us, and for Tail it would be 760us.If a servo's center is 760us, make sure to change the min/max to -350/350 instead of -700/700, and pos/neg scales to 250 instead of 500.Confirm and set the servo rate as specified by your manufacturer. For many digital cyclic servos this is 333Hz and for most tail servos this is 560Hz.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 2 - Set servo directions‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-servos#step-2---set-servo-directions","content":" Connect the servos.Set Servo override to ON.Fit servo arms to as close to 90 degrees as possible.Slide Servo 1 override in the positive direction (i.e. right).Confirm the servo arm travels upwards towards the swashplate. If not toggle the servo reverse.  Repeat with remaining cyclic servos.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 3 - set arms at 90 degrees‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-servos#step-3---set-arms-at-90-degrees","content":" Set each of the override sliders to 0 degrees.Adjust center to level the servo arm (0¬∞ or 90¬∞ depending on servo installation orientation). One quick way is to slide the override bar and copy the output value from the blue bar into the center and press save. Make sure to reset the override to see the correct effect.  Repeat with remaining cyclic servos.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 5 - calibrate range (Optional - recommended)‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-servos#step-5---calibrate-range-optional---recommended","content":" The purpose of servo calibration is so the FC is able to more accurately control its mechanical movements. Not all servos are the same. Sometimes identical servos can have several degrees of difference for the same output. Calibrating the servos can enable each servo to move by the same amount when commanded. Calibration is also required if using the Geometric Correction function.  Set the override to a positive value (e.g. 30¬∞)measure the current servo arm angle and increase or decrease the Scale Pos until the servo arm angle matches the override angle.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 4 - set final limits (Usually Not Required)‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-servos#step-4---set-final-limits-usually-not-required","content":" With the servos installed in the helicopter, adjust Min/Max so that the arm &amp; ball won't hit anything in the heli frame (servo override @ 80¬∞ / -80¬∞).  Repeat with remaining cyclic/tail servos. ","version":"2.0.0","tagName":"h3"},{"title":"Two-Stage Gear Train Ratios","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Two-Stage-Gear-Train-Ratios","content":"","keywords":"","version":"2.0.0"},{"title":"SAB Style Two-Stage Gear Train‚Äã","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Two-Stage-Gear-Train-Ratios#sab-style-two-stage-gear-train","content":" The SAB Goblin helis have a two-stage transmission, therefore you have double the amount of gears/pulleys, also the main tail pulley is mounted on the intermediate shaft, which make the tail ratio a little more complicated to determine.    The above pictures shows the configuration of the transmission on the SAB Raw 580, 700, Piuma, Black Thunder 700, etc.  The gears/pulleys tooth count is marked by Z, and is numbered to identify each one.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as (Z3 x Z6) and front pulley value as (Z4 x Z5).  The below table shows some gear/pulley tooth counts for some famous two-stage helicopters.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)SAB Goblin 500 Sport\t15 to 24 ( Std 18T )\t48\t18\t62\t28\t21 SAB Black Thunder 700\t18 to 25 ( Std 21T )\t60\t19\t68\t37\t26 SAB Raw 580\t18 to 26 ( Std 22T )\t50\t14\t58\t27\t23 SAB Raw 580 Nitro\t26 to 28 ( Std 26T )\t50\t14\t58\t27\t23 SAB Raw 700\t18 to 25 ( Std 21T )\t56\t18\t69\t34\t26 SAB Raw 700 Nitro\t26 to 28 ( Std 27T )\t52\t14\t58\t27\t22 SAB Raw Piuma\t18 to 26 ( Std 20T )\t52\t14\t58\t27\t22 SAB ilGoblin 700 RAW/PRO\t18 to 25 ( Std 21T )\t56\t18\t68\t34\t26  For example for the Raw 700 with STD 21T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (21 x 18) = 378.main gear = (Z2 x Z4) = (56 x 69) = 3864.tail pulley = (Z3 x Z6) = (18 x 26) = 468.front pulley = (Z4 x Z5) = (69 x 34) = 2346.  After entering the value the ratios in the configurator motor page should look like this.    ","version":"2.0.0","tagName":"h2"},{"title":"KDS Style Two-Stage Gear Train‚Äã","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Two-Stage-Gear-Train-Ratios#kds-style-two-stage-gear-train","content":" The KDS Agile helis also have a two-stage transmission, however the autorotation gear/pulley is mounted on the main shaft, thus the tail ratio calculation will be straightforward.    The above pictures shows the configuration of the transmission on the KDS Agile 5.5, 7.5, A5, and A7.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as Z5 and front pulley value as Z6.  The below table shows some gear/pulley tooth counts for these KDS helis.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)KDS Agile A5\t20 or 21 ( Std 21T )\t54\t17\t66\t54\t14 KDS Agile 7.2\t19 to 21 ( Std 19T )\t54\t20\t66\t57\t12 KDS Agile A7\t19 to 21 ( Std 20T )\t54\t20\t66\t57\t12  For example for the KDS Agile A7 with STD 20T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (20 x 20) = 400.main gear = (Z2 x Z4) = (54 x 66) = 3564.tail pulley = Z6 = 12.front pulley = Z5 = 57.  After entering the value the ratios in the configurator motor page should look like this.   ","version":"2.0.0","tagName":"h2"},{"title":"Mixer Setup and Calibration","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer","content":"","keywords":"","version":"2.0.0"},{"title":"Set mixer type‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer#set-mixer-type","content":" Choose the Swashplate type to suit your helicopter swash arrangement.Choose the Main rotor direction. Generally this is clockwise however some scale helicopters are anticlockwise.Check Control directions. With the transmitter on and servos powered. Command a roll to the right on the Tx. Check the swash rolls right. Reverse direction is required.Command the elevator to pitch forward on the Tx. Check the swash pitches forward. Reverse direction is required.Increase collective on the Tx. Check collective angle also increases. Reverse direction is required.    ","version":"2.0.0","tagName":"h2"},{"title":"Calibrating The mixer‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer#calibrating-the-mixer","content":" note The purpose of the mixer calibration is to set the helicopters physical blade angle to the angle commanded by the FC  ","version":"2.0.0","tagName":"h2"},{"title":"Mixer override‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer#mixer-override","content":" Set the mixer override at the bottom of the pages to ON. This will open the override window.    ","version":"2.0.0","tagName":"h3"},{"title":"Level the swashplate and blade pitch to zero‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer#level-the-swashplate-and-blade-pitch-to-zero","content":" With the Mixer override enabled and all set to 0 degrees as above (servo arms should be at 90 deg).Trim the swashplate to level using the ball links.  note If the link arms are not adjustable then use the Roll trim and Pitch trim as required.  Adjust the upper link arms to zero the blade pitch. If the link arms are not adjustable use the Collective trim to zero.    ","version":"2.0.0","tagName":"h3"},{"title":"Collective Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer#collective-calibration","content":" Confirm with a blade pitch tool that with collective mixer at 0 deg the blades are also at 0 deg.Set the collective mixer override to 9 deg. Measure the blade angle.If the Blade angle is different from the Override angle, increase or decrease Collective Calibration % until the bade angle matches.Set collective back to 0 deg.  ","version":"2.0.0","tagName":"h3"},{"title":"Cyclic Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer#cyclic-calibration","content":" Set the pitch override to 9 deg.Measure the blade pitchIncrease or decrease the Cyclic Calibration %  ","version":"2.0.0","tagName":"h3"},{"title":"Variable Pitch Yaw Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/2.0.0/Wiki/Tutorial-Setup/setup-mixer#variable-pitch-yaw-calibration","content":" Set YAW override to 0 deg.Adjust the push rod length so that the rear tail L arm is 90¬∞.If this does not give 0¬∞ blade pitch, adjust Center trim until you have 0¬∞ blade pitch.Set mixer yaw override to 30deg CW/CCW, adjust Yaw Calibration % until you have around 30deg both ways.Set mixer yaw override to 60deg CW/CCW, adjust CW / CCW blade angle limits to the maximum number that does not causing binding.  note The calibration and CW / CCW limits vs. blade pitch is never perfect, because of the geometry asymmetry. It does not matter.The reason for doing the calibration is to make the PID defaults better. Without the calibration, all defaults in PID Profile are probably wrong.The Centre trim is mostly needed for making the CW/CCW blade angle limit numbers to match the blade angles. It also helps the feedforwards to work correctly. ","version":"2.0.0","tagName":"h3"},{"title":"Using Stability Modes","type":0,"sectionRef":"#","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Using-Stability-Modes-Example","content":"","keywords":"","version":"2.0.0"},{"title":"Purpose‚Äã","type":1,"pageTitle":"Using Stability Modes","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Using-Stability-Modes-Example#purpose","content":" info 6G modes provide self stabilization/leveling of the helicopter when the sticks are moved to the centre. This is the opposite to the standard Acro mode (used for aerobatics and 3D) which will not self level after sticks are centered and thus is inherently unstable. These modes are generally used for beginners or those wanting more of a drone feel to their helicopter. 6G modes do not provide position fixing as found with GPS systems so the heli will drift around in the wind.  ","version":"2.0.0","tagName":"h2"},{"title":"Aim‚Äã","type":1,"pageTitle":"Using Stability Modes","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Using-Stability-Modes-Example#aim","content":" In this example we will configure a 3 position switch (SwC) to select between Stability modes. With the SwC fully down we will have Acro mode, SwC in the centre will be Horizon Mode and in the fully up position we will enable Angle mode.  ","version":"2.0.0","tagName":"h2"},{"title":"Configure the Tx‚Äã","type":1,"pageTitle":"Using Stability Modes","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Using-Stability-Modes-Example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwC) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch8 to the SwC in the Mixers tab    ","version":"2.0.0","tagName":"h3"},{"title":"Configure flight controller‚Äã","type":1,"pageTitle":"Using Stability Modes","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Using-Stability-Modes-Example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux3 is the eight channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux3,    Step 3:  Go to the Modes tab. Disable hide unused modes if nothing is visible.Chose the Horizon Mode. Enter AUX3 in the channel and adjust the range to cover the middle section of the control channel as shown in the picture below.Chose the Angle Mode. Enter Aux3 in the channel and adjust the range to cover the top section of the control range as shown in the pic below.    Step 4: Test and confirm the switch position enables and disables modes as required These values are added to the Profile so will result in (e.g. SwC down = No mode active = Acro, SwC middle = Horizon Mode, SwC up = Angle Mode).    ","version":"2.0.0","tagName":"h3"},{"title":"Calibrating stability modes‚Äã","type":1,"pageTitle":"Using Stability Modes","url":"/docs/2.0.0/Wiki/Tutorial-Setup/Using-Stability-Modes-Example#calibrating-stability-modes","content":" ## Warning ## - do not use your transmitter trims!!‚Äã  Your Roll, Pitch and Yaw should all be trimmed to the stick centre configured in the receiver tab. This will be 1500 or 1520 depending on your radio.  Stability modes will try to stabilize to the calibrated flight controller level. This is rarely perfectly aligned with the actual helicopters attitude where there is no drift (least drift... there will always be some due to wind etc). In order to calibrate this in-flight we have 2 methods:  Using the Rotorflight Lua ScriptsStick controls  Note that it's also possible to adjust accelerometer trim values in the Configuration tab of the Configurator.  Calibration using Lua Scripts‚Äã  Select Accelerometer Trims from the Rotorflight main menu. Test fly the heli tail-in in either Angle or Horizon mode, with sticks at centre. If the heli drifts left, increase roll trim. If it drifts backwards, increase pitch trim. Each time you make a change to the trims long press the wheel/roller. The Page menu should now pop up. Select Save page. Adjust trims until the heli flies hands off without any pronounced drift in any direction.    Calibration using Stick Commands‚Äã  Standard 'Betaflight' stick commands work with Rotorflight. The accelerometer trims can be calibrated using these commands. To do this you must have Angle or Horizon Modes enabled.  You will also need to enable this in the CLI set enable_stick_commands = ON  Function\tCollective\tYaw\tPitch\tRollCalibrate Gyro\tLOW\tLOW\tLOW\tCENTER Calibrate Acc\tHIGH\tLOW\tLOW\tCENTER Trim Acc Left\tHIGH\tCENTER\tCENTER\tLOW Trim Acc Right\tHIGH\tCENTER\tCENTER\tHIGH Trim Acc Forwards\tHIGH\tCENTER\tHIGH\tCENTER Trim Acc Backwards\tHIGH\tCENTER\tLOW\tCENTER    For more details of the stick commands. See the Betaflight Wiki here. ","version":"2.0.0","tagName":"h3"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/docs/next","content":"","keywords":"","version":"Dev"},{"title":"Latest Rotorflight 2 Version‚Äã","type":1,"pageTitle":"Introduction","url":"/docs/next#latest-rotorflight-2-version","content":" Rotorflight v2.1 is the current stable release and can be found in the V2.1.0 Stable Downloads.  ","version":"Dev","tagName":"h2"},{"title":"Next release testing‚Äã","type":1,"pageTitle":"Introduction","url":"/docs/next#next-release-testing","content":" The next release of Rotorflight is currently in the development phase. Snapshots can be found Development Downloads.   ","version":"Dev","tagName":"h2"},{"title":"Beepers","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/beepers","content":"Beepers To Do","keywords":"","version":"Dev"},{"title":"Blackbox","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/blackbox","content":"","keywords":"","version":"Dev"},{"title":"What is Blackbox‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#what-is-blackbox","content":" Blackbox is a flight data recording feature in Rotorflight. A Blackbox log contains a lot of data, such as the attitude of the heli, gyro sensor measurements, PID data, RC commands, motor outputs etc. It‚Äôs an extremely powerful tool for tuning and troubleshooting the heli.  ","version":"Dev","tagName":"h2"},{"title":"Blackbox data can be logged to:‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#blackbox-data-can-be-logged-to","content":" A flash chip on the FC. Logging is fast, but storage is limited, unless you are using a dedicated RF controller(FlyDragon F7 has 128MByte Flash), and copying log files can be slow.An SD card on the FC, it's fast and storage is only limited by the capacity of the SD card.An external logging device: OpenLager. These devices write the log to a micro SD card.  A flash chip or an SD card on the FC are nice, but if your FC doesn't have that you can connect an OpenLager logging device.    ","version":"Dev","tagName":"h2"},{"title":"Blackbox Configuration‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#blackbox-configuration","content":"   ","version":"Dev","tagName":"h2"},{"title":"Logging Device‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#logging-device","content":" Here you can select the device type.  No Logging: Disable Logging.Onboard Flash: Log to the onboard flash chip (if available).SD Card: Log to the onboard SD Card (if available).Serial Port: Log to an external logging device (eg. OpenLager).  ","version":"Dev","tagName":"h3"},{"title":"Logging Mode‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#logging-mode","content":" Select the preferred logging mode.  No Logging: Disable Logging.Normal: Start logging when both ARM and BLACKBOX switches are active.Armed: Start logging when ARM switch is active.Switch: Start logging when BLACKBOX switch is active.  ","version":"Dev","tagName":"h3"},{"title":"Logging Rate‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#logging-rate","content":" The log data is saved to the logging device with this rate. For logging to an external device, lower speed may be required.  Set it to 2kHz for OpenLager.  ","version":"Dev","tagName":"h3"},{"title":"Debug Mode‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#debug-mode","content":" Choose what extra data is being logged, eight extra debug items are added to the Blackbox Log.  note Under Blackbox debug mode you can specify what should be logged. There are a lot of choices, but you can select GYRO_SCALED for PID tuning, GOVERNOR for analyzing the governor or CYCLETIME if you're interested in CPU time.  ","version":"Dev","tagName":"h3"},{"title":"Debug Axis‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#debug-axis","content":" Choose which axis is being debugged. Applies to some of the debug modes.  ","version":"Dev","tagName":"h3"},{"title":"Blackbox Logging Options‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#blackbox-logging-options","content":"   Here you activate the parameters that you want to log.  For general use activate the following options Command Setpoint Mixer PID Raw Gyro Gyro Battery RSSI RPM Motors Servos.  ","version":"Dev","tagName":"h2"},{"title":"Onboard dataflash chip‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#onboard-dataflash-chip","content":"   Erase - Erase Blackbox Data.Save to file - Download Blackbox Data.  ","version":"Dev","tagName":"h2"},{"title":"Mass Storage Mode‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/next/configurator/tabs/blackbox#mass-storage-mode","content":"   Blackbox Explorer  The log files can be read with the Rotorflight Blackbox Explorer. ","version":"Dev","tagName":"h2"},{"title":"Adjustments","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/adjustments","content":"","keywords":"","version":"Dev"},{"title":"Example - Select a Profile In-Flight‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#example---select-a-profile-in-flight","content":" Being able to switch between profiles in-flight allows you to use different head-speeds with differently tuned PIDs. It can also help with PID tuning, since it makes A/B testing possible with the flick of a switch.  ","version":"Dev","tagName":"h2"},{"title":"Simple example‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#simple-example","content":" Here we use only one channel -AUX4- for PID and Rates Profiles Selection. Assign AUX4 to a 3-position switch on the TX, so that the switch outputs 1000/1500/2000us. Profile Switching Example.  ","version":"Dev","tagName":"h3"},{"title":"Adjustment Types‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#adjustment-types","content":" There are two ways the how the control AUX channel is affecting the configuration parameter.  ","version":"Dev","tagName":"h2"},{"title":"Step Adjustment‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#step-adjustment","content":" The control AUX channel can be a three position switch or a trim switch on the transmitter. While in up position, it will cause the adjustment to increase by step size, and vice versa. The min and max limits are adhered.  Step adjustment is enabled by setting the step size to non-zero value.  ","version":"Dev","tagName":"h3"},{"title":"Continuous Adjustment‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#continuous-adjustment","content":" The control AUX channel is a full resolution RC channel, and is controlling the configuration parameter directly. The RC channel range 1000us..2000us is stretched to cover the parameter range min..max.  Continuous adjustment is enabled by setting the step size to zero.  ","version":"Dev","tagName":"h3"},{"title":"Adjustment Functions‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#adjustment-functions","content":" The adjustment function assigns the control AUX channel to a configuration parameter or a special function. The supported functions are listed below.  Profile change   Rates   PID   Gyro cutoffs   Dterm cutoffs   Rescue   Leveling   Governor   Boost gains   Offset gains   Cross-coupling   Accelerometer trims   ","version":"Dev","tagName":"h2"},{"title":"Parameter Change Functions‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#parameter-change-functions","content":" The parameter change functions are adjusting the associated configuration parameters, taking effect immediately. This allows changing the fundamental tuning parameter inflight.  Each parameter has a min and max limit that the user can set to safeguard against unreasonable or unsafe values. In addition, the system has absolute limits for each parameter.  ","version":"Dev","tagName":"h3"},{"title":"Profile Change Functions‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/next/configurator/tabs/adjustments#profile-change-functions","content":" The special functions to change configuration profiles works exactly the same as the parameter functions, except that the possible values are limited to the number of profiles. Both step and continuous adjustments can be used.  For example, there are six Rate Profiles available, thus the parameter limits should be min = 0 and max = 5. Narrower range is also possible, if so desired. ","version":"Dev","tagName":"h3"},{"title":"Configurator","type":0,"sectionRef":"#","url":"/docs/next/configurator","content":"Configurator üìÑÔ∏è Status A place for basic flight controller information. The status tab is the first tab you see when you connect to your flight controller. You can check the gyroscope live preview, view the arming prevention flags and other FC information. üìÑÔ∏è Setup Setup üìÑÔ∏è Configuration Personalization üìÑÔ∏è Receiver One of the first things you should do is to connect a receiver to the FC. Your FC has several UARTs, and each UART has a TX and an RX. A receiver needs to be connected to an RX and/or TX pad, depending on the type of receiver. üìÑÔ∏è Failsafe Failsafe Tab üìÑÔ∏è Power Set up all your power and battery related settings. Set the voltage and current sensor sources and calibration so that the FC can read the values and warn you accordingly. You can also check the current power measurements. üìÑÔ∏è Motors The Motors tab is used to configure the ESC communications protocols ( Motor Control Protocol &amp; Telemetry Protocol ) ,as well as to provide the ability to test motor operation. Depending on the selected ESC protocol and selected Rotorflight features, you might need to specify some other parameters as well. üìÑÔ∏è Servos Open the Servos tab and confirm that you have the correct number of servos. If this is not the case, please confirm you have installed the correct firmware (either 'M' motorized or servo tail) or if you are using a drone FC that your Remapping is correct. üìÑÔ∏è Mixer This section will describe the configuration of the mixer and calibrate the rotor blade angles. üìÑÔ∏è Gyro üìÑÔ∏è Rates The purpose of rates are to change in flight sensitivity and rotation rates. The aim is usually to have several 'rates' that you can switch between during flight to change flight performance. Please see the profile switching example üìÑÔ∏è Profiles The purpose of profiles are to store in flight tuning parameters. The aim is usually to have several 'profiles' that you can switch between during flight to change flight performance. Things like different headspeeds, tuning, rescue settings etc can be 'tuned' for the individual flight mode. Please see the profile switching example üìÑÔ∏è Modes Modes üìÑÔ∏è Adjustments There are total 32 adjustment slots, each assigning an AUX channel to a configuration parameter or a special function. An adjustment slot consist of an enabling condition, an adjustment function, and parameter limits. üìÑÔ∏è LED Strip üìÑÔ∏è Beepers To Do üìÑÔ∏è GPS Rotorflight currently only uses GPS for telemetry. Return to home, and other autopilot features are not available. üìÑÔ∏è Sensors On this tab you can enable or disable trending for each sensor. This is for testing and confirmation that each is working correctly. üìÑÔ∏è Blackbox What is Blackbox üìÑÔ∏è CLI This tab is the CLI or Command Line Interface. It is a method for sending commands and settings to the flight controller. We can also backup and restore our configuration using this tab.","keywords":"","version":"Dev"},{"title":"CLI","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/cli","content":"","keywords":"","version":"Dev"},{"title":"CLI Usage‚Äã","type":1,"pageTitle":"CLI","url":"/docs/next/configurator/tabs/cli#cli-usage","content":" To save your settings type in save, saving will reboot the flight controller.  To exit the CLI without saving power off the flight controller or type in exit.  To see a list of other commands type in help and press return.  To dump your configuration (including the current profile), use the dump command.  See the other documentation sections for details of the cli commands and settings that are available.  Diff Backup Using CLI‚Äã  This method shows all user-modified settings but avoids saving values left as default or values that are part of the board targets  Note that diff only shows the current Rate and PID profiles, whereas diff all will show all profiles that have been changed  diff all   This data should be sufficient to replicate the quad configuration on a new or erased flight controller board. Use the save to file function to create a backup  Dump Using CLI‚Äã  Note that the dump command will output every setting and their current values. Many of these will be firmware defaults and are not needed to backup quad configuration changes  rateprofile 0 profile 0 dump   Dump Profiles Using CLI if You Use Them‚Äã  profile 1 dump profile profile 2 dump profile   Dump Rate Profiles Using CLI if You Use Them‚Äã  rateprofile 1 dump rates rateprofile 2 dump rates   copy screen output to a file and save it.  ","version":"Dev","tagName":"h3"},{"title":"Restore via CLI‚Äã","type":1,"pageTitle":"CLI","url":"/docs/next/configurator/tabs/cli#restore-via-cli","content":" Use the cli defaults command first.  When restoring from a backup it is a good idea to do a dump of the latest defaults so you know what has changed - if you do this each time a firmware release is created you will be able to see the cli changes between firmware versions.  Use the CLI and send all the output from the saved backup commands.  You may find you have to copy/paste a few lines at a time.  Repeat the backup process again!  Compare the two backups to make sure you are happy with your restored settings.  Re-apply any new defaults as desired.   ","version":"Dev","tagName":"h3"},{"title":"Configuration","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/configuration","content":"","keywords":"","version":"Dev"},{"title":"Personalization‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#personalization","content":" Allows you to set your heli name to be shown in the OSD, blackbox logs and diff/dump outputs.    ","version":"Dev","tagName":"h2"},{"title":"System Configuration‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#system-configuration","content":"   ","version":"Dev","tagName":"h2"},{"title":"Gyro Update Frequency‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#gyro-update-frequency","content":" This indicates the current gyro update frequency.  ","version":"Dev","tagName":"h3"},{"title":"PID Loop Frequency‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#pid-loop-frequency","content":" This is the frequency that the control loop operates at. Set to between 1kHz and 2kHz.  There is limited or no benefit in higher rates and will result in high loads for your flight controller. This could be an issue for F405 and F411 boards.  ","version":"Dev","tagName":"h3"},{"title":"Accelerometer‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#accelerometer","content":" This must be selected if you wish to use stability (6G modes) such as Angle, Horizon or Rescue modes.  ","version":"Dev","tagName":"h3"},{"title":"Barometer‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#barometer","content":" This is used for Altitude hold Rescue which is currently still being developed  ","version":"Dev","tagName":"h3"},{"title":"Magnetometer‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#magnetometer","content":" Currently this does not provide any control functionality, however, it can be used for telemetry.  ","version":"Dev","tagName":"h3"},{"title":"Features‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#features","content":" This section is used to enable or disable features.    tip Features such as the GPS must be selected in the Serial ports section before selecting the Feature here.  ","version":"Dev","tagName":"h2"},{"title":"Serial Ports‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#serial-ports","content":" Please choose the functions you wish to assign to your UART.    ","version":"Dev","tagName":"h2"},{"title":"MSP‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#msp","content":" As the name suggests, usually only used for lower-level communication using the MSP (MultiWii Serial Protocol) for configuration done by external devices, or to allow a more direct way of control. You can also set a specific baud rate.  ","version":"Dev","tagName":"h3"},{"title":"GPS‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#gps","content":" GPS is not currently used for Rotorflight for any flight controls. This can be used for telemetry purposes.  ","version":"Dev","tagName":"h3"},{"title":"Serial Rx‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#serial-rx","content":" Check Receiver page for detailed info.  ","version":"Dev","tagName":"h3"},{"title":"ESC Telemetry‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#esc-telemetry","content":" Check ESC Telemetry page for detailed info.  ","version":"Dev","tagName":"h3"},{"title":"Blackbox Logging‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#blackbox-logging","content":" This enables a UART for an external logging device such as OpenLager.  ","version":"Dev","tagName":"h3"},{"title":"Telemetry: FrSky SmartPort‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#telemetry-frsky-smartport","content":" This is used when connecting an FrSky SmartPort receiver pin to this UART.  ","version":"Dev","tagName":"h3"},{"title":"Board and Sensor alignment‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#board-and-sensor-alignment","content":" Change the roll, pitch and yaw gyro alignment value until the model on the status page moves in the same direction as the gyro board.    ","version":"Dev","tagName":"h2"},{"title":"Accelerometer Trim‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/next/configurator/tabs/configuration#accelerometer-trim","content":" This section is used to trim the roll and pitch axis while the helicopter is in Stability mode (e.g Angle, horizon or Rescue).  The Transmitter trims for each cyclic axis must be at neutral when using Rotorflight (at 1500us). This will usually result in the helicopter drifting while in a stable hover. To correct for this drift the Accelerometer roll and pitch trims are to be used.  This can be done either directly by the configurator or via the transmitter with Lua or Adjustments.   ","version":"Dev","tagName":"h2"},{"title":"Failsafe","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/failsafe","content":"Failsafe In the event of receiver failsafe the flight controller can be configured to set the commands to a predetermined position. The flight channels (Aileron, Elevator, Throttle, Rudder, Collective) can be AUTOMATIC or HOLD, (Default is AUTO) The auxiliary channels can be Hold or Set, (Default is HOLD). note AUTOMATIC - Flight channels are set to safe values (low throttle, mid position for yaw/pitch/roll). HOLD - Channel holds the last value. SET - Channel is set to a specific configured value.","keywords":"","version":"Dev"},{"title":"GPS","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/gps","content":"GPS Rotorflight currently only uses GPS for telemetry. Return to home, and other autopilot features are not available. The GPS Tab is not visible by default. You must enable the GPS feature and chose a UART port to connect your GPS unit to. Save and reboot. THe GPS Tab will now be visible. Select your GPS type from the dropdown. There is more details on the Betaflight GPS tab page.","keywords":"","version":"Dev"},{"title":"LED Strip","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/led-strip","content":"LED Strip","keywords":"","version":"Dev"},{"title":"Gyro","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/gyro","content":"Gyro","keywords":"","version":"Dev"},{"title":"Motors","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/motors","content":"","keywords":"","version":"Dev"},{"title":"ESC/Motor Features‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#escmotor-features","content":"   ","version":"Dev","tagName":"h2"},{"title":"ESC Throttle Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#esc-throttle-protocol","content":" Set the ESC protocol required for your ESC under ESC/Motor protocol. Usually this would be PWM or DSHOT300.    ","version":"Dev","tagName":"h3"},{"title":"ESC Telemetry Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#esc-telemetry-protocol","content":" Set the ESC Telemetry protocol if your esc supports it.    ","version":"Dev","tagName":"h3"},{"title":"PWM Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#pwm-protocol","content":" Most RC helicopter ESCs manufacturers (e.g. Hobbywing, YGE, Scorpion ,or Castle) use PWM, an analog protocol.    RPM Sensor: Activate the RPM Sensor input for motor RPM, you can connect an RPM signal from the ESC, or from an external RPM sensor device.  note A correct RPM measurement is crucial to the operation of RPM_FILTER and GOVERNOR features, therefore ensure that you have a correct RPM measurement setup. The FC also needs to know the RPM of the main rotor, and the tail rotor. For this you have to exactly specify the Motor pole count and the Gear ratios. With this info, the FC can calculate the: Main motor RPM = eRPM / (motor pole count / 2)Main rotor RPM = Main motor RPM / ( main gear tooth count / main motor pinion tooth count )  ESC Update Frequency: the PWM update frequency for your ESC. Usually between 50-400Hz.  Disarm Throttle PWM value: the value that is sent to the ESC when the craft is disarmed. It should stop the motors. Usually 1000¬µs.  0% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at 0% throttle. Usually 1070¬µs.  100% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at full throttle. Usually 2000¬µs.  ","version":"Dev","tagName":"h3"},{"title":"DSHOT Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#dshot-protocol","content":" Most drone ESCs support DSHOT, a digital protocol.    If you use DSHOT, use either DSHOT150 or DSHOT300. DSHOT600 is not recommended. Also make sure that the main motor isn't actively being braked by the ESC, especially if you don't have a one way bearing on the main shaft.  BLHeli_32: set Non Damped Mode to On on the main motor ESCBluejay: set Maximum Breaking Strength to 0  DShot RPM Telemetry‚Äã  This switch is only visible when the ESC/Motor protocol is DSHOTxxx. It enables motor eRPM telemetry on supported ESCs via bidirectional DSHOT and can be used to facilitate the GOVERNOR and/or RPM_FILTER features. If you use bidirectional DSHOT you don't have to use a frequency sensor for obtaining the eRPM of the motor(s).  ","version":"Dev","tagName":"h3"},{"title":"Gear Ratio Configuration‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#gear-ratio-configuration","content":"   Enter the number of teeth for the main rotor gearing [Teeth on Pinion gear]/[Teeth on Main Gear]. For a direct drive Main rotor this is just set to 1 / 1.  Enter the number of teeth for the Tail rotor gearing [Teeth on Tail gear]/[Teeth on Autorotation Gear]. For a direct drive tail this is just set to 1 / 1.  tip If the gear tooth count is not known, you can approximate the gear ratio instead. For example if the main gear ratio is 11.8 then you set [Teeth on Pinion gear =10]/[Teeth on Main Gear =118]. Similarly if the tail gear ratio is 4.8 then you set [Teeth on Tail gear =10]/[Teeth on Autorotation Gear =48]. note that counting the gear tooth is preferable because an accurate gear ratio is essential to the operation of the RPM Filters.  note For Helicopters with two-stage reduction, kindly read the Two-Stage Gear Train WalkTrough  ","version":"Dev","tagName":"h3"},{"title":"Motor Pole Count‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#motor-pole-count","content":" Determine the number of magnetic poles for each motor. Count the number of magnets on the motors rotor. In the example below the magnets (circled) are fixed to the outer bell which in total has 14. This allows the flight controller to know how many electrical phase rotations are required to complete one physical motor revolution.      ","version":"Dev","tagName":"h3"},{"title":"Governor Features‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#governor-features","content":" ","version":"Dev","tagName":"h2"},{"title":"Motor Override‚Äã","type":1,"pageTitle":"Motors","url":"/docs/next/configurator/tabs/motors#motor-override","content":" Motor Override functionality is provided to test the operation of each motor directly. This functionality will make the motors spool up. Do this WITHOUT the main or tail rotors fitted!    Throttle - This is the command being sent from the flight controller to the ESC.  RPM - The measured RPM telemetry feedback. As the motor spins this should read a value related to the current speed.  Errors (only with DSHOT) - This shows the status of the RPM telemetry signal. This should be 0%.  Slider If you use the slider, make sure you release the mouse button. Nothing changes as long as you hold the mouse button down!  BLHeliSuite32 The Test motors function in BLHeliSuite32 doesn't work when using Rotorflight. It will give an error like 'Initialization of Motor Test Mode failed! Please check current Unknown rev 4.3.0 support for this application function!'. ","version":"Dev","tagName":"h2"},{"title":"Power","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/power","content":"","keywords":"","version":"Dev"},{"title":"Power State‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#power-state","content":" Connected - Yes/No, if Yes, also shows cell countVoltage - Voltage of the batteryCurrent - Current drawmAh Used - Capacity used in mAhCharge Level - Battery charge percentage  ","version":"Dev","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#battery","content":" ","version":"Dev","tagName":"h2"},{"title":"Battery Voltage Source‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#battery-voltage-source","content":" Select the source for the voltage measurements  None - No voltage measurements will be availableBattery ADC - Use the ADC on the flight controller to get the voltage measurementsESC Telemetry - Use the ESC telemetry to get the voltage measurements  ","version":"Dev","tagName":"h3"},{"title":"Battery Current Source‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#battery-current-source","content":" Select the source for the current measurements  None - No current measurements will be availableBattery ADC - Use the ADC on the flight controller to get the current measurementsESC Sensor - Use the ESC telemetry to get the current measurements  ","version":"Dev","tagName":"h3"},{"title":"Min/Max/Warning Cell Voltage‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#minmaxwarning-cell-voltage","content":" Minimum Cell Voltage - The voltage that is considered critically low, and will trigger the corresponding warnings Maximum Cell Voltage - The voltage of a fully charged Cell Warning Cell Voltage - The voltage that is considered low, and will trigger the corresponding warnings  danger The warning voltage should be set to a value where you can still land safely, usually 3.6-3.5V. The minimum voltage should be set to a value where damage is imminent, usually 3.3V. If you fly a battery to less than 3.3V, it will start to be damaged and will not be able to hold a charge anymore, and can even be dangerous.  ","version":"Dev","tagName":"h3"},{"title":"Capacity‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#capacity","content":" The capacity of the battery in mAh. This is used to calculate the remaining battery capacity in percent.  ","version":"Dev","tagName":"h3"},{"title":"Cell Count‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#cell-count","content":" Force cell count to avoid confusion between full 11S and flat 12S for example.  ","version":"Dev","tagName":"h3"},{"title":"Voltage Meters‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#voltage-meters","content":" Settings for the voltage meter to measure the battery voltage correctly.  ","version":"Dev","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#battery-1","content":" Main Pack voltage.  ","version":"Dev","tagName":"h3"},{"title":"BEC‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#bec","content":" Servo Bus voltage.  ","version":"Dev","tagName":"h3"},{"title":"5V‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#5v","content":" VBus voltage.  ","version":"Dev","tagName":"h3"},{"title":"EXT‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#ext","content":" External voltage input voltage.  ","version":"Dev","tagName":"h3"},{"title":"MCU‚Äã","type":1,"pageTitle":"Power","url":"/docs/next/configurator/tabs/power#mcu","content":" MCU voltage.  Scale‚Äã  The scale of the voltage meter. This is used to calculate the correct voltage from the ADC value. If the battery voltage is not displayed correctly, you can adjust this value up/down to fix it  Divider / Multiplier Value‚Äã  This defines how the value read by the ICs ADC converts into a voltage value that makes sense to the pilot. In easy terms this sets how the ratio difference between the two voltage divider resistors are used in the voltage calculation formula.  Example:‚Äã  Scale: 110 = 10:1 voltage divider (10k:1k ohm resistors) Divider: 10 = sets the direct resistor to resistor ratio Multiplier: 1 = this is to fine tune the outcome of the calculation, a value of 1 is &quot;no correction&quot;. ","version":"Dev","tagName":"h3"},{"title":"Mixer","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/mixer","content":"","keywords":"","version":"Dev"},{"title":"Main Rotor Settings‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/next/configurator/tabs/mixer#main-rotor-settings","content":" Swashplate type‚Äã  Choose the swash type that suits your helicopter.    Rotor direction‚Äã  Choose the direction of rotation for the main rotor. This is looking down from on the top of the rotor.  Elevator Control direction‚Äã  With the helicopter servos powered, tilt the heli forward (pitch down). The swash should now pitch up towards the tail of the helicopter. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Aileron Control direction‚Äã  Roll the heli to the right (right Aileron). The swash should pitch towards the left. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Collective Control direction‚Äã  Push the collective stick forward (Increasing collective). The swash should now rise up towards the rotor head (to increase collective). If the swash goes down change the control direction from [NORMAL] to [REVERSE].  ","version":"Dev","tagName":"h3"},{"title":"Swashplate Link Trims‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/next/configurator/tabs/mixer#swashplate-link-trims","content":"   Ideally the swashplate should be set with all 3 Collective servos at 90 deg while the blade angle is at 0 degrees. Some helicopters have fixed length swash links which means in order to get 0 degrees for blade centre the servo arms need to be raised or lowered. Use these link trims to provide that function.  For helicopters with adjustable swash links this should remain at 0 and the links adjusted to get a 0 degree blade angle.  ","version":"Dev","tagName":"h2"},{"title":"Main Rotor Geometry‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/next/configurator/tabs/mixer#main-rotor-geometry","content":"   Cyclic and Collective calibration‚Äã  These settings are used to calibrate the mixer so that the blade angle matches the commanded angle for both the cyclic and collective. See the calibration procedure for details.  Collective geometry correction‚Äã  Adjust until the collective positive and negative deflections are equal.  Collective blade pitch limit‚Äã  Ideally, one should use this option to set the maximum allowed collective blade pitch. Therefore, if the person wants to change the collective pitch down the line, they should be able to adjust in the &quot;rates&quot; page confidently without worrying about servos binding. Practically, for most 3D helicopters, this is set to the maximum collective you will ever need (15-16deg) if the helicopter is physically capable of doing it  Cyclic blade pitch limit‚Äã  This is NOT the same as the cyclic calibration on other FBLs (it's NOT the 8 deg cyclic on vbar for example)This is designed to let the FBL know how much cyclic travel the helicopter is PHYSICALLY capable ofUsually adjust it so that around zero collective there is no physical interference anywhere. You might want to temporally increase the I gains (to around 200) on cyclic and move the cyclic stick to find the limits. MAKE SURE TO TURN THEM BACKSome 550+ size helicopter might be able to achieve 16+ degree of cyclic pitch, you could set it to the absolutely maximum but it is advised to limit around 16degree since practically it should never hit that much cyclic.  Total blade pitch limit‚Äã  This is probably the most difficult limit to understand and setup properlyTo find the total blade pitch limit, make sure the collective blade pitch limit and cyclic blade pitch limit are set up correctly. You might want to use the I-gain trick mentioned aboveSet the collective pitch to max, then move the cyclic. Increase the limit until either there is a physical limit or the fish-eye bearing (the ball) in the center of the swash drops at the max cyclic due to one servo reaching its limit.Repeat at lowest collective pitchYou could also increase cyclic servo travels to gain more total blade pitch. However, nothing should be interferingDouble check that there's NO binding or interference at ANY combination of collective and cyclic in their whole range.Make sure to turn the I-gains back to default in the end if the I-gain trick is used.  Swashplate phase angle‚Äã  Usually set it per manufacture recommendation. One could consider if there's bobbling that could not be resolved from changing the cross coupling gains or it is known that the rotor head design requires a non-zero phase angle.  ","version":"Dev","tagName":"h2"},{"title":"Tail Rotor Settings‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/next/configurator/tabs/mixer#tail-rotor-settings","content":"   ","version":"Dev","tagName":"h2"},{"title":"Tail rotor type‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/next/configurator/tabs/mixer#tail-rotor-type","content":" Variable Pitch‚Äã  This is a variable pitch tail controlled by a servo (Servo#4).  Motorized‚Äã  The tail has separate motor(M2) for controlling the yaw.  Bidirectional‚Äã  Motorized tail operating in bi-directional mode.  ","version":"Dev","tagName":"h3"},{"title":"Yaw Control Direction‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/next/configurator/tabs/mixer#yaw-control-direction","content":" With the helicopter tail servo powered, move Rudder stick to the right. The tail slider should move to the inside (toward the tail case). If this is not the case, change the control direction from [NORMAL] to [REVERSE].  ","version":"Dev","tagName":"h3"},{"title":"Center Trim For Tail Rotor [¬∞]‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/next/configurator/tabs/mixer#center-trim-for-tail-rotor-","content":" Set tail rotor trim for zero yaw command. ","version":"Dev","tagName":"h3"},{"title":"Modes","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/modes","content":"","keywords":"","version":"Dev"},{"title":"ARM‚Äã","type":1,"pageTitle":"Modes","url":"/docs/next/configurator/tabs/modes#arm","content":" ELRS If using an ELRS receiver you must configure the ARM switch to AUX1 (1000 = Disarmed, 2000 = Armed). This channel is sent every cycle. Please see the ELRS switch config documentation  ARM &amp; throttle hold ARM and throttle hold are not the same. Do not configure the ARM and throttle hold on the same channel. The Flight controller needs to see minimum throttle before it can arm and if they are both on the same channel it will fail the minimum throttle check and will not ARM.    All flight controllers need to be ARMED before the motors are able to spool up. Once the Arming mode is configured (as shown above) the flight controller can be Armed ready for flight. If the flight controller detects an unsafe condition Arming will be disabled. If this occurs you can look at the Arming flag status on the Status Tab to identify what is preventing Arming being enabled.    You can find out a description of these flags from the List of Arming prevention flags  This function can also provide the ability to prevent arming of the heli unless the correct model has been selected on your transmitter (if your RX does not have this functionality). This is done by adjusting the endpoint of your AUX channel to a different value for each model and setting the ARM range to enable the FC only for that model.  ","version":"Dev","tagName":"h2"},{"title":"RESCUE‚Äã","type":1,"pageTitle":"Modes","url":"/docs/next/configurator/tabs/modes#rescue","content":" Enable Rescue mode from the tabs. Allocate the AUX channel and range to suit.    info The purpose of the rescue mode is to arrest any decent, then put the helicopter at a safe altitude in a stable attitude. It does this in stages. Immediately levels in current orientation (upright or inverted)Applies a pull up collective to rapidly stop any decentApplies a climb Collective to gain some heightif it is still inverted (and the flip toggle enabled) it will flip to upright.Hover collective is now applied.  After enabling Rescue mode configure the rescue settings from the Profiles Tab.  ","version":"Dev","tagName":"h2"},{"title":"6G flight modes‚Äã","type":1,"pageTitle":"Modes","url":"/docs/next/configurator/tabs/modes#6g-flight-modes","content":" There are 3 types of self leveling stabilization modes available in Rotorflight. 6G modes (unlike the normal Acro) will auto level when the transmitter sticks are released. These modes make the heli fly more like a drone.  ","version":"Dev","tagName":"h2"},{"title":"ANGLE‚Äã","type":1,"pageTitle":"Modes","url":"/docs/next/configurator/tabs/modes#angle","content":" Angle mode provides similar functionality to Horizon mode with the addition of limiting the helicopter attitude to the angle specified.  ","version":"Dev","tagName":"h3"},{"title":"HORIZON‚Äã","type":1,"pageTitle":"Modes","url":"/docs/next/configurator/tabs/modes#horizon","content":" Horizon mode provides attitude stabilization which will level the helicopter when the transmitter sticks are let go. Constant stick input is required to keep the helicopter moving.  ","version":"Dev","tagName":"h3"},{"title":"TRAINER‚Äã","type":1,"pageTitle":"Modes","url":"/docs/next/configurator/tabs/modes#trainer","content":" Acro trainer mode does not provide self leveling of the helicopter. It does however limit the angle the helicopter can reach.  Enable ANGLE/HORIZON/TRAINER modes from the tabs. Allocate the AUX channel and range to suit.    In the example above AUX3, and AUX6 are each assigned to a separate 3 position switches on the TX.  Horizon mode has been assigned to the AUX3 Range when the middle position of AUX3 switch.Angle mode is assigned to AUX3 at full up position of the AUX3 switch.Nothing is assigned when AUX3 switch fully down. This means the Heli is in Normal or 3D mode.Trainer mode is assigned to AUX6 at full up position of the AUX6 switch.  After enabling 3G modes you can configure their settings from the Profiles Tab.  ","version":"Dev","tagName":"h3"},{"title":"BLACKBOX‚Äã","type":1,"pageTitle":"Modes","url":"/docs/next/configurator/tabs/modes#blackbox","content":" When you select Normal logging mode, you need to activate the blackbox switch in the Modes Tab.  Enable Blackbox from the tabs. Allocate an AUX channel and range to suit.    Now in this example the blackbox logging will start when the heli is armed and AUX5 is at full up position. ","version":"Dev","tagName":"h2"},{"title":"Sensors","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/sensors","content":"Sensors On this tab you can enable or disable trending for each sensor. This is for testing and confirmation that each is working correctly.","keywords":"","version":"Dev"},{"title":"Rates","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/rates","content":"","keywords":"","version":"Dev"},{"title":"Understanding Actual Rates‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#understanding-actual-rates","content":" ‚ÄúActual Rates‚Äù are the default rates in Rotorflight, providing a straightforward approach to setting maximum rotational velocity (e.g., entering 1000 corresponds to 1000deg/sec) and center sensitivity values.  There are 3 values in Actual Rates: Center Sensitivity, Max Rate, Expo.    ","version":"Dev","tagName":"h2"},{"title":"Center Sensitivity‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#center-sensitivity","content":" Center Sensitivity relates to the responsiveness around the center stick position. A lower value offers finer, smoother control, while a higher value results in a more reactive heli to stick movement.  ","version":"Dev","tagName":"h3"},{"title":"Max Rate‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#max-rate","content":" Max Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  However, keep in mind that the maximum angular velocity can be limited by your heli mechanics. When the heli reaches its physical limitation and cannot flip any faster, the maximum angular velocity is capped, regardless of the higher value set in Rotorflight.  ","version":"Dev","tagName":"h3"},{"title":"Expo‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#expo","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo. Keep in mind that increasing Expo also reduces center sensitivity.  While Expo can be as high as 1.0, excessive Expo might cause decreased center stick sensitivity and make the heli‚Äôs response more unpredictable towards full stick (more jumpy).  ","version":"Dev","tagName":"h3"},{"title":"Understanding Raceflight Rates‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#understanding-raceflight-rates","content":" Actual Rates can be a little bit tricky for someone that does not have Betaflight knowledge and experience. So if you are coming from a different FBL system then Raceflight Rates might make more sense for you.  There are 3 values in Raceflight Rates: Rate, Acro+, Expo.    ","version":"Dev","tagName":"h2"},{"title":"Rate‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#rate","content":" Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  ","version":"Dev","tagName":"h3"},{"title":"Acro+‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#acro","content":" For the sake of simplicity, always keep Acro+ at 0.  ","version":"Dev","tagName":"h3"},{"title":"Expo‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#expo-1","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo.  While Expo can be as high as 100, excessive Expo might cause decreased center stick sensitivity and make the heli‚Äôs response more unpredictable towards full stick (more jumpy).  ","version":"Dev","tagName":"h3"},{"title":"Dynamics‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#dynamics","content":"   Response Time - corresponds the smoothness of the reaction to stick inputs, also called time constant of the input filter.  note High response times smooths out the input but too high could cause significant input delay.  Max Acceleration - is the input acceleration limiter. Zero represents off. Low value reduces the load on the machine and could be desired for scale flying, not useful for 3D normally.  ","version":"Dev","tagName":"h2"},{"title":"Copy Rate Profile‚Äã","type":1,"pageTitle":"Rates","url":"/docs/next/configurator/tabs/rates#copy-rate-profile","content":" You can use the Copy rateprofile button at the upper right corner to copy the values of the current profile to another one. ","version":"Dev","tagName":"h2"},{"title":"Receiver","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/receiver","content":"","keywords":"","version":"Dev"},{"title":"Receiver Configuration‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/next/configurator/tabs/receiver#receiver-configuration","content":" First activate Serial Rx on the UART you have connected your receiver.    ","version":"Dev","tagName":"h2"},{"title":"Receiver Options‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/next/configurator/tabs/receiver#receiver-options","content":"   One Wire Communication -  The following options are only available on F7/H7 and G4 MCUs  Inverted serial signaling - Some protoculs such as SBUS and FPORTPin Swap - This feature can be  ","version":"Dev","tagName":"h2"},{"title":"Receiver Type‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/next/configurator/tabs/receiver#receiver-type","content":" Please see the documentation for your FC for more details on how to connect your receiver. There are many receiver protocols supported in Rotorflight.  It is preferable that a telemetry capable protocol be used with the Rotorflight LUA scripts to perform tuning using you radio.Protocols that do not have telemetry are still compatible with Rotorflight (and transmitters without Lua Scripting); however, Adjustments have to be configured in order to tune from your radio.  Please choose to suit your receiver protocol Choose RxELRSS.BUSS.BUS2S.BUS + S.PORTF.BUSF.PORTSpektrumOTHER Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio.  ","version":"Dev","tagName":"h2"},{"title":"Receiver Channels‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/next/configurator/tabs/receiver#receiver-channels","content":" Select the corresponding channels order based on the selected receiver type.    For FrSky receivers, set the channels in your radio as per the below order.    For ELRS receivers, set the channels in your radio as per the below order.  note For CRSF/ELRS always set ARM switch to CH5/AUX1 on the radio, also set THR to CH6    Reverse channels on your transmitter if a channel responds the wrong way around. Stick to the right should move the bar to the right. Push stick forward and bar should move to the right.  ","version":"Dev","tagName":"h2"},{"title":"Receiver Settings‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/next/configurator/tabs/receiver#receiver-settings","content":"   Stick Center - adjust as required by your radio to achieve 0% when the ROLL, PITCH, YAW sticks are centered.Stick Maximum Travel - adjust achieve 100% at the sticks limits.Throttle Channel value for arming - channel value under which arming is allowed.Throttle must be below this limit prior to ARM mode being selected.Throttle Channel value for 0% throttle - The channel value (in ¬µS) for the channel to be considered 0%.Throttle Channel value for 100% throttle - The channel value (in ¬µS) for the channel to be considered 100%.Cyclic Deadband and Yaw Deadband - adjust to the smallest possible value that doesn't make your model drift in the Rates Preview window.  caution Calibrating Stability Mode The stability modes (Angle, Horizon or Rescue) can be calibrated so that the heli doesn't drift much when using such a mode. This can only be done via the accelerometer trims.Do not use trim on your transmitter.  You should end up with something similar to this:   ","version":"Dev","tagName":"h2"},{"title":"Telemetry Sensors‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/next/configurator/tabs/receiver#telemetry-sensors","content":" Use the below switch to enable/disable the telemetry stream sent to your radio. Each sensor can then be enabled or disabled individual depending on your requirement.    tip For ELRS receivers, follow the ELRS Custom Telemetry page for how to setup. This is new for Rotorflight 2.1 and ELRS Reuse is no longer available. ","version":"Dev","tagName":"h2"},{"title":"Profiles","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/profiles","content":"","keywords":"","version":"Dev"},{"title":"Main Tuning Parameters‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#main-tuning-parameters","content":" ","version":"Dev","tagName":"h2"},{"title":"PID Controller Gains‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#pid-controller-gains","content":"   Proportional‚Äã  The gain factor that is proportional to the rate error. High proportional gain increase response speed of the helicopter. Low proportional gain results in overall slow system response. Too high results in fast oscillation (~20hz). It also helps reduce the slow oscillation due to high Integral gain.  Integral‚Äã  The gain factor that is proportional to the accumulated error. Low integral gain results in drift when hovering, and uneven roll or flip rate during continuous roll / flips. It also results in the helicopter not &quot;wanting&quot; to finish maneuvers. Integral too high results in slow oscillation (1-3hz) during cyclic input stops and/or during high disturbance scenarios such as stops of (piro) pitch pumps and tick-tock stops.  Derivative‚Äã  The gain factor proportional to the change of error. It is responsible for &quot;dampening&quot; the overshoot caused by proportional gain. The Derivative gain is particularly sensitive to noise. Ideally, high derivative gain dampens the system too much results in slow response. However, in practice, noise-induced fast oscillation would occur first. Too low results in fast oscillation during stops due to high proportional gain.  Feedforward‚Äã  The gain factor proportional to the input. In practice, feedforward gain is used to eliminate I-term windup, which occurs after continuous flips and rolls. If the helicopter does not stop immediately and continue moving in the rolling / flipping direction, feedforward gain needs to be increased. If FF gain is set to be too high, the helicopter may overshoot during such maneuver. Thus it is advised to start tuning from low.  Boost‚Äã  The setpoint boost - or B-term will increase the stick reaction speed. In case the heli is not reacting fast enough, the reaction can be boosted with this new B-gain on each axis separately. This seems to be in the range of 20..50  This provides a rapid short term increase in your command. This parameter is used in conjunction with the time B-Cutoff.  ","version":"Dev","tagName":"h3"},{"title":"Advanced Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#advanced-settings","content":" ","version":"Dev","tagName":"h2"},{"title":"PID Controller Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#pid-controller-settings","content":"   Error Rotation‚Äã  If turned on, the I-term can transfer between pitch and roll axis during pirouetting. Increase the performance of overall piro related maneuvers. This is sometimes referred to as piro compensation.  Ground Error Decay‚Äã  A safety feature. This is to prevent the helicopter from tilting during takeoff.  I-term Relax Type‚Äã  The axis that I-term relax is applied to. Generally this is Roll, Pitch and Yaw (RPY)  I-term Relax Cutoff Points‚Äã  The I-term relax corresponds to the speed of control input for a given axis. When the control input exceed a certain speed, I-term would stop charging. This partially solved the slow overshoot at cyclic input stops due to I-gain charging at fast stick input. The cutoff value corresponds to the input FREQUENCY. A lower value gives more I-term relax, and a higher value provides less I-term relax. It is advised to start high and decrease until bounce back disappears.  Error Limits‚Äã  The limit of how much I-term can be charged. During normal flights, it would not reach this limit. (More info needed)  ","version":"Dev","tagName":"h3"},{"title":"Offset Limit/Gain‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#offset-limitgain","content":" The offset gains are used for the High Speed Integral feature.    Offset Limits‚Äã  This is a hard limit for the offset angle in the PID loop. The absolute offset and thus the O-term will never go above these limits.  Offset Gains‚Äã  Gain for offset term,(Integral for high speed flight).  ","version":"Dev","tagName":"h3"},{"title":"Main Rotor Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#main-rotor-settings","content":"   ","version":"Dev","tagName":"h2"},{"title":"Collective To Pitch Feedforward Gain‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#collective-to-pitch-feedforward-gain","content":" The pre-compensation for pitch axis when collective is high. Since there is drag-induced pitching motion (there is more drag on the tail thus the helicopter would want to have nose-up tendency when climbing), increasing this gain would compensate that. High gain push the nose down during climb ups. However, it is also advised to select a relatively low value to be conservative.  ","version":"Dev","tagName":"h3"},{"title":"Cyclic Cross Coupling‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#cyclic-cross-coupling","content":" Cyclic cross coupling compensation removes the aileron wobble when only elevator is applied.  Cross-Coupling Gain‚Äã  Amount of compensation applied for Pitch-to-Roll decoupling.  Cross-Coupling Ratio‚Äã  Amount of Roll-to-Pitch compensation needed, vs. Pitch-to-Roll.  Cross-Coupling Cutoff Frequency‚Äã  Frequency limit for the compensation, higher value will make the compensation action faster.  ","version":"Dev","tagName":"h3"},{"title":"Tail Rotor Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#tail-rotor-settings","content":"   CW/CCW Stop Gain‚Äã  The increase of yaw (what) gain during stops. Higher gain results in crisper stops. Too high may cause fast oscillations.  Cyclic Feedforward Gain‚Äã  Since cyclic input creates more torque on the main rotor, this gain aims to pre-compensate the tail motion due to cyclic inputs. a high cyclic value results CW motion on tail when starting pitching/rolling, a low value results CCW motion. (for CW main rotor)  Collective Feedforward Gain‚Äã  The pre-compensation due to the increase of collective pitch. It is advised to tune it based on the immediate response after a the beginning of a climb up. Higher gain results in CW response, lower gain results in CCW response. It is advised to use a lower value since it may affect tail performance during other maneuvers.  Collective Impulse Feedforward Gain‚Äã  The pre-compensation due to the sudden change of collective. Ideally it is designed to clean up any tail movement in small pitch pumps, however, the compensation is generally overcompensating. Thus it is suggested to turn it off for now.  Collective Impulse Feedforward Decay Time‚Äã  Decay time for collective impulse feedforward mixed into yaw.  ","version":"Dev","tagName":"h2"},{"title":"PID Controller Bandwidth‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#pid-controller-bandwidth","content":"   Row/Pitch/Yaw Bandwidth‚Äã  An extra low pass filter for each axis. It is specifically designed to preserve a weaker filter on the yaw axis to increase tail performance. High value corresponding to weaker filter. Too high may cause wobbles. Too low may cause delay and even instability in the control loop.  Row/Pitch/Yaw D-term cutoff‚Äã  An extra first order low pass filter just for the D-gain to further reduce the sensitivity to noise. A high value decreases the effectiveness but may potentially increase the D-gain performance. A low value increase the filter effect but may hinder D-term effectiveness. It is advised to keep it around 20Hz to prevent oscillation.  B-Term Cut-off‚Äã  This is controlling how &quot;quick&quot; or &quot;twitchy&quot; the boost is. This works exactly the same as D-cutoff, but on setpoint. It is safe to start with the same cutoffs as used with D. Usually in the range of 10..20. This is used in conjunction with Boost or B-gain  ","version":"Dev","tagName":"h2"},{"title":"Auto Leveling Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#auto-leveling-settings","content":"   Acro Trainer gain‚Äã  This determines how aggressively the heli tilt back to the maximum angle (if exceeded) while in TRAINER mode.  Acro Trainer angle limit‚Äã  This determines the maximum angle the heli can tilt to while in TRAINER mode.  Angle Mode leveling gain‚Äã  This determines how aggressively the heli tilt back to level while in ANGLE mode.  Angle Mode maximum angle‚Äã  This determines the maximum angle the heli can tilt to while in ANGLE mode.  Horizon Mode leveling gain‚Äã  This determines how aggressively the heli tilt back to level while in HORIZON mode.  ","version":"Dev","tagName":"h2"},{"title":"Rescue Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#rescue-settings","content":"   ","version":"Dev","tagName":"h2"},{"title":"Enable Rescue‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#enable-rescue","content":" Enable or disable the rescue mode.  Flip to upright‚Äã  Activate flip to upright option when the heli is inverted.  Pull-up Collective‚Äã  Values 0.0-100. This is to be set to a level where the helicopter rapidly gains height.  Pull-up Time‚Äã  How long pull up collective should be applied. This is usually about 0.3 to 0.5s  Climb Collective‚Äã  Values 0.0-100. This is to be set to a level where the helicopter gains height.  Climb Time‚Äã  How long Climb collective should be applied. This is usually about 0.5 to 1.5s  Hover Collective‚Äã  Increase this value until the heli hovers at a stable altitude  Flip Fail Time‚Äã  This is a safety feature. If there is a mechanical issue preventing the helicopter from completing the flip during this time the rescue mode will exit  Exit Time‚Äã  This slows the transition from rescue back to normal mode. This is helpful if you have rescued from inverted where your collective may be in the opposite direction. This prevents it from rapidly pitching down.  Leveling Gain‚Äã  How strong the helicopter will level. Too low and the helicopter will be sluggish to level. Too high and it will wobble/vibrate.  Flip-to-Upright Gain‚Äã  How strong the helicopter will flip to upright.  Max Leveling Rate‚Äã  Used to control how fast the helicopter levels. Set this to a value that is achievable by your helicopter. Larger slower helicopters may need this reduced.  Max Leveling Acceleration‚Äã  Limit how fast the controller tries to accelerate the helicopter to level or flip. Larger slower helicopters may need this reduced.  ","version":"Dev","tagName":"h3"},{"title":"Copy Profile‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/next/configurator/tabs/profiles#copy-profile","content":" You can use the Copy profile button at the upper right corner to copy the values of the current profile to another one. ","version":"Dev","tagName":"h2"},{"title":"Servos","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/servos","content":"","keywords":"","version":"Dev"},{"title":"Servo Numbering‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#servo-numbering","content":" ","version":"Dev","tagName":"h2"},{"title":"Direct‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#direct","content":" For helicopters that uses mechanical mixing, where the Pitch, Roll, and Collective movements are each controlled by a dedicated servo by means of a complex series of linkages and levers from the servos up to the swashplate.  Servo 1 - Pitch Servo 2 - Roll Servo 3 - Collective Servo 4 - Rudder  ","version":"Dev","tagName":"h3"},{"title":"CCPM‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#ccpm","content":" For 120, 135 and 140 deg CCPM swashplates. Looking from the tail towards the nose of the helicopter:  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Left side Servo 3 - Right side Servo 4 - Rudder    ","version":"Dev","tagName":"h3"},{"title":"Fixed pitch‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#fixed-pitch","content":" 90deg L‚Äã  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Side servo Servo 3 - Rudder    90deg V‚Äã  Servo 1 - Left side Servo 2 - Right side Servo 3 - Rudder    ","version":"Dev","tagName":"h3"},{"title":"Servo Override‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#servo-override","content":" The toggle at the bottom of this page enables the servo overrides. The purpose of this is so that each servo can be driven by the slider to calibrate the range and center points. Beside each servo is an individual override.  The servo override slider scale is in degrees    ","version":"Dev","tagName":"h2"},{"title":"Servo Configuration parameters‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#servo-configuration-parameters","content":"   ","version":"Dev","tagName":"h2"},{"title":"Center‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#center","content":" In general this will be 1520us for cyclic servos and 760us for tail servos.  ","version":"Dev","tagName":"h3"},{"title":"Min and Max‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#min-and-max","content":" These are hard limits to prevent servos binding or moving outside of their mechanical limits. If a servo is commanded to a point that is greater or less than it is capable it will buzz and likely burn out. These settings should be used to limit the command.  ","version":"Dev","tagName":"h3"},{"title":"Scale Neg and Scale Pos‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#scale-neg-and-scale-pos","content":" Scales the negative and positive direction of the servo to match the commanded angle.  ","version":"Dev","tagName":"h3"},{"title":"Rate‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#rate","content":" This is the servo frequency. This will be specified by the manufacturer. A large proportion of servos suitable for cyclic operate at 333Hz.  note For Rotorflight 2 it is recommended that tail servos are assigned to a different timer than cyclic servos (see Remapping). This means that tail servos can be set to a different frequency (i.e. faster).  ","version":"Dev","tagName":"h3"},{"title":"Speed‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#speed","content":" Servo Speed Equalization. The aim of this parameter is to remove the collective &quot;bobbing&quot; when fast elevator changes are applied.  The bobbing happens because the elevator servo has to move double distance vs. the aileron servos, when elevator position is changed. If the change is faster than the servos can go, the aileron servos will reach the target sooner than the elevator servo, causing the swash to jump slightly in the process.  To tune this value increase the speed value (it's actually ms/60¬∞, like in the servo datasheet) until the bobbing is not visible any more. It should be always ok to use the value from the servo datasheet if unsure.  ","version":"Dev","tagName":"h3"},{"title":"Reverse‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#reverse","content":" Toggle for forward or reverse servo direction.  ","version":"Dev","tagName":"h3"},{"title":"Geo Cor‚Äã","type":1,"pageTitle":"Servos","url":"/docs/next/configurator/tabs/servos#geo-cor","content":" Geometry Correction. Servos are rotary, so at high angles this results in smaller swashplate movement for each degree of servo movement. Geometry correction accounts for this and provides better control at high angles (e.g. 3D flight).  In order to use this feature it is important to set the servo arm at 90¬∞ (with servo center) and calibrating the servo scale. ","version":"Dev","tagName":"h3"},{"title":"Setup","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/setup","content":"","keywords":"","version":"Dev"},{"title":"Calibrate Accelerometer‚Äã","type":1,"pageTitle":"Setup","url":"/docs/next/configurator/tabs/setup#calibrate-accelerometer","content":" The accelerometer is used to determine the orientation of the flight controller. It is used to determine the pitch, roll and yaw angles. You can calibrate it here, following the instructions.  info The accelerometer is used for self stabilization features, like angle, horizon, acro trainer, and even rescue. If you do not intend to use these features, you can skip this step, or even disable the accelerometer entirely.  ","version":"Dev","tagName":"h2"},{"title":"Calibrate Magnetometer‚Äã","type":1,"pageTitle":"Setup","url":"/docs/next/configurator/tabs/setup#calibrate-magnetometer","content":" The magnetometer (compass) is used to determine the heading of the flight controller in 3d space. This is useful for more accurate information for GPS rescue( Not yet implemented ). Calibrate it following the instructions  The magnetometer calibration process is time limited, you only have 30 seconds to do the movements.  ","version":"Dev","tagName":"h2"},{"title":"Reset Settings‚Äã","type":1,"pageTitle":"Setup","url":"/docs/next/configurator/tabs/setup#reset-settings","content":" Reset Flight Controller to target default parameters.  ","version":"Dev","tagName":"h2"},{"title":"Bootloader/DFU‚Äã","type":1,"pageTitle":"Setup","url":"/docs/next/configurator/tabs/setup#bootloaderdfu","content":" A manual way to put the flight controller into DFU (Device Firmware Update) mode without having to hold down the physical boot button. This is useful if you're having issues when flashing. Board will remain in DFU mode until cycled or a flash is completed.  ","version":"Dev","tagName":"h2"},{"title":"Mass Storage Mode‚Äã","type":1,"pageTitle":"Setup","url":"/docs/next/configurator/tabs/setup#mass-storage-mode","content":" Reboot into mass storage mode to access blackbox data logs.  ","version":"Dev","tagName":"h2"},{"title":"System Reboot‚Äã","type":1,"pageTitle":"Setup","url":"/docs/next/configurator/tabs/setup#system-reboot","content":" Reboot and reinitialize the system. ","version":"Dev","tagName":"h2"},{"title":"Status","type":0,"sectionRef":"#","url":"/docs/next/configurator/tabs/status","content":"","keywords":"","version":"Dev"},{"title":"Info‚Äã","type":1,"pageTitle":"Status","url":"/docs/next/configurator/tabs/status#info","content":" Shows some basic data from the flight controller and model. This includes:  Craft NameFirmwareBoard    ","version":"Dev","tagName":"h2"},{"title":"Arming‚Äã","type":1,"pageTitle":"Status","url":"/docs/next/configurator/tabs/status#arming","content":"   Enable Arming: Use this switch to enable arming while the configurator is connected.  caution With the arming enabled, the motor can spoolup when the throttle is released. Remove blades for safety.  Arming Disable Flags: Shows all of the &quot;errors&quot; that prevent the flight controller from arming. This is useful to check if you're having issues arming.  You can find out a description of these flags from the List of Arming prevention flags  ","version":"Dev","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Status","url":"/docs/next/configurator/tabs/status#battery","content":"   Voltage - Shows the current battery voltage if the settings for it are set correctly.Current - Shows the current drawn from the battery if the settings for it are set correctly.Capacity - Shows the consumed capacity of the battery in mAh.Charge Level - Shows remaining battery capacity in percent.  ","version":"Dev","tagName":"h2"},{"title":"Live Gyro Preview‚Äã","type":1,"pageTitle":"Status","url":"/docs/next/configurator/tabs/status#live-gyro-preview","content":" A live preview of the gyroscope data. This is useful to check if the gyroscope is aligned correctly, and if it isn't getting/giving noisy data.    Reset Z axis - This button resets the heli heading to 0 degrees.  info You can set the gyroscope alignment in the Configuration tab.  ","version":"Dev","tagName":"h2"},{"title":"Instruments‚Äã","type":1,"pageTitle":"Status","url":"/docs/next/configurator/tabs/status#instruments","content":" A graphic replica of real aircraft instruments.    ","version":"Dev","tagName":"h2"},{"title":"Receiver‚Äã","type":1,"pageTitle":"Status","url":"/docs/next/configurator/tabs/status#receiver","content":" The receiver output preview shows the current state of the receiver channels, both in channel value and graph forms, and how those affect the heli movement.   ","version":"Dev","tagName":"h2"},{"title":"Adding a Blog Post","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Adding-a-Blog","content":"Adding a Blog Post To make a new Blog post open the Blog Directory. Click on one of the previous posts to use as a template then chose download. Make the changes you wish using a text editor. Click on the Blog folder and Add File. Upload your new blog file.","keywords":"","version":"Dev"},{"title":"Software Developers","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Developers","content":"","keywords":"","version":"Dev"},{"title":"Process‚Äã","type":1,"pageTitle":"Software Developers","url":"/docs/next/Contributing/Developers#process","content":" Fork repositoryCreate a branch from the devel branchMake your changesCheck and confirm the devel branch does not have updates since the branch was created. Rebase if required.Create PR ","version":"Dev","tagName":"h2"},{"title":"Flow charts/Diagrams","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Flow-Charts","content":"Flow charts/Diagrams Using charts, flow diagrams etcMermaid Maybe we can use this somewhere. PID Tuning NO FilteringFiltering is working :::caution help ::: caution P\tI\tD\tO\tB\tFF2\t4\t5\t6\t9\t8 Use tabs in admonitions AppleOrangeBanana This is an apple üçé","keywords":"","version":"Dev"},{"title":"Editing the Website","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Editing-the-Website","content":"","keywords":"","version":"Dev"},{"title":"Online Editing‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/next/Contributing/Editing-the-Website#online-editing","content":" This is probably the easiest and most straightforward way to make changes. At the bottom of each page there is an Edit this page button. Click on this link to take you to the project folder on Github.    In the top righthand corner of the page click on Edit    You can now edit the Markdown file as required. When complete click on the Commit Changes Button on the top Right corner of the page.    ","version":"Dev","tagName":"h2"},{"title":"Adding pictures‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/next/Contributing/Editing-the-Website#adding-pictures","content":" To add an immage to your page open the img folder that is located in the same directory as your page. Chose Add file and upload.  info Please do not use Capitals* or Underscore (_) in the image names.    ","version":"Dev","tagName":"h2"},{"title":"Adding a new page‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/next/Contributing/Editing-the-Website#adding-a-new-page","content":" Download one of the current pages. Open the Markdown (.MD) file in an Editor. At the top of the file change the Sidebar_Position to position your new page where you wish it to be in the sidebar. The current pages are numbered with a spacing of 10 so there are free spaces for new pages between each.  Once complete add File and upload the new page. ","version":"Dev","tagName":"h2"},{"title":"Contributing to Rotorflight","type":0,"sectionRef":"#","url":"/docs/next/Contributing/intro","content":"","keywords":"","version":"Dev"},{"title":"Translations‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/next/Contributing/intro#translations","content":" There are heaps of opportunities to translate the language files to provide the Configurator in your language. This can be both to update current languages or to add a new language.  ","version":"Dev","tagName":"h2"},{"title":"Flight testing/Crashing‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/next/Contributing/intro#flight-testingcrashing","content":" Rotorflight gets better due to beta-testing code. Lots of things have to be tested and are constantly changing. Some things are not working yet. Sometimes bugs are creeping into the code.  ANYBODY INVOLVED MUST UNDERSTAND THAT CRASHING IS UNAVOIDABLE.  Maybe it's a bug, maybe it's a misconfiguration - it happens.  If you are still interested, we are currently looking for people with:  a spare collective pitch helicoptergood building skill, especially with electronicsgood enough flying skill to judge if things are working or notexperience with drones and Betaflight is a major pluspatience  ","version":"Dev","tagName":"h2"},{"title":"Documentation‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/next/Contributing/intro#documentation","content":" Updating the website. Things are constantly changing, so the website has to update to match. If you have developed your skills to the point where you can assist in telling others how it all works then we would love assistance in keeping this resource up to date. ","version":"Dev","tagName":"h2"},{"title":"Support Us!!","type":0,"sectionRef":"#","url":"/docs/next/Contributing/support","content":"Support Us!! We hope you have been enjoying using Rotorflight. If so please consider supporting us with a donation to our project. Paypal‚Äã Open Collective‚Äã","keywords":"","version":"Dev"},{"title":"Modeling Cross Coupling","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Modeling-Cross-Coupling","content":"","keywords":"","version":"Dev"},{"title":"The problem‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#the-problem","content":" When the helicopter experience high disturbance in the pitch axis, it would wobble to the roll axis. Similarly, when the helicopter experience disturbance in the roll axis, it would transfer to the pitch axis, but to a lesser degree.   (Thanks to Jonas for the picture)  ","version":"Dev","tagName":"h2"},{"title":"To explain the coupling‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#to-explain-the-coupling","content":" ","version":"Dev","tagName":"h2"},{"title":"Theory 1‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-1","content":" It might be due to the fact that the rotor and motors are spinning disks. Due to gyroscopic precession, there must be some coupling between pitch and roll axis. (Not true, perfect spinning disks does not have coupling) Instead, if theory 3 dominates, conventional motor would provide the same motion. However, direct drive motor would actually counter the tilting motion.  ","version":"Dev","tagName":"h3"},{"title":"Theory 2‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-2","content":" The transient coupling is likely due to the change of phase lag of the main rotor during sudden change of roll/pitch rate. At high acceleration, the blades flex and introduce a much smaller phase lag ( &lt; 90 degrees).  ","version":"Dev","tagName":"h3"},{"title":"Theory 3‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-3","content":" The rotor and body can be modeled as a rigid spinning disk and a body coupled by a spring and a damper. When commanded to pitch forward, the disk tilts forward first and the body stays the same attitude. Since there is a difference in angles, the spring loads up, giving the body a torque in positive pitch. However, by Newton's third law, the disk would &quot;feel&quot; a positive pitch force, which turns 90 degree and gives a torque on the roll axis.    ","version":"Dev","tagName":"h3"},{"title":"To explain the different magnitudes‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#to-explain-the-different-magnitudes","content":" ","version":"Dev","tagName":"h2"},{"title":"Theory 1‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-1-1","content":" There is a large difference in inertia between pitch and roll axis.  ","version":"Dev","tagName":"h3"},{"title":"Theory 2‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-2-1","content":" Tennis Racket theorem. The pitch axis is the second principal axis which is unstable.  ","version":"Dev","tagName":"h3"},{"title":"Proposed controller design‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#proposed-controller-design","content":" ","version":"Dev","tagName":"h2"},{"title":"Theory 3‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-3-1","content":" If theory 3 is the main contributor of the coupling effect, one simple idea is to make the disk rolling forward at all time. To know that the disk has a force on it, we need to take derivative of the gyro signal (i.e. D-term) and add that to the roll axis. There is no need for this on the Roll-to-pitch since there is not much coupling. ","version":"Dev","tagName":"h3"},{"title":"Controllers","type":0,"sectionRef":"#","url":"/docs/next/controllers","content":"Controllers There are several flight controllers specifically made for Rotorflight. Radiomaster NEXUSFlydragon V2.2Flywing F405HELIMatek G474HeliMatek G474-HLITEDIY - from a Betaflight FC","keywords":"","version":"Dev"},{"title":"Flywing Heli405","type":0,"sectionRef":"#","url":"/docs/next/controllers/flywingf405heli","content":"","keywords":"","version":"Dev"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/next/controllers/flywingf405heli#rotorflight-target","content":" Servo Tail: Use the FLYWING_HELI405 target for a servo tail Heli.  Motorised Tail: Use the FLYWING_HELI405M target for a Motorised tail. The 'M' is Motorised.    ","version":"Dev","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/next/controllers/flywingf405heli#wiring","content":"   ","version":"Dev","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/next/controllers/flywingf405heli#uart-ports","content":" UART 1 - GPS ConnectorUART 2 - Top JST-GH portUART 6 - DSM and SBUS       ","version":"Dev","tagName":"h3"},{"title":"Matek G474Heli","type":0,"sectionRef":"#","url":"/docs/next/controllers/matek_heli","content":"","keywords":"","version":"Dev"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/controllers/matek_heli#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"Dev","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/controllers/matek_heli#wiring","content":"   ","version":"Dev","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/controllers/matek_heli#uart-ports","content":"     ","version":"Dev","tagName":"h3"},{"title":"Onboard BEC‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/controllers/matek_heli#onboard-bec","content":" The Matek G474Heli contains a 5A-8A peak, Variable voltage (5v or 7.2v) BEC to supply the servos. The BEC will supply 5v by default and 7.2 v when the solder bridge is connected. THis is powered by the VBat connection.  caution If using an external BEC the internal BEC MUST be disabled via the [Vx Off] solder bridge.    ","version":"Dev","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/controllers/matek_heli#manuals","content":" Detail specifications and documentation available at the Matek website. Matek G474-HELI website ","version":"Dev","tagName":"h3"},{"title":"Flydragon V2.2","type":0,"sectionRef":"#","url":"/docs/next/controllers/flydragon2.2","content":"","keywords":"","version":"Dev"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#rotorflight-target","content":" When updating Rotorflight firmware. Please use the FLYDRAGONF722_V2_2 target.    ","version":"Dev","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#motorised-tail","content":" To use the Flydragon with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 C09 save    ","version":"Dev","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#wiring","content":"   caution WARNING: The RPM-S Port is powered via the internal 5V supply which is also powered during USB connection. If you have any power supplies connected or innapropriate loads you are likely to damage your board. DO NOT plug in your ESCs BEC wire into here, many BECs act like a deadshort if you attempt to backfeed them and you WILL blow out the 5V supply on your board when you connect USB if you do this. Power to the rest of the ports is all common power you can connect whatever to.  ","version":"Dev","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#uart-ports","content":" UART 1 - Internal ELRS Receiver - (disable as shown below if not used)UART 2 - SBUS or FPORT connectorUART 3 - Rx and Tx on Extension portUART 5 - Rx and Tx on GPS port (can also be used for the Receiver)    ","version":"Dev","tagName":"h3"},{"title":"Remapping‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#remapping","content":" Several of the ports can be remapped for other purposes.  ","version":"Dev","tagName":"h2"},{"title":"Use RPM-E for Motor 1 RPM (default)‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#use-rpm-e-for-motor-1-rpm-default","content":" resource FREQ 1 A01 save  ","version":"Dev","tagName":"h3"},{"title":"Use RPM-S for Motor 1 RPM‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#use-rpm-s-for-motor-1-rpm","content":" resource FREQ 1 A15 save  ","version":"Dev","tagName":"h3"},{"title":"Use both RPM-E and RPM-S‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#use-both-rpm-e-and-rpm-s","content":" RPM-E port for Motor 1RPM-S port for Motor 2  resource FREQ 1 A01 resource FREQ 2 A15 save  ","version":"Dev","tagName":"h3"},{"title":"remap SBUS to SERVO 5‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#remap-sbus-to-servo-5","content":" resource SERIAL_RX 2 none resource SERVO 5 A03 timer A03 AF3 mixer input CH10 -1000 1000 1000 mixer rule 10 set CH10 S5 1000 0 save  ","version":"Dev","tagName":"h3"},{"title":"remap F.PORT to SERVO 5‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#remap-fport-to-servo-5","content":" resource SERIAL_TX 2 none resource SERVO 5 A02 timer A02 AF3 mixer input CH10 -1000 1000 1000 mixer rule 10 set CH10 S5 1000 0 save  ","version":"Dev","tagName":"h3"},{"title":"Can I use a receiver other than ELRS?‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#can-i-use-a-receiver-other-than-elrs","content":" External receivers can be connected to the SBUS, FPORT or any of the Extension UART ports (UART 3 or 5). If not using the inbuilt ELRS receiver it should be disabled.  ","version":"Dev","tagName":"h2"},{"title":"How to Enable/Disable the Internal Receiver:‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#how-to-enabledisable-the-internal-receiver","content":" The internal receiver is default turned on. When using external receivers, we need to turn it off. Connect the Flydragon F722 V2 to the Rotorflight Configurator. Go to CLI (command line) page: Command to DISABLE the receiver: set pinio_config = 1,1,1,1    Command to ENABLE the receiver: set pinio_config = 129,1,1,1    ","version":"Dev","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/controllers/flydragon2.2#manuals","content":" Flydragon V2.2 Flight Controller Manual Flydragon V2 Flight Controller Manual Flydragon V2 internal ELRS Manual ","version":"Dev","tagName":"h2"},{"title":"Matek G474-HLite","type":0,"sectionRef":"#","url":"/docs/next/controllers/matek_hlite","content":"","keywords":"","version":"Dev"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/controllers/matek_hlite#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"Dev","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/controllers/matek_hlite#motorised-tail","content":" The H-Lite FC is configured with 4 servos and 1 motor. If you wish to use this board for a motorised tail it can be added in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource motor 2 A06 save    ","version":"Dev","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/controllers/matek_hlite#wiring","content":"   ","version":"Dev","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/controllers/matek_hlite#uart-ports","content":"     ","version":"Dev","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/controllers/matek_hlite#manuals","content":" Detail specifications and documentation available at the Matek website. Matek G474-HLite website ","version":"Dev","tagName":"h3"},{"title":"Diy board - Betaflight FC","type":0,"sectionRef":"#","url":"/docs/next/controllers/betaflight-diy","content":"","keywords":"","version":"Dev"},{"title":"Flashing Rotorflight‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/controllers/betaflight-diy#flashing-rotorflight","content":" Flashing Rotorflight firmware  ","version":"Dev","tagName":"h3"},{"title":"Remap Betaflight board‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/controllers/betaflight-diy#remap-betaflight-board","content":" Remapping servos and motors ","version":"Dev","tagName":"h3"},{"title":"Download - Configurator","type":0,"sectionRef":"#","url":"/docs/next/download/configurator","content":"Download - Configurator warning This is a development code for the next Rotorflight release. This is development software and may have bugs or unexpected issues. Please use the stable Rotorflight v2.1 if you are not using this for testing purposes. Download Here!! No Dev release available","keywords":"","version":"Dev"},{"title":"Radiomaster NEXUS","type":0,"sectionRef":"#","url":"/docs/next/controllers/rm-nexus","content":"","keywords":"","version":"Dev"},{"title":"Release Video‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#release-video","content":"   Specifications Hardware SpecificationsÔºö‚Äã NEXUS Heli Flight Controller MCU: STM32F722RET6 Gyro (IMU): ICM-42688-P Flash Memory (Black Box. IC): 128MB (W25N01GVZEIG) Barometer: SPL06-001 Uart: 6 - DSM[UART1], S.BUS[UART2], A-CRSF[UART4], PORT-B[UART6], PORT-C[UART3] Servo: 4 - S1, S2, S3, TAIL Rpm Sensor: 1 - FROM ESC FREQUENCY SENSOR Receiver Support: CRSF, ELRS, GHOST, S.BUS, SUMD, IBUS, XBUS, EXBUS, PPM, MSP, DSM2, DSMX Voltage Supply(DC): 5 - 12.6V A-B-C Serial Port Power Output: 5V - 2.0A DSM Serial Port Power Output: 3.3V - 0.5A Telemetry: S.BUS, HoTT, S.Port, MSP, EDGETX, ELRS ESC: PWM, Oneshot, Multishot, Dshot Support Tail ESC: 760Œºs/1520Œºs Servo Support Tail Motor: Yes Dimensions: 41.3 X 25.4 X 13.1mm Weight: 16.8g  ","version":"Dev","tagName":"h2"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#rotorflight-target","content":" When updating Rotorflight firmware. Please use the NEXUS_F7.    ","version":"Dev","tagName":"h3"},{"title":"Matching RP3-H ELRS receiver‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#matching-rp3-h-elrs-receiver","content":" Any of the Rotorflight receiver protocols can be used with the NEXUS. Radiomaster does have the RP3-H receiver which is a direct plug and play ELRS receiver.    ","version":"Dev","tagName":"h3"},{"title":"F-Port‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#f-port","content":" Nexus supports F.Port on: The 'TX' pin of Port A, B or C or by remapping the SBUS to a TX for F.Port.   F.Port is an Un-iverted protocol over a single wire so must configured with both of these options enabled.   ","version":"Dev","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#motorised-tail","content":" To use the NEXUS with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 B03 save    ","version":"Dev","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#wiring","content":"   ","version":"Dev","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#uart-ports","content":" All the UARTS on the NEXUS are labeled to match each port. Just enter the function you wish to use for each port such as SerialRx (receiver), ESC Telemetry, blackbox, GPS etc.    ","version":"Dev","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/controllers/rm-nexus#manuals","content":" Radiomaster NEXUS website ","version":"Dev","tagName":"h3"},{"title":"Download - Edge Tx Lua","type":0,"sectionRef":"#","url":"/docs/next/download/edge-tx-Lua","content":"Download - Edge Tx Lua Lua script must match the current firmware version loaded into your Flight Controller. If you update firmware you must also update the Lua scripts to match. Download Here!! No Dev release available","keywords":"","version":"Dev"},{"title":"Download - Blackbox","type":0,"sectionRef":"#","url":"/docs/next/download/blackbox","content":"Download - Blackbox Download Here!! No Dev release available","keywords":"","version":"Dev"},{"title":"Download - Ethos Tx Lua","type":0,"sectionRef":"#","url":"/docs/next/download/ethos-Lua","content":"","keywords":"","version":"Dev"},{"title":"Versions‚Äã","type":1,"pageTitle":"Download - Ethos Tx Lua","url":"/docs/next/download/ethos-Lua#versions","content":" There are two different Lua scripts available for Ethos radios. Either version can be used. First version is text based. The second is the RF touch version. Choose whichever you prefer.  Download Ethos Lua Here!! No Dev release available  Download RF Touch Lua Here!! No Dev release available   ","version":"Dev","tagName":"h2"},{"title":"Getting Started","type":0,"sectionRef":"#","url":"/docs/next/examples","content":"Getting Started The general process for setting up a helicopter using Rotorflight. This process is generic and may be slightly different, depending on your particular helicopter. Install the latest RF2 releaseRemap your servos and motors if you are using a Betaflight FC, otherwise, skip this step.Calibrate the Accelerometer.Check you Board alignment setting and adjust if necessary.Connect Receiver to a free UART and select corresponding receiver settings.Select Battery Voltage and Current Source as per you setup, and Set Battery Capacity and Cell Count.Select ESC Throttle protocol, and Optional: ESC Telemetry protocol, Set Gear Ratios, and Motor Pole Count.Optional: Select and Setup the Governor.Setup Servos.Setup and Calibrate the Mixer.Setup the Gyro RPM Filters.Set the Rates as per flying style.Set the PID Values.Setup ARMING, and other required modes.Setup Profile Switching and other Adjustments if required.Setup BLACKBOX Logging.Optional: Setup LUA Script on radio.","keywords":"","version":"Dev"},{"title":"Design Requirements","type":0,"sectionRef":"#","url":"/docs/next/Manufacturers/Design-Requirements","content":"","keywords":"","version":"Dev"},{"title":"Betaflight Guidelines‚Äã","type":1,"pageTitle":"Design Requirements","url":"/docs/next/Manufacturers/Design-Requirements#betaflight-guidelines","content":" Rotorflight is based on Betaflight, and thus has the same basic requirements for the hardware.  Please read the Design Guidelines for Betaflightfirst.  ","version":"Dev","tagName":"h2"},{"title":"Rotorflight Design‚Äã","type":1,"pageTitle":"Design Requirements","url":"/docs/next/Manufacturers/Design-Requirements#rotorflight-design","content":" Rotorflight Design Requirements Github ","version":"Dev","tagName":"h2"},{"title":"Manufacturers Information","type":0,"sectionRef":"#","url":"/docs/next/Manufacturers/intro","content":"","keywords":"","version":"Dev"},{"title":"Flight Controller Specifications‚Äã","type":1,"pageTitle":"Manufacturers Information","url":"/docs/next/Manufacturers/intro#flight-controller-specifications","content":" We have documented some flight controller Design Requirements. Also there are several pin and MCU specific Reference Designs. These are specified to optimise resources and provide a consistent starting point.  note For an FC to be fully supported by Rotorflight-2 (RF2), it must follow one of the Reference Designs.  ","version":"Dev","tagName":"h2"},{"title":"Support‚Äã","type":1,"pageTitle":"Manufacturers Information","url":"/docs/next/Manufacturers/intro#support","content":" Rotorflight can provide a testing team for your design. Both from the electrical side interfacing to different receivers and ESCs as well as flight testing by great pilots. ","version":"Dev","tagName":"h2"},{"title":"Reference Design","type":0,"sectionRef":"#","url":"/docs/next/Manufacturers/Reference-Design","content":"Reference Design Design Please read the page Rotorflight FC Design Requirements first. It is explaining the generic requirements for all Rotorflight designs. For an FC to be fully supported by Rotorflight-2, it must follow one of the reference designs. RF2 will offer more features and easier configurability for designs that are fully compatible. Lots of effort has been put into these designs for making sure they are as flexible as possible, while not imposing any hardware limitations on the functionality. The manufacturer can choose not to implement any features that are marked optional. All other features must be implemented. The reference designs are considering only the aspects that have effect on the software support, mostly the STM32 resource allocation and the minimum set of supported features. The rest - like size, form factor, connector locations - are left for the manufacturer to decide. Rotorflight Reference Design Github Reference Design F7AReference Design F7B","keywords":"","version":"Dev"},{"title":"Flashing Blheli_S ESC to Bluejay firmware","type":0,"sectionRef":"#","url":"/docs/next/setup/blheli_s-to-bluejay","content":"","keywords":"","version":"Dev"},{"title":"Bluejay Configurator web page‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/setup/blheli_s-to-bluejay#bluejay-configurator-web-page","content":" Bluejay can be flashed via the web page application at https://esc-configurator.com/  ","version":"Dev","tagName":"h2"},{"title":"step 1.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/setup/blheli_s-to-bluejay#step-1","content":" Click on settings and check the &quot;Disable common settings&quot;. This enables different settings to be loaded to each ESC which is required so we can change the settings between the main and tail motors.    ","version":"Dev","tagName":"h3"},{"title":"step 2.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/setup/blheli_s-to-bluejay#step-2","content":" From the top right corner click on [Connect]. Power up the ESC with the flight pack and click on [Read Setup].    ","version":"Dev","tagName":"h3"},{"title":"step 3.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/setup/blheli_s-to-bluejay#step-3","content":" Click on [Flash all]  ","version":"Dev","tagName":"h3"},{"title":"step 4.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/setup/blheli_s-to-bluejay#step-4","content":" From the config dropdown chose:  Firmware = BluejayESC = Leave this as you find it. This is specific to your ESC typeVersion = Choose the latest version.PWM Frequency = 24kHz Smaller motors can use higher frequencies due to their very low inductance. Most helicopters 24kHz is suitable however helicopters with very small tail rotors (k110) you can use higher frequencies.  Click on [Flash] to load the new firmware.    ","version":"Dev","tagName":"h3"},{"title":"step 5.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/setup/blheli_s-to-bluejay#step-5","content":" After flashing has completed Click on [Read setup].  On both the tail and Main motors deselect &quot;Brake on stop&quot;On the Main motor slide the &quot;Maximum Braking Strength&quot; to 0. This will disable the Complimentary PWM (Damped Light Mode). This needs to be left active on the Tail motor.  Click the [Write Setup] to complete the setup.   ","version":"Dev","tagName":"h3"},{"title":"Example setup - Servo tail","type":0,"sectionRef":"#","url":"/docs/next/examples/example-1","content":"","keywords":"","version":"Dev"},{"title":"Update Firmware‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#update-firmware","content":" Update the Flight Controller firmware to the current release. Follow the description on the Flashing the firmware page.  ","version":"Dev","tagName":"h2"},{"title":"Setup Receiver‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#setup-receiver","content":" Choose where you want to connect your receiver. Any of the UARTS or SBUS port are suitable depending on your receiver and personal preference. In this example we are using ELRS and will connect to the Port(A) which is default ELRS port.    caution Double check your wires between receiver and flight controller before powering on. Some ELRS receiver manufacturers use a different pin arrangement and connecting to your Flight controller will damage the receiver.  ","version":"Dev","tagName":"h2"},{"title":"Receiver - serial ports‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#receiver---serial-ports","content":" Open the configuration tab and set the serial port Port (A) to Serial_RX. Save and Reboot.    ","version":"Dev","tagName":"h3"},{"title":"Receiver - Rx protocol‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#receiver----rx-protocol","content":" Open the Receiver tab. Set the receiver protocol to TBS CRSF (ELRS) and the channel order to ELRS (AECR1T). Save and Reboot.    ","version":"Dev","tagName":"h3"},{"title":"Receiver - Check‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#receiver---check","content":" Your Receiver should now be connected and operating correctly.    ","version":"Dev","tagName":"h3"},{"title":"Receiver - Update firmware‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#receiver---update-firmware","content":" If you wish to update your firmware for your ELRS receiver you can now connect using ExpressLRS Configurator using the Betaflight Passthrough method.  note You will need to disconnect and close the Rotorflight Configurator and power cycle the receiver before updating your Receiver  ","version":"Dev","tagName":"h3"},{"title":"Receiver - Enable telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#receiver---enable-telemetry","content":" Enable telemetry back to your transmitter    ","version":"Dev","tagName":"h3"},{"title":"Enable ARM mode‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#enable-arm-mode","content":" Arming is an important step for Rotorflight. See the Arming setup page for more details.  ","version":"Dev","tagName":"h2"},{"title":"Gyro setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#gyro-setup","content":" The gyro can be put into the helicopter in many different ways. We now have to set the gyro alignment so that the gyro knows what direction it is pointing in.  ","version":"Dev","tagName":"h2"},{"title":"Gyro - alignment‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#gyro---alignment","content":" Check and confirm on the configuration tab that while moving your helicopter (gyro installed) that the model in the configurator moves in the same direction.    ","version":"Dev","tagName":"h3"},{"title":"Gyro - Calibrate accelerometer‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#gyro---calibrate-accelerometer","content":" With the flight controller installed in your Helicopter open the setup tab and click on the calibrate accelerometer    ","version":"Dev","tagName":"h3"},{"title":"Servo Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#servo-setup","content":" The purpose of this step is to setup and calibrate servos. On the M4 the servos are setup in the CCPM 120 degree arrangement so the servos need to be plugged in as shown below.    ","version":"Dev","tagName":"h2"},{"title":"Mixer Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#mixer-setup","content":" The purpose of this step is to setup and calibrate the mixer.  ","version":"Dev","tagName":"h2"},{"title":"Motor and ESC Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#motor-and-esc-setup","content":" ESC Throttle Protocol - The OMPHobby 65A ESC uses a PWM protocol. ESC telemetry Protocol - Set this to OMPHobby to match the ESC. RPM Sensor - The nexus has an RPM input. The Yellow RPM signal wire from the ESC is plugged into this port. Enabling this toggle enables the RPM so it can be used for the Governor and RPM Filtering Main Rotor Gear Ratio - The M4 is a direct drive Helicopter so is set to 1 / 1 Tail Rotor Gear Ratio - Counting the teeth on the M4 gears is 22 / 99 Main Motor Pole count - The M4 motor has 42 poles 42  note If your helicopter has a two stage gear train, please follow this guide    Governor Mode - Set this to &quot;Mode 1&quot;. This will control the Headspeed and provide slow spoolup. See the Governor Modes and Governor setup for details and examples.    ","version":"Dev","tagName":"h2"},{"title":"Test motor and Telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#test-motor-and-telemetry","content":" Now you can check and confirm your motor runs.  caution This step MUST be done with blades off!!  Enable the motor override and slowly raise the motor override signal. The Motor should begin to spool up and RPM and other ESC telemetry should be displayed.    ","version":"Dev","tagName":"h2"},{"title":"Power setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#power-setup","content":" Since we now have ESC telemetry working we can enable ESC Telemetry as the Voltage and current source.   ","version":"Dev","tagName":"h2"},{"title":"ELRS custom telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#elrs-custom-telemetry","content":" Since Rotorflight v2.1 ELRS will need to use the custom telemetry Lua. The Crossfire protocol is very limited for our helicopters so this is required to get the full range of telemetry that we may wish to see. See the ELRS Custom Telemetry on how to set it up.  ","version":"Dev","tagName":"h2"},{"title":"RPM Filters‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#rpm-filters","content":" From the Gyro tab enable the RPM filters and accept the default.    ","version":"Dev","tagName":"h2"},{"title":"Rates‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#rates","content":" Review and modify your Rates to taste.    ","version":"Dev","tagName":"h2"},{"title":"Pre-flight test‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/next/examples/example-1#pre-flight-test","content":" Check and confirm all your controls are functioning. Pay particular attention to:  When connected to the configurator the model moves in the same way as the real helicopter (tilt forward/backward, sideways and yaw).Tx stick forward, helicopter swash pitched down ","version":"Dev","tagName":"h2"},{"title":"Arming","type":0,"sectionRef":"#","url":"/docs/next/setup/arming","content":"","keywords":"","version":"Dev"},{"title":"Transmitter configuration‚Äã","type":1,"pageTitle":"Arming","url":"/docs/next/setup/arming#transmitter-configuration","content":" The transmitter simply needs a channel that switches between Low (disarmed) and High (Armed). This can be any switch; however, it is preferable that it is not easy to accidentally switch in flight.  ELRS Arming Channel For ELRS receivers - Put your arm switch on AUX1, and set it as 1000 is disarmed, 2000 is armed. Please read ELRS switch configs and Arming for more details  For EdgeTx this would look like this:    This simply switches the Arm channel (CH5/Aux1) from 0% (1000us) to 100% (2000us).    ","version":"Dev","tagName":"h2"},{"title":"Flight Controller configuration‚Äã","type":1,"pageTitle":"Arming","url":"/docs/next/setup/arming#flight-controller-configuration","content":" As shown in the video below: 1. Open the Modes tab 2. Set the channel to match your switch (in this case AUX1) 3. Drag the sliders to the top end of the channel 4. Save 5. Toggle the channel and watch the red indicator pip move. When it is inside the upper range the ARM box turns red. Note - The box shows as &quot;(Disabled)&quot; because it is connected to the Configurator.    ","version":"Dev","tagName":"h2"},{"title":"Swashplate Wiggle indication‚Äã","type":1,"pageTitle":"Arming","url":"/docs/next/setup/arming#swashplate-wiggle-indication","content":" The swashplate is configured to indicated ready for Arming as well as Errors. More details can be found on the Swashplate wiggle page.  ","version":"Dev","tagName":"h2"},{"title":"Arming Disable flags‚Äã","type":1,"pageTitle":"Arming","url":"/docs/next/setup/arming#arming-disable-flags","content":" The Arming disable flags are a list of issues that could be preventing your helicopter from Arming. These are things like Gyro not configured, Receiver fail or throttle not at minimum. Please see the list below for details of each flag and how to fix it.  There are several ways to identify what is preventing your helicopter from Arming. You can view the Arming disable flags from the configurator or on the transmitter (if you have a transmitter with Rotorflight Lua scripts).  info ConfiguratorEdgeTX LuaEthos Lua Configurator‚Äã The Arming disable flags are displayed on the Status tab. Disable flag MSP means you are connected to the configurator. You can enable arming while connected to the configurator by the selecting the enable arming toggle. WARNING this should only be done with blades off!!  ","version":"Dev","tagName":"h2"},{"title":"Disable flags description‚Äã","type":1,"pageTitle":"Arming","url":"/docs/next/setup/arming#disable-flags-description","content":" Disable Flag\tDescription'NOGYRO'\tGyro was not detected 'FAILSAFE'\tFailsafe is active 'RXLOSS'\tRX is in Failsafe. No valid receiver signal is detected. 'BADRX'\tYour receiver has just recovered from receiver failsafe but the arm switch is on 'BOXFAILSAFE'\tYou have enabled Failsafe in the Modes and it is currently active. 'RUNAWAY'\tRunway Takeoff Prevention has been triggered. Disarm then re-arm to clear this condition. 'CRASH'\tCrash Recovery has been triggered. Disarm then re-arm to clear this condition. \\ 'GOVERNOR'\tGovernor enabled but no valid 'fast' RPM source (RPM frequency input or bi-directional D-shot) OR Gove mode 2 and no Voltage input configured. 'THROTTLE'\tLower throttle below Throttle Channel value for arming 'ANGLE'\tCraft is not level. Level craft to within (default) 25 degrees. 'BOOTGRACE'\tArming too soon after power on. Turn off Arm; pause, then Arm again. 'NOPREARM'\tPrearm switch has been set-up but is not activated or prearm has not been toggled after disarm 'LOAD'\tSystem load is too high. This may happen with some low spec boards. Reduce the PID loop frequency and/or number of filters 'CALIB'\tSensor calibration is still ongoing. Wait for sensor calibration to complete. 'CLI'\tCLI is active. Exit the CLI. 'CMS'\tCMS (config menu) is Active - over OSD or other display. Exit the CMS (or OSD menu). 'BST'\tA Black Sheep Telemetry device (TBS Core Pro for example) disarmed and is preventing arming. Refer to the manual for your hardware. 'MSP'\tMSP connection is active, probably via Rotorflight Configurator. Terminate the Rotorflight Configurator connection (disconnect). Note - you would expect this flag if you are looking at the Arm disable flags on the Status tab. 'PARALYZE'\tParalyze Mode has been configured and is currently active. Power cycle/reset FC board. 'GPS'\tGPS rescue mode is configured but required number of satellites has not been fixed. Wait for GPS fix, enable arming without GPS fix, or disable GPS rescue mode. Note - Rotorflight GPS rescue is not functional so should not be configured. 'RESCUE_SW'\tRescue mode has been configured and is currently Active. Switch off rescue mode and toggle the Arm switch. 'RPMFILTER'\tRPM-based filtering is enabled but one or more ESC's are not configured or receiving valid RPM signals. RPM feedback can be from bi-directional Dshot or Frequency inputs using the ESC RPM signal or an external RPM sensor. See RPM Measurement for more details. 'REBOOT_REQD'\tReboot required. Settings have been changed and the flight controller requires a Reboot for the settings changes to take effect. 'DSHOT_BBANG'\tDSHOT Bitbang is not working. Check configuration of timers and DMA for your controller. Generally Dshot Bitbang is not required for Rotorflight so try set dshot_bitbang = OFF in the CLI 'NO_ACC_CAL'\tAccelerometer calibration required. Calibrate the accelerometer or disable features that use it (e.g. Rescue, Horizon, Angle modes etc). 'MOTOR_PROTO'\tESC/Motor Protocol not configured. Select the ESC/Motor protocol to use on the Configuration tab. 'ARMSWITCH'\tArm switch is in an unsafe position. Toggle the arm switch to arm. ","version":"Dev","tagName":"h2"},{"title":"Backup and restore","type":0,"sectionRef":"#","url":"/docs/next/setup/backup-and-restore","content":"","keywords":"","version":"Dev"},{"title":"Back up the configuration‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#back-up-the-configuration","content":" Backups of your Rotorflight configuration can be taken in order to restore a controller to a previous state, in the event of a failure, or to duplicate your controller to use on another helicopter. Also it is advised that a backup is taken of the original Betaflight pre-loaded configuration before loading Rotorflight.  ","version":"Dev","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#step-1","content":"   Open Rotorflight Configurator and [Connect]. If the board is new and as supplied with Betaflight a warning message will pop up saying the &quot;firmware version is not supported&quot;. This means that the board currently does not have Rotorflight loaded so it can be safely ignored. Rotorflight configurator will now open in CLI mode. If you are backing up your config after having already configured your helicopter you will need to click on the CLI tab from the left hand side of the page to open the CLI interface.  ","version":"Dev","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#step-2","content":" Choose what you want to back up. There are several options.  dumpThis command dumps all of the hardware and software configuration.diffdiff will download any configuration that is not equal to the custom defaults for that board. Things like your ESC protocol, RX type etc. This file is very small.dump allDump all downloads all hardware and software the same as the dump command; however, it also includes all rate profiles.dump hardwareDump hardware will download all of the hardware config. This is information like the pin assignments and board specific information (gyro bus address etc).  ","version":"Dev","tagName":"h3"},{"title":"Step 3.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#step-3","content":"   Click on [Clear output window].Type the backup command (from step 2) in the window and click [ENTER].  ","version":"Dev","tagName":"h3"},{"title":"Step 4.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#step-4","content":"   After the command is complete click [Save to File] and store on your computer.  ","version":"Dev","tagName":"h3"},{"title":"Load/Restore Config‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#loadrestore-config","content":" Use this process to load remapping config files for your specific flight controller if available. You can also restore config files to your flight controller you have previously saved or have been shared by other users.  ","version":"Dev","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#step-1-1","content":"   Open the CLI tab and click [Load from File] and select the file on your computer.Click on the [Execute] from the pop up.  ","version":"Dev","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/next/setup/backup-and-restore#step-2-1","content":"   Once the backup is loaded type save in the command line and [ENTER]. The flight controller will now reboot. ","version":"Dev","tagName":"h3"},{"title":"ELRS Custom Telemetry","type":0,"sectionRef":"#","url":"/docs/next/setup/elrs-custom-telemetry","content":"","keywords":"","version":"Dev"},{"title":"Why Custom Telemetry‚Äã","type":1,"pageTitle":"ELRS Custom Telemetry","url":"/docs/next/setup/elrs-custom-telemetry#why-custom-telemetry","content":" The ELRS (which uses the Crossfire protocol) has a limited array of parameters that can be transferred. Many of these values are not very applicable to a helicopter (as opposed to drones). Other values such as headspeed (quite important for our helicopters) are not available. In Rotorflight 2.0 returning some of our more important parameters back to the Tx was achieved by ELRS Telemetry Reuse however, this was also limited.  Custom telemetry has been implemented for ELRS in Rotorflight 2.1. This allows many more sensors that was previously not possible with CRSF. Currently there are over 100 sensors to choose from, and a maximum of 40 sensors can be used in total. With the ELRS configurable telemetry ratio, the sensors can be updated up to 20 times per second.  Note: ‚ÄòTelemetry Reuse‚Äô (from Rotorflight 2) has been removed as it is no longer required  note For ELRS custom telemetry to work as expected it is essential to use ELRS 3.5 or higher. Using lower versions will result in intermittent telemetry lost warnings. If you still get warnings after upgrading your ELRS to 3.5 or higher - reducing the frame rate on the rotorflight config page to a value lower than your ELRS module will prevent the receiver being overrun by telemetry data.  Please choose to suit your Radio - EdgeTX or ETHOS Choose TxEdgeTXETHOS Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio. ","version":"Dev","tagName":"h2"},{"title":"ESC Forward Programming","type":0,"sectionRef":"#","url":"/docs/next/setup/esc-forward-programming","content":"","keywords":"","version":"Dev"},{"title":"Configure the Flight controller‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/next/setup/esc-forward-programming#configure-the-flight-controller","content":" ","version":"Dev","tagName":"h2"},{"title":"Set the UART‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/next/setup/esc-forward-programming#set-the-uart","content":" Enable the UART port for ESC telemetry on the Configuration Tab.    ","version":"Dev","tagName":"h3"},{"title":"ESC telemetry protocol‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/next/setup/esc-forward-programming#esc-telemetry-protocol","content":" Select one of the ESCs above that support Forward Programming. Enter this in the ESC telemetry protocol  ","version":"Dev","tagName":"h3"},{"title":"One Wire Communication (half-duplex)‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/next/setup/esc-forward-programming#one-wire-communication-half-duplex","content":" Most ESCs have a single telemetry wire. This is used to transmit telemetry information from the ESC to the flight controller. For forward programming functionality, this wire also need's to transmit information from the Flight controller to the ESC. By enabling the half-duplex bi-directional communications are enabled.    ","version":"Dev","tagName":"h3"},{"title":"Pin Swap‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/next/setup/esc-forward-programming#pin-swap","content":" For standard ESC telemetry we need to connect to a UART RX (receive) pin; however, as we are using bi-directional communication this will require the telemetry wire being connected to the UART TX (transmit) pin.  Option 1‚Äã  Wire the ESC telemetry to any spare UART TX pin on the flight controller. If we are using a TX pin then Pin-swap remains off.    Option 2‚Äã  Wire the ESC telemetry to the FC UART RX. This may be desirable if you wish to use the SBUS or DSM ports (which are RX) or do not wish to solder or change connectors.    ","version":"Dev","tagName":"h3"},{"title":"Setup the Lua scripts‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/next/setup/esc-forward-programming#setup-the-lua-scripts","content":" Please choose to suit your Radio - EdgeTX or ETHOS Choose TxEdgeTXETHOS Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio. ","version":"Dev","tagName":"h2"},{"title":"Adding an extra servo","type":0,"sectionRef":"#","url":"/docs/next/setup/extra-servo","content":"","keywords":"","version":"Dev"},{"title":"Add an extra servo controlled by an AUX channel.‚Äã","type":1,"pageTitle":"Adding an extra servo","url":"/docs/next/setup/extra-servo#add-an-extra-servo-controlled-by-an-aux-channel","content":" note Sometimes we may wish to add an extra servo to our helicopter to be controlled by our Tx for something like retracts on a scale machine or a camera etc. This can be done using the remapping spreadsheet. In the example below we will add Servo 5 to be controlled by the AUX 3 channel.  Step 1: Assign the servo to your chosen pin. In the pic below we have assigned Servo 5 to Serial Rx 2.    Step 2: Assign the timer to your new servo. This timer cannot clash with motors, frequency or LED_STRIP. They can be assigned to the same timer as one of your other servos; however, it then will need to be set to the same frequency (e.g. if one is set to 333Hz they will both need to be set to 333Hz). If it can be assigned to a totally different timer then you can assign whatever frequency you like.    Step 3: In the 'Advanced' section assign your AUX channel to servo 5 and then select and copy the mixer config displayed.    Step 4: Open the configurator and go to the CLI page. Paste the config from the mixer into the command line and click [ENTER]. Type save and click [ENTER].   ","version":"Dev","tagName":"h2"},{"title":"ESC Telemetry","type":0,"sectionRef":"#","url":"/docs/next/setup/esc-telemetry","content":"","keywords":"","version":"Dev"},{"title":"Select Serial Port‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/next/setup/esc-telemetry#select-serial-port","content":" The ESC telemetry pin TX needs to be connected to a spare UART RX.  Select the UART from the Configuration page.    ","version":"Dev","tagName":"h3"},{"title":"Select the Protocol‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/next/setup/esc-telemetry#select-the-protocol","content":" Select the correct ESC telemetry protocol based on the one you are using.    ","version":"Dev","tagName":"h3"},{"title":"Power Config‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/next/setup/esc-telemetry#power-config","content":" Enable the Voltage and Current from the Power Tab.    For Hobbywing V4Additional parameters are provided for the voltage and current gains, and zero offsets. These parameters are set to zero by default to enable the Auto-Calculation within the firmware.  set esc_sensor_hw4_voltage_gain = 0set esc_sensor_hw4_current_gain = 0set esc_sensor_hw4_current_offset = 0  note Only change these values if Auto-calculation is inaccurate and you wish to fine tune the voltage and current. You can use the below values as a starting point.  Model\tVoltage gain\tCurrent gain\tCurrent offsetPlatinum LV 60A\t109\t0\t0 Platinum LV 80A\t109\t146\t409 Platinum LV 120A\t109\t110\t377 Platinum HV 130A\t210\t157\t0 Platinum HV 200A\t210\t157\t477 FlyFun HV 160A\t210\t66\t381 ","version":"Dev","tagName":"h3"},{"title":"Flashing the firmware","type":0,"sectionRef":"#","url":"/docs/next/setup/flashing-the-firmware","content":"","keywords":"","version":"Dev"},{"title":"Install Rotorflight Configurator‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/setup/flashing-the-firmware#install-rotorflight-configurator","content":" Start by downloading and installing the latest Rotorflight Configurator release download.  This walk-through uses Windows, but it should also work on Linux or macOS.  ","version":"Dev","tagName":"h2"},{"title":"Install Drivers‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/setup/flashing-the-firmware#install-drivers","content":" On Windows, install the STM USB VCP Drivers from the links on the Rotorflight Configurator page.  Driver issues If there are issues connecting to the flight controller please download the ImpulseRC Driver Fixer.  ","version":"Dev","tagName":"h2"},{"title":"Flash Firmware to FC‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/setup/flashing-the-firmware#flash-firmware-to-fc","content":" Connect the FC to your computer with an USB data cable. Now you are ready to install the Rotorflight firmware to your FC. There are five different versions of the firmware, each version targeting a specific microprocessor: F405, F411, F7X2, F745, and H743. Your FC must use one of those processors. Besides firmware, each FC has it's own configuration. The configuration specifies the FC board, e.g. what pads are used for what.  ","version":"Dev","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/setup/flashing-the-firmware#step-1","content":" Open the Rotorflight configurator and click on Update Firmware.  Choose All release and Snapshots from the dropdown. Note: Snapshots are for development and testing purposes. They may contain bugs!! We recommend using snapshot firmware with care and to assist the project with testing. Choose &quot;Releases&quot; if you would rather use the latest stable firmwareSelect the Target you identified in Step 1. You can also click on the &quot;detect&quot; button to auto detect the target.Select Full chip Erase, this will remove all previous configurations.Click on Load firmware[online]    ","version":"Dev","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/setup/flashing-the-firmware#step-2","content":" Check and confirm the target board is correct.Click on Flash Firmware.    ","version":"Dev","tagName":"h3"},{"title":"Step 3.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/setup/flashing-the-firmware#step-3","content":" When the programming is successful click on Connect.    ","version":"Dev","tagName":"h3"},{"title":"Troubleshooting‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/setup/flashing-the-firmware#troubleshooting","content":" 'Initiating reboot to bootloader' hangs If you're on Windows and it hangs while displaying Initiating reboot to bootloader, you'll need to install the proper driver for the STM32 BOOTLOADER device.  Make sure the device STM32 BOOTLOADER is installed and showing up in the Device Manager, either under Other Devices or under Universal Serial Bus devices. Select View &gt; Show Hidden Devices in order to see all installed devices.  You might need to uninstall all STM Device in DFU Mode devices under Universal Serial Bus Controllers before Windows will install the STM32 BOOTLOADER device. Make sure to check Delete the driver software for this device.  In the Configurator, go to the CLI and type dfu. This puts the FC in Device Firmware Update mode.  Start Zadig (see download link on the Welcome tab in the Configurator), select Options &gt; List all Devices, select STM32 BOOTLOADER and change the driver to WinUSB. Flash firmware should now work.    Error 'Rebooting device to bootloader: FAILED' If you receive the error Rebooting device to bootloader: FAILED then you will need to manually place the FC into bootloader mode. Do this by holding down the BOOT button while connecting it to your computer.  Help... that didn't work. Its bricked! Ok, so after rebooting you are no longer able to connect to the FC via USB. This can happen if your configuration file is not correct (USB becomes unallocated) or if you have loaded the incorrect firmware for the processor type. Don't worry: the bootloader can't be bricked, it's in ROM. You can always reload the firmware via the DFU (device firmware update) mode. Most flight controllers have a 'boot' button or pins which are used to enter DFU mode. Generally you can just enter DFU mode by pushing the button or bridging the boot pins as you plug the USB in (while the Rotorflight Configurator is open).    Rotorflight Configurator will display DFU - STM32 BOOTLOADER at the top of the page after a successful DFU connection. Click on the Update Firmware and follow the steps above to re-flash the firmware as required.    If you still having problem connecting to the MCU, install the Impulse-RC Driver Fixer. ","version":"Dev","tagName":"h2"},{"title":"Governor setup","type":0,"sectionRef":"#","url":"/docs/next/setup/governor-setup","content":"Governor setup There are several options for configuring the Governor. Governor Options Option 1Option 2 Single profile - Multiple throttle settings‚Äã Configuring a single profile with Full Headspeed set to the Maximum desired headspeed. Transmitter throttle settings are configured to Separate throttle positions for each desired headspeed. Example: If we configure a 2500RPM Full headspeed On the transmitter set the required headspeeds. Throttle Hold = 0%Idle up 1 = 70% = 2500 * 0.7 = 1750 RPM headspeedIdle up 2 = 90% = 2500 * 0.9 = 2250 RPM headspeedIdle up 3 = 100% = 2500 RPM Headspeed This Method is easier to configure and simplifies the tuning as there is only one profile to change. You will have to tune so that it is suitable for each of the headspeed.","keywords":"","version":"Dev"},{"title":"Governor","type":0,"sectionRef":"#","url":"/docs/next/setup/governor","content":"","keywords":"","version":"Dev"},{"title":"Governor Mode‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#governor-mode","content":" The governor has multiple operating modes, each using a slightly different method for the throttle control in the PID loop. Select a mode from one of the values below.    ","version":"Dev","tagName":"h2"},{"title":"OFF‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#off","content":" The governor is disabled, and the stabilized throttle output ST is taken from the receiver throttle channel.  ","version":"Dev","tagName":"h3"},{"title":"PASSTHROUGH‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#passthrough","content":" The governor does not control the headspeed, but provides all the aux functions, like slow spool up, autorotation bailout, and error recovery. In the active state, the receiver throttle channel is directly passed through to the stabilized throttle output ST.  ","version":"Dev","tagName":"h3"},{"title":"STANDARD‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#standard","content":" The governor is stabilizing the headspeed with a standard PID control, similar to most ESCs. All aux functions are also active.  ","version":"Dev","tagName":"h3"},{"title":"MODE1‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#mode1","content":" Like STANDARD, but with collective/cyclic precompensation. This is similar to governors in most FBL systems.  ","version":"Dev","tagName":"h3"},{"title":"MODE2‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#mode2","content":" Like MODE1, but with battery voltage compensation. The PID loop does not need to react to battery voltage fluctuations, as it is taken into account outside the PID loop. This is usually the best choice. Can be used only if the battery voltage is connected to the FC.  ","version":"Dev","tagName":"h3"},{"title":"Governor Basic Settings‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#governor-basic-settings","content":"   In order to use the governor you must first configure the ESC/Motor features. This defines the motor telemetry (for RPM feedback) and gear ratios for your helicopter which lets the flight controller know how fast the rotor is spinning.  ","version":"Dev","tagName":"h2"},{"title":"Handover throttle‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#handover-throttle","content":" The throttle level above which the governor is activated. Below this level the input throttle is passed to the ESC, above this level the governor is enabled and the input throttle is used for calculating the target headspeed. The motor must be able to start below this throttle level.  ","version":"Dev","tagName":"h3"},{"title":"Startup time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#startup-time","content":" startup time is applied before the RPM is detected. Some ESCs require really slow startup ramp to be gentle. Some other ESCs need really rapid start for starting at all.  ","version":"Dev","tagName":"h3"},{"title":"Spoolup time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#spoolup-time","content":" This is an acceleration limit (in seconds) used for spooling up (After a valid rpm signal has been detected). It sets the acceleration limit that is equivalent to total time for spooling up from zero to full headspeed. For example, with a value of 10 and full headspeed of 3000rpm, the main rotor would take 10s to reach 3000rpm.  ","version":"Dev","tagName":"h3"},{"title":"Tracking time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#tracking-time","content":" Acceleration limit (in seconds) for normal operation. This occurs when the requested headspeed command changes while the governor is in the active state. This parameter limits the rpm change speed (acceleration). For example, when set to a value of 10 (which is 10s to ramp 0-100%). If hovering in Normal mode at 1500rpm (50% throttle) and then switching to Idl3 of 3000rpm (100% throttle) the Governor would ramp over 5s. Typical value is 5..20.  ","version":"Dev","tagName":"h3"},{"title":"Recovery time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#recovery-time","content":" Acceleration limit (in seconds) for error recovery. When the governor is recovering from lost headspeed or lost throttle signal, this is the max acceleration for the following (faster) spoolup.  ","version":"Dev","tagName":"h3"},{"title":"Autorotation bailout time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#autorotation-bailout-time","content":" Acceleration limit (in seconds) for autorotation bailout. When the governor is spooling up from autorotation, it is limiting the spoolup speed with this parameter.  ","version":"Dev","tagName":"h3"},{"title":"Autorotation timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#autorotation-timeout","content":" In the autorotation state, if high throttle returns before this timeout expires, the spoolup is done with bailout acceleration. After the expiration, the governor enters the idle state, and any subsequent spoolup is slow.  ","version":"Dev","tagName":"h3"},{"title":"Autorotation minimum entry time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#autorotation-minimum-entry-time","content":" Minimum flight time before Autorotation can be engaged.  ","version":"Dev","tagName":"h3"},{"title":"Zero Throttle Timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#zero-throttle-timeout","content":" When the throttle input (from receiver) goes to zero, the governor enters an intermediate state where it is waiting for the throttle to return. If the throttle returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters off state, and any future spoolup will be slow.  note The purpose of this feature is to allow fast spoolup in case the throttle cut (hold) is hit accidentally. If high throttle is returned very soon after, the heli will spool up quickly and hopefully keep on flying. Unit is 0.1s. Typical value is 5..50.  ","version":"Dev","tagName":"h3"},{"title":"Headspeed Signal Timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#headspeed-signal-timeout","content":" If the headspeed rpm signal is lost, the governor enters an intermediate state where it is waiting for the rpm signal to return. If the signal returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters the idle state, and any future spoolup would happen with the default (slow) spoolup acceleration. Unit is 0.1s. Typical value is 5..50.  ","version":"Dev","tagName":"h3"},{"title":"Headspeed Filter Cutoff [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#headspeed-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The RPM input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"Dev","tagName":"h3"},{"title":"Battery Voltage Filter Cutoff [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#battery-voltage-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The Battery voltage input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"Dev","tagName":"h3"},{"title":"TTA Bandwidth [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#tta-bandwidth-hz","content":" Cutoff for the TTA (Torque Tail Assist) lowpass filter.  ","version":"Dev","tagName":"h3"},{"title":"Precomp Bandwidth [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#precomp-bandwidth-hz","content":" Cutoff for the cyclic/collective precompensation lowpass filter.  ","version":"Dev","tagName":"h3"},{"title":"Governor Profiles Settings‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#governor-profiles-settings","content":" These settings are set from the Profiles Tab. If desired, individual Profiles can be configured via the Adjustments Tab. This enables individual flight modes to have separate tuning and configuration set for each flight mode. (similar to 'Bank Switching').    ","version":"Dev","tagName":"h2"},{"title":"Full Headspeed‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#full-headspeed","content":" This is the highest headspeed that the governor would ever try to maintain, when the throttle input is at 100%.  ","version":"Dev","tagName":"h3"},{"title":"Maximum Throttle‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#maximum-throttle","content":" Maximum output throttle the governor is allowed to use.  ","version":"Dev","tagName":"h3"},{"title":"PID Master Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#pid-master-gain","content":" Master gain multiplier  ","version":"Dev","tagName":"h3"},{"title":"P-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#p-gain","content":" Governor Proportional gain  ","version":"Dev","tagName":"h3"},{"title":"I-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#i-gain","content":" Governor Integral gain  ","version":"Dev","tagName":"h3"},{"title":"D-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#d-gain","content":" Governor Derivative gain  ","version":"Dev","tagName":"h3"},{"title":"Feedforward-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#feedforward-gain","content":" Governor Feedforward gain  ","version":"Dev","tagName":"h3"},{"title":"Yaw precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#yaw-precompensation","content":" Yaw precompensation weight. Determines how much yaw is mixed into the feed forward. This helps the governor to maintain the headspeed proactively. Usually 20..100  ","version":"Dev","tagName":"h3"},{"title":"Cyclic precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#cyclic-precompensation","content":" Cyclic precompensation weight. Increasing the cyclic increases load on the rotor and causes it to slow down. This setting determines how much cyclic is mixed into the governor feedforward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"Dev","tagName":"h3"},{"title":"Collective precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#collective-precompensation","content":" Collective precompensation weight. Increasing the collective increases load on the rotor and causes it to slow down. This setting determines how much collective is mixed into the governor feedfoward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"Dev","tagName":"h3"},{"title":"Governor throttle input ranges‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#governor-throttle-input-ranges","content":" With the governor feature activated, the transmitter throttle channel is controlling the governor, rather than the ESC directly.  Depending in which range the throttle value falls into, the governor will function differently.  ","version":"Dev","tagName":"h2"},{"title":"THROTTLE < 0%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#throttle--0","content":" This throttle value indicates throttle hold (throttle cut) condition. It's guaranteed that all motors are stopped immediately. The throttle output from the governor is guaranteed to be zero.  note Make sure your transmitter is sending a value lower than 0% when throttle hold is activated. Throttle hold SHOULD NOT be used for autorotation.  ","version":"Dev","tagName":"h3"},{"title":"0% < THROTTLE < 5%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#0--throttle--5","content":" In this range, the governor is in idle or autorotation state, and the output is zero - the main motor is stopped.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor stopped, use this range!  ","version":"Dev","tagName":"h3"},{"title":"5% < THROTTLE < Handover throttle%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#5--throttle--handover-throttle","content":" In this range, the governor is in idle or autorotation state, and the output is in 0% - H.Thr%, increasing linearly through the range.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor running, use this range!  ","version":"Dev","tagName":"h3"},{"title":"Handover throttle% < THROTTLE < 100%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#handover-throttle--throttle--100","content":" In this range, the governor is in active state, and the requested rpm is Handover throttle%..100% of the gov_headspeed.  ","version":"Dev","tagName":"h3"},{"title":"Governor State‚Äã","type":1,"pageTitle":"Governor","url":"/docs/next/setup/governor#governor-state","content":" The governor internal state can be observed in the blackbox log. It is a good indication on what the governor is trying to do.  OFF The governor is disabled and the throttle output is zero.  IDLE The governor is idle, because the input throttle is in the idle range. The throttle output is as described above - 0..10%.  SPOOLING_UP The input throttle has transitioned from low to high, and the governor is spooling up slowly.  ACTIVE The governor has reached the target headspeed and is actively maintaining it.  LOST_THROTTLE The throttle signal has suddenly dropped from high to low. If the throttle returns quickly, a recovery spoolup is performed. This state is for convenience, when the pilot accidentally hits throttle hold, and then realizes the mistake.  LOST_HEADSPEED The RPM input signal is lost. The governor will wait for a little while for the signal to return, before spooling down. It the signal returns quickly, a recovery spoolup is performed.  RECOVERY The governor is performing a recovery spoolup after one of the conditions above.  AUTOROTATION The throttle has dropped from high to the autorotation range. The governor is expecting the throttle to return once the autorotation has been performed. Once the throttle return, the governor moves to the state below.  AUTOROTATION_BAILOUT Throttle has returned while in AutoRotation state, and the governor is performing an autorotation bailout. ","version":"Dev","tagName":"h2"},{"title":"Getting started with LEDs","type":0,"sectionRef":"#","url":"/docs/next/setup/led-strip-quick-start","content":"","keywords":"","version":"Dev"},{"title":"Introduction to LED strips‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#introduction-to-led-strips","content":" Rotorflight supports up to 32 individually addressable WS2811/2812 RGB LEDs. You can control them with just one data pin, and set the brightness and color of each LED individually. LEDs can have different functions, for example display a color, visualize warnings or battery state, or just blink. This walk-through will show you how to set up a simple LED strip with some scale lights.    Each LED has 4 pins: 5V, ground, data in and data out. The FC should be connected to data in of the first LED. Data out of the first LED should be connected to data in of the second LED. And the data out of the second LED should again be connected to data in of the third LED. And so on.  There are ready made WS2812 strips with 30, 60 or 144 LEDs per meter. That's great for testing or maybe on the boom for some night flying, but there are also more conventional WS2811 5mm and 8mm LEDs available. Those are more suited for scale lighting.  There are quite a lot of tutorials/videos for Betaflight, and Rotorflight supports all the functions of Betaflight 4.3. In addition, Rotorflight supports scale lights, with which you can program anti-collision lights, strobe lights or landing lights. Here we'll focus on those scale lights.  ","version":"Dev","tagName":"h2"},{"title":"Create a LED_STRIP resource‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#create-a-led_strip-resource","content":" In order to use a LED strip, you'll need a LED_STRIP resource to which you can connect your LEDs. A LED_STRIP resource requires a timer and DMA should be enabled.  Some FCs might already have a LED_STRIP resource and then you can just use that pin. But if you want to use another pin on your FC, or if your FC doesn't have a LED_STRIP resource, you'll need to do some resource remapping. For this walk-through I'm going to use the Radiomaster Nexus, so go to the CLI and remap TX6 to LED_STRIP.  Now go to the Configuration tab and enable LED_STRIP under Features. Press Save and reboot.  ","version":"Dev","tagName":"h2"},{"title":"Testing hardware‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#testing-hardware","content":" A piece of LED strip is ideal for testing. I'll be using one with 3 LEDs connected to Port B on the Nexus. Wiring is simple: just connect 5V, ground and LED_STRIP (formerly known as TX6) to the strip.    ","version":"Dev","tagName":"h2"},{"title":"The LED Strip tab‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#the-led-strip-tab","content":" Now go to the LED Strip tab. Note that this tab will only be visible if you have the LED_STRIP feature enabled under Configuration.  We're going to define:  a green navigation light that also functions as a strobea red ACL light that slowly blinksa white landing light that can be operated from the TX.  Connect the Nexus to the Configurator using USB. 5V will now be available on port A, B and C. If you're using many LEDs, consider using an external 5V power supply.  ","version":"Dev","tagName":"h2"},{"title":"Define the 3 LEDs‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#define-the-3-leds","content":" Click on Wire Ordering Mode. The 16x16 matrix will become greenish.Select a square in the matrix. A '0' should now be displayed in it.Select Color as FunctionNow select another square in the matrix. A '1' should now be displayed in it.Select Color again as FunctionSelect yet another square in the matrix. A '2' should now be displayed in it.Select Color as FunctionPress Save  Your screen might now look like this, although the actual position of the three squares will likely be different:    ","version":"Dev","tagName":"h3"},{"title":"Create the green navigation light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#create-the-green-navigation-light","content":" Select the square with '0' in itIn the color palette, left-click on green. The LED should now light up.If you find the LED too bright, adjust the overall LED brightness under LED Strip Global SettingsEnable Blink and set one checkmark. The LED will now shortly turn off (=black).In the color palette, right-click on white. Now the LED will shortly flash a white light.Press Save  ","version":"Dev","tagName":"h3"},{"title":"Create the red anti-collision light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#create-the-red-anti-collision-light","content":" Select the square with '1' in itSelect Blink and set some check marks next to each otherRight-click the red color. The second LED should now flash redPress Save  ","version":"Dev","tagName":"h3"},{"title":"Create the white landing light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#create-the-white-landing-light","content":" Select the square with '2' in itEnable the Fade to alt color featureLeft-click white. The LED should now light upSelect Status Alt next to Profile, under LED Strip Global Settings. The LED should now dim.Set Fade rate to 10 to dim slowlyPress SaveYou can use Adjustments to switch the LED profile from your transmitter. It might look something like:    Here's another video showing the techniques used in this Quick Start on a Walkera 4F200LM, for which I used two 3mm and four 5mm LEDs.    ","version":"Dev","tagName":"h3"},{"title":"Molex PicoBlade bus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#molex-picoblade-bus","content":" Here's a simple bus system for connecting individual LEDs using 4-pin Molex PicoBlade connectors. It can be used for connecting individual WS2811/2812 LEDs as well as conventional LEDs.    Conventional LEDs should come after the WS2811/2812 LEDs since they don't support data in and data out. Also, you can use 2-pin PicoBlade connectors for them.  ","version":"Dev","tagName":"h2"},{"title":"Building the PicoBlade bus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#building-the-picoblade-bus","content":" Glue some 4-pin PicoBlade headers togetherBend the pins for 5V and GND so they form two railsCarefully solder the 5V and GND railsBend the data out pin of the first header to the data in pin of the second header and repeatSolder the data out pins to the next data in pinsConnect wires for 5V, GND and data in to the busIsolate the bottom of the bus with hot glue or epoxyConnect the bus to the FC    ","version":"Dev","tagName":"h3"},{"title":"Remapping to LED_STRIP‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#remapping-to-led_strip","content":" ","version":"Dev","tagName":"h2"},{"title":"Radiomaster Nexus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#radiomaster-nexus","content":" On the Nexus Port B is the best choice for creating a LED_STRIP resource. Port B provides RX6 and TX6 by default. To remap TX6 to LED_STRIP, enter the following in the CLI:  resource SERIAL_TX 6 NONE resource LED_STRIP 1 C07 timer C07 AF3 # TIM8, default is also AF3 dma pin C07 0 # default is NONE save   Note that although we remapped TX6, RX6 is still there and functional.  Alternatively you can remap RX6 to LED_STRIP:  resource SERIAL_RX 6 NONE resource LED_STRIP 1 C06 timer C06 AF3 # TIM8, default is also AF3 dma pin C06 0 # default is NONE save   ","version":"Dev","tagName":"h3"},{"title":"FlyDragon F722‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#flydragon-f722","content":" The FlyDragon F722 has a built in LED 'strip' with just one LED. It has the Warning overlay enabled by default and is connected to the FC using pin B08. However, the data out pin of that LED isn't exposed, so you have to remap some other port to LED_STRIP to make use of your own LEDs. There are several options: SCL, SDA, RPM-S and F.Port. SCL and SDA are located on the GPS port, which also provides 5V. Using SCL or SDA is preferred because they can have their own dedicated timer.  1. Remap SCL to LED_STRIP‚Äã  To remap SCL to LED_STRIP, enter the following in the CLI:  resource I2C_SCL 1 NONE resource LED_STRIP 1 B06 # default is B08 timer B06 AF2 # TIM4 dma pin B06 0 save   2. Remap SDA to LED_STRIP‚Äã  To remap SDA to LED_STRIP, enter the following in the CLI:  resource I2C_SDA 1 NONE resource LED_STRIP 1 B07 # default is B08 timer B07 AF2 # TIM4 dma pin B07 0 save   3. Remap RPM-S to LED_STRIP‚Äã  RPM-S isn't connected to VBec and supplies 5V, which is all right for a couple of LEDs.  To remap RPM-S to LED_STRIP on the FlyDragon V2 or V2.2, enter the following in the CLI:  resource LED_STRIP 1 A15 # default is B08 timer A15 AF1 # TIM1 dma pin A15 0 save   To remap RPM-S to LED_STRIP on the FlyDragon V1, enter the following in the CLI:  resource LED_STRIP 1 A08 # default is B08 timer A08 AF1 # TIM1 dma pin A08 0 save   4. Remap F.Port to LED_STRIP‚Äã  Be careful: F.Port uses VBec, which might be too high for your LEDs. Most LEDs require 5V.  resource LED_STRIP 1 A02 # default is B08 timer A02 AF1 # TIM2 dma pin A02 0 # Change motor 1 timer from TIM2 to TIM5 timer A00 AF2 save   ","version":"Dev","tagName":"h3"},{"title":"Flywing HELI405‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/setup/led-strip-quick-start#flywing-heli405","content":" You can remap SBUS to LED_STRIP on the Flywing HELI405. To do this, enter the following in the CLI:  resource SERIAL_RX 2 NONE resource LED_STRIP 1 A03 timer A03 AF2 dma pin A03 1 save  ","version":"Dev","tagName":"h3"},{"title":"OpenLager","type":0,"sectionRef":"#","url":"/docs/next/setup/openlager","content":"","keywords":"","version":"Dev"},{"title":"Introduction‚Äã","type":1,"pageTitle":"OpenLager","url":"/docs/next/setup/openlager#introduction","content":" An OpenLager is an external logging devices that use SD cards. Logging with an OpenLager has several benefits compared to other logging methods:  Virtually unlimited storage when using, for example, a 32GB SD cardHigh read speeds when you eject the SD card and connect it directly to your PCLogging using an UART TX is a lightweight process and very MCU friendly, so you'll have more processing power for other tasks.  ","version":"Dev","tagName":"h2"},{"title":"Connecting an OpenLager‚Äã","type":1,"pageTitle":"OpenLager","url":"/docs/next/setup/openlager#connecting-an-openlager","content":" The OpenLager can be connected to the FC using just three wires: +5V, ground and a TX output pad of a free UART on the FC, which is connected to the RX pad of the logging device. As soon as you power the device on, it will create a new log file on the SD card. Then it'll log everything it receives to that file. Simple but effective.  After you've connected the OpenLager, you have to tell Rotorflight which UART the TX pad for the logger is connected to. You can specify that UART in the Configuration tab, under Blackbox logging. For the OpenLager select 2000000 bps. Click Save and Reboot.    After configuring the OpenLager you can go to the Blackbox tab to specify what should be logged at what speed when.  note For maximum performance the SD card should be formatted with the SD Association's special formatting tool. A fast SD card is needed, e.g. the Sandisk Extreme 16GB Class 10 UHS microSDHC. ","version":"Dev","tagName":"h2"},{"title":"Lua Scripts","type":0,"sectionRef":"#","url":"/docs/next/setup/lua-scripts","content":"","keywords":"","version":"Dev"},{"title":"Introduction‚Äã","type":1,"pageTitle":"Lua Scripts","url":"/docs/next/setup/lua-scripts#introduction","content":" You can adjust a variety of settings using only your transmitter with the Rotorflight Lua scripts. A Lua script once loaded to your transmitter adds extra pages to the interface. These pages allow you to change things like PIDs, rates, filters, failsafe and governed headspeed on the field. Prerequisites:  OpenTX 2.3.12, EdgeTX 2.5.0 or newer or Ethos 1.4 or newer on the transmitter and: an FrSky SmartPort or F.Port receiver.or a CRSF v2.11 or newer receiver.or an ELRS 3.5.0 or newer receiver.  Examples:  TX16S with a FrSky X4R using the FrSkyX2 protocol.Frsky Ethos Radio (X20, X18, X14 etc) with either SPORT,FPORT receiver or ELRS with an external module.Taranis X9D with a TBS Crossfire TX/RX module.Taranis QX7 and a FrSky R-XSR, using the FrSky D16 protocol (as long as you don't use the ACCST D16 2.1.1 LBT firmware on the R-XSR, because this firmware has telemetry bugs).TX16S with an ELRS 3.5.0 module and receiver.  If you're not using F.Port, start up the Rotorflight Configurator, go to the Configuration tab and enable the TELEMETRY feature. F.Port telemetry does not work without enabling this feature.  If telemetry is working properly on your system, the Lua scripts should work as well.  There are different Lua scripts depending on what radio you are using (edgeTX or Ethos).  Please choose to suit your Radio - EdgeTX or ETHOS Choose TxEdgeTXETHOS Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio. ","version":"Dev","tagName":"h2"},{"title":"Profile (Bank) switching example","type":0,"sectionRef":"#","url":"/docs/next/setup/profile-switching-example","content":"","keywords":"","version":"Dev"},{"title":"Purpose‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/setup/profile-switching-example#purpose","content":" info We often configure several flight modes to suit our own flying requirements e.g. (Futaba - Normal, IU1, IU2)(OpenTx - FM1, FM2, FM3). It is quite possible that with each of these flight modes we would want to adjust and tune the model independently. We can do this through the Adjustments tab. This is a similar feature to V-bar 'Bank switching'. The following example is just a suggestion and is one way to go about using the adjustments tab. The same process can be used to switch rates if required.  ","version":"Dev","tagName":"h2"},{"title":"Aim‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/setup/profile-switching-example#aim","content":" My helicopter has already been set up to have a 3 position switch (SwE) which selects between 3 headspeeds (I use the governor so my 'curves' are just flat). The following example will add switching of tuning parameters (Profile Tab) for each of these headspeeds.  ","version":"Dev","tagName":"h2"},{"title":"Configure the Tx‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/setup/profile-switching-example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwE) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch9 to the SwE in the Mixers tab    ","version":"Dev","tagName":"h3"},{"title":"Configure flight controller‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/setup/profile-switching-example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux4 is the ninth channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux4,    Step 3:  Go to the Adjustments tab. Enable an adjustment slot by selecting Mapped and select Aux4 as the Enable Channel and Value Channel.Stretch the Enable Channel and Value Channel sliders across the entire channel range. This covers the positions for each of the three switch positions.Select Profile Selection from the dropdown. This means we want to change the 'Profile selection' by the switch position.Stretch the Profile Selection slider from 1 to 3, This means over the defined range a value of 1-3 will be chosen based on the switch position. (e.g. SwE down = 0, SwE middle = 1, SwE up = 2). These values are added to the Profile so will result in (e.g. SwE down = Profile 1, SwE middle = Profile 2, SwE up = Profile 3).    Step 4: Go to the Profiles tab and test and confirm that changing the switch position results in changing of the current Profile.   ","version":"Dev","tagName":"h3"},{"title":"RF2 Touch Lua Scripts","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/lua-RF2-touch","content":"RF2 Touch Lua Scripts By Shmuley These are Lua script's for Rotorflight 2 that provide a touch interface. RF2_Touch github","keywords":"","version":"Dev"},{"title":"ETX Widget","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/widget-etx-bob00","content":"ETX Widget Bob00 has created a custom widget for displaying Rotorflight Telemetry. More details and downloads can be found in the Githup Repository. ETX Widget by Bob00","keywords":"","version":"Dev"},{"title":"FrSky Ethos Generic example","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-ethos/ethos-generic-radio-setup","content":"","keywords":"","version":"Dev"},{"title":"Coming soon‚Äã","type":1,"pageTitle":"FrSky Ethos Generic example","url":"/docs/next/setup/radio-setup/radio-setup-ethos/ethos-generic-radio-setup#coming-soon","content":"","version":"Dev","tagName":"h2"},{"title":"EdgeTX Generic Radio Setup","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup","content":"","keywords":"","version":"Dev"},{"title":"Channels Arrangement‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#channels-arrangement","content":" This following radio model uses 12 channels to get the best of Rotorflight options, the user can add or delete channels depending on his specific application, and required features.  These channels are configured as follows:  Channel #\tFunctionCH1\tAileron CH2\tElevator CH3\tCollective CH4\tRudder CH5\tAUX1 - Arming CH6\tThrottle CH7\tAUX2 - Profile Switching CH8\tAUX3 - Rescue CH9\tAUX4 - Blackbox CH10\tAUX5 - Backup Pack CH11\tAUX6 - Adjustment Enable Channel CH12\tAUX7 - Adjustment Value Channel  note Use the below recommended setting for the ELRS Tx module. Baud Rate: 921kPacket Rate: 500HzTelemetry Ratio: 1:32Switch Mode: WideTx Max Power: 250mW Dynamic Consult ELRS Website for more info.  ","version":"Dev","tagName":"h2"},{"title":"Radio Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-setup","content":" This Generic Rotorflight Radio Model Yaml file contain all the options listed above.  ","version":"Dev","tagName":"h2"},{"title":"Radio Inputs Page Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-inputs-page-setup","content":" Configure the inputs on the radio as per the below image.    Based on the image above:  The 3-position SB Switch will control Arming as below:  Switch SB-down: DisarmedSwitch SB-middle: DisarmedSwitch SB-up: Armed  The 2-position SF Switch will control Throttle Hold as below:  Switch SF-down: Throttle HoldSwitch SF-up: Throttle Release  The 3-position SE Switch will control Throttle percentage and Profile Switching as below:  Switch SE-down: Throttle 60%, Profile 1, and Rate 1Switch SE-middle: Throttle 70%, Profile 2, and Rate 2Switch SE-up: Throttle 80%, Profile 3, and Rate 2  The 2-position SH Momentary Switch will control Rescue as below:  Switch SH-down: Rescue OFFSwitch SH-up: Rescue ON  The 3-position SA Switch will control Blackbox enable and Blackbox erase as below:  Switch SA-down: Blackbox Logging OFFSwitch SA-middle: Blackbox Logging ONSwitch SA-up: Erase Blackbox Logs  The 3-position SC Switch will control Backup Buffer Pack as below:  Switch SC-down: Buffer OFFSwitch SC-middle: Buffer ONSwitch SC-up: Buffer ON  ","version":"Dev","tagName":"h3"},{"title":"Radio Mixer Page Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-mixer-page-setup","content":" Additionally you can use CH11-AUX6 and CH12-AUX7 to perform in flight parameter adjustment using adjustment functions from the Adjustments Tab.    The above settings will allow you to adjust 30 parameters in flight using the radio trim switches with combination of the 6-position buttons.  The below table explain how each parameter can be accessed.    For example when 6-position button 1 is activated, the pitch trim switch will change Pitch P Gain value, and when 6-position button 3 is activated, the throttle trim switch will change Governor D Gain value, and so on.  ","version":"Dev","tagName":"h3"},{"title":"Rotorflight Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#rotorflight-setup","content":" After completing the above radio setup, you can proceed to the Rotorflight Configurator to complete the setup on the flight controller side.  ","version":"Dev","tagName":"h2"},{"title":"Arming Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#arming-setup","content":" Proceed to Modes Tab and setup arming as per below picture.    Alternatively you can paste and save the below commands in CLI to easily achieve the same result.  aux 0 0 0 1800 2100 0 0   ","version":"Dev","tagName":"h3"},{"title":"Profile Switching Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#profile-switching-setup","content":" Proceed to Adjustment Tab and setup Profiles and rates switching as per below picture.    Alternatively in CLI.  adjfunc 0 2 1 900 2100 1 975 2025 975 2025 0 0 3 adjfunc 1 1 1 900 2100 1 975 2025 975 2025 0 0 3   ","version":"Dev","tagName":"h3"},{"title":"Rescue Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#rescue-setup","content":" Proceed to Modes Tab and setup Rescue mode as per below picture.    Alternatively in CLI.  aux 1 53 2 1800 2100 0 0   ","version":"Dev","tagName":"h3"},{"title":"Blackbox Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#blackbox-setup","content":" Proceed to Modes Tab and setup Blackbox Modes as per below picture.    Alternatively in CLI.  aux 2 26 3 1400 1600 0 0 aux 3 31 3 1800 2100 0 0   ","version":"Dev","tagName":"h3"},{"title":"Buffer Pack Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#buffer-pack-setup","content":" Buffer packs like the 1st Buffer-Pack can be switched off from the radio after disconnecting the main pack, this can be done by connecting the buffer pack to a free 1500us PWM Channel on the flight controller.  First you need to assign servo 5 to a free timer pin, you will then see servo 5 in the Servos Tab. Assuming we have a free timer on pin A08. In CLI: Resource Servo 5 A08 Next you assign AUX5 Channel to Servo 5 using a mixer rule. In CLI: mixer rule 1 set AUX5 S5 1000 0   ","version":"Dev","tagName":"h3"},{"title":"In-Flight Profile Parameters Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/next/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#in-flight-profile-parameters-setup","content":"   Since there is many functions required to perform the In-flight adjustment as per the above table, you can directly copy the below commands to CLI and save.  adjfunc 2 14 5 900 1100 6 1025 1075 1925 1975 5 10 200 adjfunc 3 18 5 900 1100 6 1100 1150 1850 1900 5 10 200 adjfunc 4 22 5 900 1100 6 1175 1225 1775 1825 5 10 200 adjfunc 5 49 5 900 1100 6 1250 1300 1700 1750 5 10 200 adjfunc 6 27 5 900 1100 6 1325 1375 1625 1675 5 10 200 adjfunc 7 26 5 900 1100 6 1400 1450 1550 1600 5 10 200 adjfunc 8 15 5 1100 1300 6 1025 1075 1925 1975 5 10 200 adjfunc 9 19 5 1100 1300 6 1100 1150 1850 1900 5 10 200 adjfunc 10 23 5 1100 1300 6 1175 1225 1775 1825 5 10 200 adjfunc 11 50 5 1100 1300 6 1250 1300 1700 1750 5 10 200 adjfunc 12 28 5 1100 1300 6 1325 1375 1625 1675 5 10 200 adjfunc 13 29 5 1100 1300 6 1400 1450 1550 1600 5 10 200 adjfunc 14 16 5 1300 1400 6 1025 1075 1925 1975 5 10 200 adjfunc 15 20 5 1300 1400 6 1100 1150 1850 1900 5 10 200 adjfunc 16 24 5 1300 1400 6 1175 1225 1775 1825 5 10 200 adjfunc 17 51 5 1300 1400 6 1250 1300 1700 1750 5 10 200 adjfunc 18 39 5 1300 1400 6 1325 1375 1625 1675 5 10 200 adjfunc 19 40 5 1300 1400 6 1400 1450 1550 1600 5 10 200 adjfunc 20 17 5 1550 1700 6 1025 1075 1925 1975 5 10 200 adjfunc 21 21 5 1550 1700 6 1100 1150 1850 1900 5 10 200 adjfunc 22 25 5 1550 1700 6 1175 1225 1775 1825 5 10 200 adjfunc 23 52 5 1550 1700 6 1250 1300 1700 1750 5 10 200 adjfunc 24 59 5 1750 1900 6 1025 1075 1925 1975 5 10 200 adjfunc 25 60 5 1750 1900 6 1100 1150 1850 1900 5 10 200 adjfunc 26 54 5 1750 1900 6 1175 1225 1775 1825 5 10 200 adjfunc 27 55 5 1750 1900 6 1250 1300 1700 1750 5 10 200 adjfunc 28 56 5 1950 2100 6 1025 1075 1925 1975 5 10 200 adjfunc 29 57 5 1950 2100 6 1100 1150 1850 1900 5 10 200 adjfunc 30 58 5 1950 2100 6 1175 1225 1775 1825 5 10 200 adjfunc 31 48 5 1950 2100 6 1250 1300 1700 1750 5 10 200   Consult Rotorflight Adjustments for more info on how to setup the above adjustments. ","version":"Dev","tagName":"h3"},{"title":"FrSky Ethos RFStatus LUA Script","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-ethos/ethos-nexus-status","content":"FrSky Ethos RFStatus LUA Script Installation As part of the RFSuite installation detailed above the RFStatus Widget is installed in the background and is ready for configuration. Before proceeding please ensure the Heli, RX and Rotorflight FBL are powered on and connected to your Ethos transmitter, At this point please ensure you have the full list of Telemetry sensors showing in the Model\\Telemetry screen. ##-- PLEASE REMOVE THE BLADES -- Ethos Screen Setup From the main screen press the DISP button and a screen similar to this will be shown. Press the + symbol to add another screen, scroll down and select the full screen icon as shown. Select Change Widget, scroll thru the list and select Rotorflight Status The following screen is shown, select Configure The following screen is the main configuration options for the Rotorflight Status widget TRIGGERS The ARM and IDLE-UP switch positions MUST be entered as per your Rotorflight configurator setup, in this example SE is ARM (Motor) and SD is IDLE-UP or Throttle Enable. Delay before active is the time taken for your motor to reach idle-up RPM. Current measurements will be started after this timeout. TIMER CONFIGURATION This is a count UP timer and will alarm at the set point, you can disable if using another Ethos timer. BATTERY CONFIGURATION Enter your Battery \\ Voltage settings and preferences, the 'Play alert on' can be configured for your preference. SWITCH ANNOUNCEMENTS This section allows you to have the status widget play announcements depending on your TX switch positions. TELEMETRY ANNOUNCEMENTS Similar to the above, allows the status widget to play various Telemetry announcements depending on your TX switch positions, this could include, for example, using the rear panel SJ momentary switch to announce Fuel and/or Voltage. GOVERNOR ANNOUNCEMENTS Similar to the above but recommended to enable as per your preferences.These are primarily intended for use when using the Rotorflight Governor - If using an External ESC governor you will receive basic announcements of ARMED, DISARMED, ACTIVE and THROTTLE OFF. CUSTOMISE DISPLAY This is the main widget display which has 6 pre-defined boxes each of which can display a range of items for your layout preference. The additional display options allow the widget to display the min\\max of the sensors as well as colours to indicate status or low battery. You also have the option to add additional sensors from Telemetry and choose these to display in the main screen. ADVANCED OPTIONS This is where you select Rotorflight Internal or an External governor for the widget, as well as any temp conversion from Centigrade to Fahrenheit. The Voltage section allows you to choose how sensitive the low voltage alarms will be depending on the voltage sag whilst in flight.The sag compensation is a time delay before the alarms are announced. Gimbal monitor effectively monitors your stick positions based on the drop down selection, and alerts if the given value is met. Normally disabled. The Headspeed option allows you to set the announcement which will tell you when the headspeed has changed, 10% default, useful to monitor if the Governor is maintaining the requested headspeed during fast 3D manoeuvres. Could point to Governor PID tuning. Calculate fuel locally can be used in the event your ESC does not send a current measurement.","keywords":"","version":"Dev"},{"title":"FrSky Ethos example","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-ethos/ethos-setup","content":"FrSky Ethos example Rotorflight Frsky Setup Instructions for Frsky Ethos Initial Radio and Configurator Setup, this is a generic setup using an Frsky transmitter with an frsky access receiver with a Rotorflight FC. This example shows a Nexus; however, the process is the same for any Rotorflight controller. Please choose the SBUS port related to your FC. Radio Following the manufacturers instructions register and bind your receiver to your newly created model or a clone Once the bind is successful you will see Telmetry items updating in the Model\\Telemetry screen, similar to this And the radio will display signal in the top right similar to this: Enter the Model screen and scroll to RF System, select the receiver, in this example we are using a Frsky Archer GR6Plus, click on the receiver type and select options. Under Telemetry port choose FBUS, and exit the screen. FBUS is the preferred method of connection. Nexus and RF Configurator In the following example the Frsky receiver is connected to Port (A) of a Nexus controller. With the supplied cables you can connect to either Port A, B or C Connect the USB-C cable to the Nexus and connect to the PC\\Laptop with the Configurator installed. The latest Rotorflight configurator can be found HERE One connected this screen will be displayed if a new Nexus is attached. This is a warning the accelerometer is not calibrated, click close and enter the main configurator page. Select SETUP on the left, hold or keep the nexus flat on the bench and click 'Calibrate Accelerometer', the top status bar will show ' Accelerometer calibration finished' Select STATUS on the left and the following page will be displayed Item 1 is showing board firmware and identification. Item 2 is showing battery connection info - At this stage the main battery is not connected. Item 3 is showing the Nexus firmware version and the RF Configurator version. Configurator Initial Setup Select Configuration on the left The screen is described as: Enter your craft nameEnable Accelerometer, Barometer and CMSSet Port (A) or your assigned receiver port to Serial Rx By default the Nexus is setup to be installed horizontal servo pins facing towards the front, if the pins are facing to the rear of the heli enter 180 in the Yaw Degree's box. Click Save and reboot Enter the Receiver tab and select the options as per this view. Under telemetry enable these options Save and Reboot, please ensure your transmitter is switched on and connected to your receiver Return to the receiver tab, you should now see the channel bars moving when the TX joysticks are moved. If not either the TX\\RX are not bound or a step above has been missed.","keywords":"","version":"Dev"},{"title":"Futaba example","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-futaba/futaba-setup","content":"","keywords":"","version":"Dev"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/next/setup/radio-setup/radio-setup-futaba/futaba-setup#wiring","content":" The simplest is to use a male to male servo lead to connect from the SBUS port on the FBL to the SBUS2 port on your receiver.    ","version":"Dev","tagName":"h2"},{"title":"Configure the FC‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/next/setup/radio-setup/radio-setup-futaba/futaba-setup#configure-the-fc","content":" Next steps are to configure the fbl to receive the SBUS2 signal.  ","version":"Dev","tagName":"h2"},{"title":"Setup UART ports‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/next/setup/radio-setup/radio-setup-futaba/futaba-setup#setup-uart-ports","content":" Set the SBUS port to be used for serial rx communication    ","version":"Dev","tagName":"h3"},{"title":"Setup Receiver‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/next/setup/radio-setup/radio-setup-futaba/futaba-setup#setup-receiver","content":" Then visit the receiver page and configure as follows    ","version":"Dev","tagName":"h3"},{"title":"Setup Radio‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/next/setup/radio-setup/radio-setup-futaba/futaba-setup#setup-radio","content":" On the Linkage Menu -&gt; System Type page, make sure you are using a protocol that supports telemetry, like T-FHSS or FASSTest 18ch and that telemetry is enabled.  Once you have activated telemetry, you have to configure the list of sensors in the Linkage Menu -&gt; Sensor page. The slot assignment and sesor types are important, otherwise your radio won't display the telemetry information correctly. Follow the assignment map and example bellow:      Once your sensors are configured correctly, you should be able to customize your telemetry screen to include the data you want. ","version":"Dev","tagName":"h3"},{"title":"Jeti example","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup","content":"","keywords":"","version":"Dev"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#wiring","content":" The simplest is to use a male to male servo lead to connect from the SBUS port on the FBL to the E1 port on your receiver.    ","version":"Dev","tagName":"h2"},{"title":"Transmitter Setup‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#transmitter-setup","content":" Once your receiver has been bound to the radio; visit the device explorer page.    ","version":"Dev","tagName":"h2"},{"title":"Select Receiver type‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#select-receiver-type","content":" Select the receiver    ","version":"Dev","tagName":"h3"},{"title":"Set alternate pin‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#set-alternate-pin","content":" Select the alternative pin configuration    ","version":"Dev","tagName":"h3"},{"title":"Select ExBus pin‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#select-exbus-pin","content":" Set the pin to use the ExBus protocol    ","version":"Dev","tagName":"h3"},{"title":"Configure the FC‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#configure-the-fc","content":" Next steps are to configure the fbl to receive the Exbus signal.  ","version":"Dev","tagName":"h2"},{"title":"Setup UART ports‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#setup-uart-ports","content":" Set the SBUS port to be used for serial rx communication    ","version":"Dev","tagName":"h3"},{"title":"Setup Receiver‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#setup-receiver","content":" Then visit the receiver page and configure as follows    ","version":"Dev","tagName":"h3"},{"title":"Check sensors‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/next/setup/radio-setup/radio-setup-jeti/jeti-setup#check-sensors","content":" You should now have a control link and telemetry with all the sensors available on your radio.   ","version":"Dev","tagName":"h3"},{"title":"Other Transmitters","type":0,"sectionRef":"#","url":"/docs/next/setup/radio-setup/radio-setup-others/others","content":"","keywords":"","version":"Dev"},{"title":"Coming Soon‚Äã","type":1,"pageTitle":"Other Transmitters","url":"/docs/next/setup/radio-setup/radio-setup-others/others#coming-soon","content":"","version":"Dev","tagName":"h2"},{"title":"Remapping (for DIY boards)","type":0,"sectionRef":"#","url":"/docs/next/setup/remapping","content":"","keywords":"","version":"Dev"},{"title":"Key concepts‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/next/setup/remapping#key-concepts","content":" Before you start remapping your drone FC to be used with Rotorflight, keep in mind the following.  1- Although it is not necessary, but it is advised to keep your cyclic servos on the same Timer.  2- If you wish to use a narrow band tail servo, then assign that servo to separate timer.  3- Main motor esc output should on a separate timer.  4- In case you are using a PWM controlled esc then Rotorflight will require an rpm signal for governor and RPM Filtering, RPM input should be on a 32bit separate timer (TIM2 or TIM5).    ","version":"Dev","tagName":"h2"},{"title":"Custom defaults remapping spreadsheet‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/next/setup/remapping#custom-defaults-remapping-spreadsheet","content":" Spreadsheet for remapping Betaflight targets for use with Rotorflight. The spreadsheet re-allocates features for motors and servos and configures associated timers and dma.  Please 'make a copy'.  Rotorflight remapping spreadsheet v1.4.1  Rotorflight remapping spreadsheet v2.0  ","version":"Dev","tagName":"h2"},{"title":"Rotorflight Hardware config and remapping video‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/next/setup/remapping#rotorflight-hardware-config-and-remapping-video","content":"   ","version":"Dev","tagName":"h2"},{"title":"Importing new targets‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/next/setup/remapping#importing-new-targets","content":" Some targets in the betaflight target repository have additional #define lines above board_name. Please do not chose them. In the example below copy only from board_name down. The Board_name MUST be the first line in the spreadsheet.    ","version":"Dev","tagName":"h2"},{"title":"Configuring a Motor output‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/next/setup/remapping#configuring-a-motor-output","content":" ","version":"Dev","tagName":"h2"},{"title":"Configuring a Frequency input‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/next/setup/remapping#configuring-a-frequency-input","content":" The frequency input pin must be connected to a timer with exclusive access. In other words, there must be a free timer, not used by anything else, and one of its positive channels must be available on a pin that is connected to the FC's solder pads. Negative channels, like CH3N, can't be used as inputs. Once we know which timer and pin we can use, it can be configured for frequency sensor use.  note We recommend that Freq inputs are allocated to pins that have Timer 2 or Timer 5 available. If 2 Freq inputs are required (e.g. Motorized tail) then both inputs can share the same timer. In the remapping spreadsheet these pins are indicated by the green box marked Freq.  In this example, we have chosen to use the LED_STRIP pin as our frequency input. We see there is only one option (Timer1) on AF1. We can use this pin but must not allocate any of the Servos or Motors to Timer1. Only the motor pins share this timer so we can choose either AF2 (timer3) or AF3 (timer8).    ","version":"Dev","tagName":"h2"},{"title":"The lines which configure the frequency signal‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/next/setup/remapping#the-lines-which-configure-the-frequency-signal","content":" resource LED_STRIP 1 NONE resource Freq 1 A09 timer A09 AF1 # Freq - pin A09: TIM1 CH2 (AF1) dma pin A09 0 # Freq - 0: DMA2 Stream 6 Channel 0  ","version":"Dev","tagName":"h3"},{"title":"RPM Filters","type":0,"sectionRef":"#","url":"/docs/next/setup/rpm-filters","content":"","keywords":"","version":"Dev"},{"title":"Introduction‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/next/setup/rpm-filters#introduction","content":" RPM filters clean up the gyro signals by filtering out vibrations that are coming from the rotating parts in a helicopter: the main rotor, tail rotor and motor(s).  The difference between an unfiltered and filtered signal is significant. Here's an example of filtered and unfiltered gyro signals:    RPM filtered gyro signals enable you to tune the helicopter better, for example by being able to use higher gains.  The RPM filters require real time motor speed information to be available to the flight controller. This can be obtained with a Frequency Sensor or by using Bidirectional DSHOT.  Once the FC knows the motor speed, it can calculate the main and tail rotor speeds. For this it needs to know the Main Rotor Gear Ratio and the Tail Rotor Gear Ratio, which you can specify in the Motors tab.  For example, here are the ratios for my Gaui X3.    note Direct drive motors have a ratio of 1:1.  In order to use RPM filters, proceed to the Gyro tab, and enable the filters as shown below.  ","version":"Dev","tagName":"h2"},{"title":"Basic RPM Filters Settings‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/next/setup/rpm-filters#basic-rpm-filters-settings","content":" These settings should be ok for a first flight.      Filters introduce latency. More filters mean more latency. So try to keep the number of filters low.  Double filters provide heavier filtering than single filters, but are also slower. They are sometimes needed on the 1st and/or 2nd harmonic.  tip The Q factor defines how wide the filter is: Lower Q values make the filter widerHigher Q values make the filter smaller  Wider filters are slower than narrow filters, so try to make the filters as small as possible without it being ineffective.  ","version":"Dev","tagName":"h2"},{"title":"Filter Tuning‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/next/setup/rpm-filters#filter-tuning","content":" Make a blackbox log of a short flight with constant headspeed. Scroll to the point where the heli has spooled up and is hovering. Mark that point with the I key. Scroll near the end and mark that with the O key. Now bring up the Analyzer Display and enlarge it. It might look like:    This log was made with only a double fundamental filter. As you can see there's some noise around 144Hz. Since the headspeed is 4200 RPM, that must be near the second harmonic (4200/60 = 70*2 = 140Hz). Also note that the gyro signal in the background is also a bit noisy.  Now let's add some single filters for the 2nd (140Hz) and 3rd (210Hz) harmonic. Suddenly the log looks a lot cleaner:   ","version":"Dev","tagName":"h2"},{"title":"Mixer Setup and Calibration","type":0,"sectionRef":"#","url":"/docs/next/setup/setup-mixer","content":"","keywords":"","version":"Dev"},{"title":"Set mixer type‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/next/setup/setup-mixer#set-mixer-type","content":" Choose the Swashplate type to suit your helicopter swash arrangement.Choose the Main rotor direction. Generally this is clockwise however some scale helicopters are anticlockwise.Check Control directions. With the transmitter on and servos powered. Command a roll to the right on the Tx. Check the swash rolls right. Reverse direction is required.Command the elevator to pitch forward on the Tx. Check the swash pitches forward. Reverse direction is required.Increase collective on the Tx. Check collective angle also increases. Reverse direction is required.    ","version":"Dev","tagName":"h2"},{"title":"Calibrating The mixer‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/next/setup/setup-mixer#calibrating-the-mixer","content":" note The purpose of the mixer calibration is to set the helicopters physical blade angle to the angle commanded by the FC  ","version":"Dev","tagName":"h2"},{"title":"Mixer override‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/next/setup/setup-mixer#mixer-override","content":" Set the mixer override at the bottom of the pages to ON. This will open the override window.    ","version":"Dev","tagName":"h3"},{"title":"Level the swashplate and blade pitch to zero‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/next/setup/setup-mixer#level-the-swashplate-and-blade-pitch-to-zero","content":" With the Mixer override enabled and all set to 0 degrees as above (servo arms should be at 90 deg).Trim the swashplate to level using the ball links.  note If the link arms are not adjustable then use the Roll trim and Pitch trim as required.  Adjust the upper link arms to zero the blade pitch. If the link arms are not adjustable use the Collective trim to zero.    ","version":"Dev","tagName":"h3"},{"title":"Collective Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/next/setup/setup-mixer#collective-calibration","content":" Confirm with a blade pitch tool that with collective mixer at 0 deg the blades are also at 0 deg.Set the collective mixer override to 9 deg. Measure the blade angle.If the Blade angle is different from the Override angle, increase or decrease Collective Calibration % until the bade angle matches.Set collective back to 0 deg.  ","version":"Dev","tagName":"h3"},{"title":"Cyclic Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/next/setup/setup-mixer#cyclic-calibration","content":" Set the pitch override to 9 deg.Measure the blade pitchIncrease or decrease the Cyclic Calibration %  ","version":"Dev","tagName":"h3"},{"title":"Variable Pitch Yaw Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/next/setup/setup-mixer#variable-pitch-yaw-calibration","content":" Set YAW override to 0 deg.Adjust the push rod length so that the rear tail L arm is 90¬∞.If this does not give 0¬∞ blade pitch, adjust Center trim until you have 0¬∞ blade pitch.Set mixer yaw override to 30deg CW/CCW, adjust Yaw Calibration % until you have around 30deg both ways.Set mixer yaw override to 60deg CW/CCW, adjust CW / CCW blade angle limits to the maximum number that does not causing binding.  note The calibration and CW / CCW limits vs. blade pitch is never perfect, because of the geometry asymmetry. It does not matter.The reason for doing the calibration is to make the PID defaults better. Without the calibration, all defaults in PID Profile are probably wrong.The Centre trim is mostly needed for making the CW/CCW blade angle limit numbers to match the blade angles. It also helps the feedforwards to work correctly. ","version":"Dev","tagName":"h3"},{"title":"RPM Measurement","type":0,"sectionRef":"#","url":"/docs/next/setup/rpm-measurement","content":"RPM Measurement In order to use the Governor or RPM filters (and why wouldn't you!!) you must measure the RPM. There are two options for this: RPM sensorBi-directional D-shot info RPM can sometimes also be read via ESC telemetry. However, this is at a refresh frequency that is too slow to be used for filtering of governing. caution RPM filtering is used to remove frequencies related to the rotating components. This allows a much higher tune; HOWEVER!! If the helicopter is flown in an OverSpeed condition the rotation of the one way bearing means that the RPM measurement will not be correct. If the helicopter is tuned too critically this could mean the helicopter could become out of tune resulting in unwanted oscillations. note RPM SensorBi-directional D-shot Frequency Sensor‚Äã Typically it is used when the RPM is not available via ESC telemetry. Only BLHeli_32, some BLHeli_S and APD F3 ESCs support Dshot/KISS telemetry, so this feature is needed with a wide range of traditional ESCs. The RPM signal is used in multiple places in the FC, e.g. in the PID control, the governor and the RPM-filter. If these features are not needed, then there is no need for the frequency sensor either. An electrical frequency signal is provided by some ESCs, e.g. Hobbywing with the &quot;yellow&quot; wire. Or it can come from an RPM sensor, which is converting the motor three-phase voltages into a frequency signal - e.g. Hobbywing RPM sensor. Please refer to your ESC's or sensor's manuals how to connect them correctly. Note about the Hobbywing RPM sensor: it's safest to power it with 3.3V, as the input voltage of the sensor is also the output voltage of the RPM signal it generates. All inputs on a STM32 MCU tolerate 3.3V, and some will also accept 5V. But if you're using a 8.4V BEC to power the sensor, you'll likely damage the MCU. Up to two frequency sensors are supported, for acquiring motor #1 and motor #2 speed. If both Frequency Sensor and telemetry RPM signals are available, the Frequency Sensor has precedence. Connection‚Äã Plug the ESC RPM wire (often yellow wire) or separate RPM sensor (Hobbywing RPM etc) into the FC RPM input. Configuration‚Äã Then the frequency sensor can be turned ON with the feature flag located on the Motors tab.","keywords":"","version":"Dev"},{"title":"Servo Setup and Calibration","type":0,"sectionRef":"#","url":"/docs/next/setup/setup-servos","content":"","keywords":"","version":"Dev"},{"title":"Step 1 - set frequency and center‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/next/setup/setup-servos#step-1---set-frequency-and-center","content":" DO NOT CONNECT THE SERVOS YET!Confirm and set the servo center to your servo manufacturers recommendation. For Cyclic this will usually be 1520us, and for Tail it would be 760us.If a servo's center is 760us, make sure to change the min/max to -350/350 instead of -700/700, and pos/neg scales to 250 instead of 500.Confirm and set the servo rate as specified by your manufacturer. For many digital cyclic servos this is 333Hz and for most tail servos this is 560Hz.  ","version":"Dev","tagName":"h3"},{"title":"Step 2 - Set servo directions‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/next/setup/setup-servos#step-2---set-servo-directions","content":" Connect the servos.Set Servo override to ON.Fit servo arms to as close to 90 degrees as possible.Slide Servo 1 override in the positive direction (i.e. right).Confirm the servo arm travels upwards towards the swashplate. If not toggle the servo reverse.  Repeat with remaining cyclic servos.    ","version":"Dev","tagName":"h3"},{"title":"Step 3 - set arms at 90 degrees‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/next/setup/setup-servos#step-3---set-arms-at-90-degrees","content":" Set each of the override sliders to 0 degrees.Adjust center to level the servo arm (0¬∞ or 90¬∞ depending on servo installation orientation). One quick way is to slide the override bar and copy the output value from the blue bar into the center and press save. Make sure to reset the override to see the correct effect.  Repeat with remaining cyclic servos.    ","version":"Dev","tagName":"h3"},{"title":"Step 5 - calibrate range (Optional - recommended)‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/next/setup/setup-servos#step-5---calibrate-range-optional---recommended","content":" The purpose of servo calibration is so the FC is able to more accurately control its mechanical movements. Not all servos are the same. Sometimes identical servos can have several degrees of difference for the same output. Calibrating the servos can enable each servo to move by the same amount when commanded. Calibration is also required if using the Geometric Correction function.  Set the override to a positive value (e.g. 30¬∞)measure the current servo arm angle and increase or decrease the Scale Pos until the servo arm angle matches the override angle.    ","version":"Dev","tagName":"h3"},{"title":"Step 4 - set final limits (Usually Not Required)‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/next/setup/setup-servos#step-4---set-final-limits-usually-not-required","content":" With the servos installed in the helicopter, adjust Min/Max so that the arm &amp; ball won't hit anything in the heli frame (servo override @ 80¬∞ / -80¬∞).  Repeat with remaining cyclic/tail servos. ","version":"Dev","tagName":"h3"},{"title":"Swashplate Wiggle","type":0,"sectionRef":"#","url":"/docs/next/setup/swash-wiggle","content":"","keywords":"","version":"Dev"},{"title":"FC is ready to Arm‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/next/setup/swash-wiggle#fc-is-ready-to-arm","content":" If arming is ready to be enabled and there is no prevention flags active (ready to arm) the swashplate will wiggle as an indication. It can be enabled or disabled from the cli: set wiggle_enable_ready = ON or OFF (default ON) save    ","version":"Dev","tagName":"h2"},{"title":"FC Armed‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/next/setup/swash-wiggle#fc-armed","content":" This is just a very brief single collective movement indicating the FC has just armed. This is disabled by default. It can be enabled or disabled from the cli: set wiggle_enable_armed = ON or OFF (default OFF) save  ","version":"Dev","tagName":"h2"},{"title":"FC Error‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/next/setup/swash-wiggle#fc-error","content":" If the flight controller identifies a configuration fault it will do an error movement by cycling collective several times.  Arm switch is active It can be enabled or disabled from the cli: set wiggle_enable_error = ON or OFF (default ON) save  ","version":"Dev","tagName":"h2"},{"title":"FC Fatal error‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/next/setup/swash-wiggle#fc-fatal-error","content":" The following Arm disable flags will trigger a FC fatal error. It can be enabled or disabled from the cli: set wiggle_enable_fatal = ON or OFF (default ON) save  'NOGYRO''LOAD''GOVERNOR''RPMFILTER''REBOOT_REQD''NO_ACC_CAL''MOTOR_PROTO''DSHOT_BBANG'  The 'amount' (strength) of wiggle and 'speed' (frequency) can be modified by changing the values below. set wiggle_strength = 50 set wiggle_frequency = 10 ","version":"Dev","tagName":"h2"},{"title":"Using Stability Modes (6G)","type":0,"sectionRef":"#","url":"/docs/next/setup/using-stability-modes-example","content":"","keywords":"","version":"Dev"},{"title":"Purpose‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/next/setup/using-stability-modes-example#purpose","content":" info 6G modes provide self stabilization/leveling of the helicopter when the sticks are moved to the centre. This is the opposite to the standard Acro mode (used for aerobatics and 3D) which will not self level after sticks are centered and thus is inherently unstable. These modes are generally used for beginners or those wanting more of a drone feel to their helicopter. 6G modes do not provide position fixing as found with GPS systems so the heli will drift around in the wind.  ","version":"Dev","tagName":"h2"},{"title":"Aim‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/next/setup/using-stability-modes-example#aim","content":" In this example we will configure a 3 position switch (SwC) to select between Stability modes. With the SwC fully down we will have Acro mode, SwC in the centre will be Horizon Mode and in the fully up position we will enable Angle mode.  ","version":"Dev","tagName":"h2"},{"title":"Configure the Tx‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/next/setup/using-stability-modes-example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwC) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch8 to the SwC in the Mixers tab    ","version":"Dev","tagName":"h3"},{"title":"Configure flight controller‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/next/setup/using-stability-modes-example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux3 is the eight channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux3,    Step 3:  Go to the Modes tab. Disable hide unused modes if nothing is visible.Chose the Horizon Mode. Enter AUX3 in the channel and adjust the range to cover the middle section of the control channel as shown in the picture below.Chose the Angle Mode. Enter Aux3 in the channel and adjust the range to cover the top section of the control range as shown in the pic below.    Step 4: Test and confirm the switch position enables and disables modes as required These values are added to the Profile so will result in (e.g. SwC down = No mode active = Acro, SwC middle = Horizon Mode, SwC up = Angle Mode).    ","version":"Dev","tagName":"h3"},{"title":"Calibrating stability modes‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/next/setup/using-stability-modes-example#calibrating-stability-modes","content":" ## Warning ## - do not use your transmitter trims!!‚Äã  Your Roll, Pitch and Yaw should all be trimmed to the stick centre configured in the receiver tab. This will be 1500 or 1520 depending on your radio.  Stability modes will try to stabilize to the calibrated flight controller level. This is rarely perfectly aligned with the actual helicopters attitude where there is no drift (least drift... there will always be some due to wind etc). In order to calibrate this in-flight we have 2 methods:  Using the Rotorflight Lua ScriptsStick controls  Note that it's also possible to adjust accelerometer trim values in the Configuration tab of the Configurator.  Calibration using Lua Scripts‚Äã  Select Accelerometer Trims from the Rotorflight main menu. Test fly the heli tail-in in either Angle or Horizon mode, with sticks at centre. If the heli drifts left, increase roll trim. If it drifts backwards, increase pitch trim. Each time you make a change to the trims long press the wheel/roller. The Page menu should now pop up. Select Save page. Adjust trims until the heli flies hands off without any pronounced drift in any direction.    Calibration using Stick Commands‚Äã  Standard 'Betaflight' stick commands work with Rotorflight. The accelerometer trims can be calibrated using these commands. To do this you must have Angle or Horizon Modes enabled.  You will also need to enable this in the CLI set enable_stick_commands = ON  Function\tCollective\tYaw\tPitch\tRollCalibrate Gyro\tLOW\tLOW\tLOW\tCENTER Calibrate Acc\tHIGH\tLOW\tLOW\tCENTER Trim Acc Left\tHIGH\tCENTER\tCENTER\tLOW Trim Acc Right\tHIGH\tCENTER\tCENTER\tHIGH Trim Acc Forwards\tHIGH\tCENTER\tHIGH\tCENTER Trim Acc Backwards\tHIGH\tCENTER\tLOW\tCENTER    For more details of the stick commands. See the Betaflight Wiki here. ","version":"Dev","tagName":"h3"},{"title":"Two-Stage Gear Train Ratios","type":0,"sectionRef":"#","url":"/docs/next/setup/two-stage-gear-train-ratios","content":"","keywords":"","version":"Dev"},{"title":"SAB Style Two-Stage Gear Train‚Äã","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/next/setup/two-stage-gear-train-ratios#sab-style-two-stage-gear-train","content":" The SAB Goblin helis have a two-stage transmission, therefore you have double the amount of gears/pulleys, also the main tail pulley is mounted on the intermediate shaft, which make the tail ratio a little more complicated to determine.    The above pictures shows the configuration of the transmission on the SAB Raw 580, 700, Piuma, Black Thunder 700, etc.  The gears/pulleys tooth count is marked by Z, and is numbered to identify each one.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as (Z3 x Z6) and front pulley value as (Z4 x Z5).  The below table shows some gear/pulley tooth counts for some famous two-stage helicopters.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)SAB Goblin 500 Sport\t15 to 24 ( Std 18T )\t48\t18\t62\t28\t21 SAB Black Thunder 700\t18 to 25 ( Std 21T )\t60\t19\t68\t37\t26 SAB Raw 580\t18 to 26 ( Std 22T )\t50\t14\t58\t27\t23 SAB Raw 580 Nitro\t26 to 28 ( Std 26T )\t50\t14\t58\t27\t23 SAB Raw 700\t18 to 25 ( Std 21T )\t56\t18\t69\t34\t26 SAB Raw 700 Nitro\t26 to 28 ( Std 27T )\t52\t14\t58\t27\t22 SAB Raw Piuma\t18 to 26 ( Std 20T )\t52\t14\t58\t27\t22  For example for the Raw 700 with STD 21T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (21 x 18) = 378.main gear = (Z2 x Z4) = (56 x 69) = 3864.tail pulley = (Z3 x Z6) = (18 x 26) = 468.front pulley = (Z4 x Z5) = (69 x 34) = 2346.  After entering the value the ratios in the configurator motor page should look like this.    ","version":"Dev","tagName":"h2"},{"title":"KDS Style Two-Stage Gear Train‚Äã","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/next/setup/two-stage-gear-train-ratios#kds-style-two-stage-gear-train","content":" The KDS Agile helis also have a two-stage transmission, however the autorotation gear/pulley is mounted on the main shaft, thus the tail ratio calculation will be straightforward.    The above pictures shows the configuration of the transmission on the KDS Agile 5.5, 7.5, A5, and A7.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as Z5 and front pulley value as Z6.  The below table shows some gear/pulley tooth counts for these KDS helis.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)KDS Agile A5\t20 or 21 ( Std 21T )\t54\t17\t66\t54\t14 KDS Agile 7.2\t19 to 21 ( Std 19T )\t54\t20\t66\t57\t12 KDS Agile A7\t19 to 21 ( Std 20T )\t54\t20\t66\t57\t12  For example for the KDS Agile A7 with STD 20T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (20 x 20) = 400.main gear = (Z2 x Z4) = (54 x 66) = 3564.tail pulley = Z6 = 12.front pulley = Z5 = 57.  After entering the value the ratios in the configurator motor page should look like this.   ","version":"Dev","tagName":"h2"},{"title":"Cyclic Cross Coupling","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Cyclic-Cross-Coupling","content":"","keywords":"","version":"Dev"},{"title":"What is it?‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/next/Tuning/Cyclic-Cross-Coupling#what-is-it","content":" During ticktocks, one might observe that the center of the main rotor rotates during stops. Another scenario is during hover, one can shake the elevator stick and observe a tilt in the roll axis and a significant drift in the yaw axis. These are both the symptoms of uncompensated cyclic cross coupling.  Cyclic cross coupling happens mainly due to the pitch axis inputs. When the pitch command is given, due to the high moment of inertia of the helicopter in the pitch axis, the frame would &quot;lag&quot; behind the rotor disks. This difference in position creates a torque on the rotor blade and thus transfer to the roll axis due to gyroscopic precession.  The cross coupling compensation simply take a derivative on the pitch SETPOINT and add it proportionally to the roll axis. This effectively pre-load the roll axis with a input command so that when the above scenario happens, the two effects cancel each other.  ","version":"Dev","tagName":"h2"},{"title":"How to tune it?‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/next/Tuning/Cyclic-Cross-Coupling#how-to-tune-it","content":" Start with a low value and increase when there's no significant coupling is observed or when there is a diminishing return. You might also want to try piroflips because cross-coupling gain changes the corresponding commands at different orientations during piroflips. Try increase the gain slowly so you can get used to the feeling.  From experience, the harder the main rotor dampener is, the lower cross coupling gain is required.  ","version":"Dev","tagName":"h2"},{"title":"(Advanced Topic) Constant Cross Coupling‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/next/Tuning/Cyclic-Cross-Coupling#advanced-topic-constant-cross-coupling","content":" The above cross coupling only happens at the moment of pitch (could also be a little bit of roll) input. However, there could be another scenario that a constant cross-coupling might occur. If the main blade flap axis is not centered at the middle commonly due to very hard dampeners, very low headspeed, or rotorhead designs, a constant cross coupling might occur because the phase lag of the rotor blade is no longer perfectly 90deg. In this case, you might want to consider adjusting the phase angle in the Mixer page. Usually a +2 to +10 deg would be a good range to start and more testing is needed. You might also want to make sure that it is doing the right thing. For CW rotor, when pushing the elevator, the swash should tilt slightly right, and when you pull the elevator stick, the swash should tilt slightly left. ","version":"Dev","tagName":"h2"},{"title":"First Flight & Filter Tuning","type":0,"sectionRef":"#","url":"/docs/next/Tuning/First-Flight-Filter-Tuning","content":"","keywords":"","version":"Dev"},{"title":"Example: A Relatively Well Tuned Filter During 3D Maneuvers‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/next/Tuning/First-Flight-Filter-Tuning#example-a-relatively-well-tuned-filter-during-3d-maneuvers","content":" ","version":"Dev","tagName":"h2"},{"title":"RAW Gyro:‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/next/Tuning/First-Flight-Filter-Tuning#raw-gyro","content":"   ","version":"Dev","tagName":"h3"},{"title":"Filtered Gyro:‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/next/Tuning/First-Flight-Filter-Tuning#filtered-gyro","content":"  ","version":"Dev","tagName":"h3"},{"title":"High Speed Integral","type":0,"sectionRef":"#","url":"/docs/next/Tuning/High-Speed-Integral","content":"","keywords":"","version":"Dev"},{"title":"What is it?‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#what-is-it","content":" This is one of the core features of most advanced FBL systems (Vbar, CGY760R, Spirit .etc) The problem it is solving is mainly due to the difference in lift from high airspeed in the x and y directions. For example, as the helicopter is moving forward while having a constant positive collective pitch, the helicopter tends to pull up. If the collective pitch is negative, the imbalance of lift is reversed, and the heli would tend to push down. This is usually not a problem if the collective stays constant because the integral gain will compensate this constant &quot;trim&quot;. However, when changing collective while moving at a high speed (for example, fast moving side tick tocks) the heli would not move axially. It would behave in a snake shape because the I term is constantly charging and discharging in the opposite direction.  The High Speed Integral (HSI) resembles another integral term. However, its output is proportional to the collective input, which reverses when the collective is negative. This is the &quot;arching&quot; effect you might see on FBLs like a vbar, where if one tilt the helicopter at high collective, and move the collective up and down, the swash plate would resemble one side of a seesaw.  ","version":"Dev","tagName":"h2"},{"title":"How to tune it?‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#how-to-tune-it","content":" To properly tune the HSI, one has to be able to fly maneuvers comfortably at a relatively high speed. The best maneuver is the fast moving ticktocks. It is advised to start low (about 30) and see if there's snaking at the first few tick tocks. The higher O-gain you use, the faster it reacts to high speed, meaning the amount of time ticktock becomes axial is lowered. Ideally, the O-gain should be just high enough to have no snaking. Too high might result in bobbling during stationary tick tocks because it is essentially an I gain at constant collective.  ","version":"Dev","tagName":"h2"},{"title":"(Advanced Topic) Tick tock Optimization‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#advanced-topic-tick-tock-optimization","content":" The problem of naively implementing the HSI is repeated maneuvers like tick tocks. The HSI works the best when the heli needs reversed &quot;trim&quot; when collective is reversed. However, there is another scenario that this could happen: during ticktocks. Assume there's some error that reverses at each stops of the ticktocks, then the HSI would tend to charge up little by little at each end, resulting unwanted bobbling right after each collective change.  Currently, there seems to be three ways to solve this problem. The simplest way is to not deal with the problem at all and use a very fast I-term decay on the normal integral gain to &quot;soothe&quot; the effect. However, the fast I-term decay creates significant drifting problem in other scenarios, making the heli less predictable.  A much more sophisticated way to deal with this issue. From behavior of the pilots, we know that when the cyclic inputs are high, there's a very low chance that the heli would keep the same airspeed at the input direction. Therefore, the HSI would be added to the normal I term (in the input direction) at some cyclic threshold. This preserves the HSI in the orthogonal direction but &quot;deletes&quot; them in the parallel direction.  RF2 follows the previous logic. However, instead of &quot;deleting&quot; the HSI, it &quot;decays&quot; HSI in a set speed (dictated by the offset_bleed_rate_curve and offset_bleed_limit_curve parameter) into the normal-I. Therefore, a extremely fast impulse on the stick would not result in a complete deletion of the HSI.  ","version":"Dev","tagName":"h2"},{"title":"(Advanced Topic) HSI Charging Rate‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#advanced-topic-hsi-charging-rate","content":" Another problem with HSI is that it behaves like integral gain at constant collective with higher collective having a higher &quot;equivalent I-gain.&quot; This problem could affect the PID balance greatly especially at high collectives. One way to solve this problem is to lower the HSI charging rate at high collective (offset_charge_curve). It effetely lowers the equivalent I-gain at high collective which helps maintain the PID balance. However, the adverse effect is that this assumes no significant airspeed change when collective is high, which in some extreme cases might not be true. Also, snaking might occur if one prefer to use high collective during fast moving ticktocks. Therefore, it is advised to have the charge rate as high as possible at high collective to minimize the effect. ","version":"Dev","tagName":"h2"},{"title":"Motorised Tail and TTA","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Motorised-Tail-and-TTA","content":"Motorised Tail and TTA info Torque Tail Assist (TTA) - This is a feature used for helicopters with motorised tails. A motorised tail can provide high control authority in one direction. In the other it is greatly reduced as the motor can only turn in one direction. TTA is used to add control authority in the other direction. It does this by rapidly accelerating the main motor. This acceleration provides torque in the opposite direction to the tail motor. Tuning TTA is best performed by pushing your heli into a flight envelope in which you loose tail authority. A simple flight pattern is to fly backwards as fast as possible.. with the tail going into the wind. If you notice the heli suddenly doing a sharp rotation.. sometimes up to 180 degrees; then your TTA needs to be higher. Simply raise the value in increments of 10 until the problem starts to go away. Sometimes you will find that your heli will be find with flying backwards; but flip out in aggressive manoeuvres. For example a 'tail slide' or 'backwards loop' will trigger it. As above.. raise the gain until the issue is largely mitigated. Note. Its possible you will never 100% clear the swing that can occur. The original 'OMP M2' for example will still show the issue at times with even the maximum TTA gain. In the end the issue is that the main motor is not beefy enough to provide enough torque to control the swing that can occasionally occur.","keywords":"","version":"Dev"},{"title":"Rescue mode settings","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Rescue-mode-settings","content":"Rescue mode settings","keywords":"","version":"Dev"},{"title":"Tune Feedforward","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Tune-Feedforward","content":"","keywords":"","version":"Dev"},{"title":"Steps‚Äã","type":1,"pageTitle":"Tune Feedforward","url":"/docs/next/Tuning/Tune-Feedforward#steps","content":" If it is the first time, make sure to start low (usually &lt; =100 on the cyclic and 0 on the tail)Do continuous flips, rolls, or pirouetting.Stop the flip/roll or piro, observe the stopping behaviorIf the heli does not stop cleanly and kept moving a little bit, increase the FF gain on its corresponding axisIf the heli stops but bounces back, decrease the FF gain on the corresponding axis  IMPORTANT NOTICE: This parameter is NOT designed to tune the response of the helicopter. DO NOT use it to change how fast the heli reacts to inputs. If you want a sharper reaction, please increase the B(oost)-gain ","version":"Dev","tagName":"h2"},{"title":"Tune the Governor","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Tune-Governor","content":"","keywords":"","version":"Dev"},{"title":"Preparation‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#preparation","content":" If you're using TTA, disable it by setting TTA gain to 0 on the Profiles tab. You can enable it again once you're done tuning the governor.Set Blackbox debug mode to Governor and Blackbox logging rate to 1kHz on the Blackbox tab.Start with governor P-gain and I-gain really low, e.g. 10 for P and 20 for I. Spool up might now take a bit longer.  ","version":"Dev","tagName":"h2"},{"title":"Tuning steps‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#tuning-steps","content":" When you're using the Rotorflight Lua scripts, you can change all gain values on the field. My routine is to make logs of 3 or 4 different values around the default value for one specific gain. Example: the governor F-gain has a default value of 15, so try 10, 15, 20 and 25. Start with 10, do some pitch pumps (give it full collective for a short period of time) and disarm. Change the value to 15 and save, arm, do some pitch pumps, and so on. The result will be one log file with 4 partial logs, which you can select with the dropdown in the upper-right corner of the Blackbox Explorer. Then look in the Blackbox Explorer to see what gain value works best. If you think you might need higher or lower values for a specific gain, make a new log with adjusted values.  Try increments of 10 for the F-gain, increments of 25 for the I-gain and increments of 10 for the P-gain.  ","version":"Dev","tagName":"h2"},{"title":"1. Tune the F-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#1-tune-the-f-gain","content":" The F-gain determines the feedforward term, together with cyclic and collective precompensation. As stated, the better the F-gain is tuned, the less the PID-loop has to correct. Here's an example where the F-gain is too low, since the headspeed drops quite a bit when doing pitch pumps.    If the F-gain is too high, the headspeed will be temporarily too high.    ","version":"Dev","tagName":"h3"},{"title":"2. Tune I-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#2-tune-i-gain","content":" After you have found and set the best value for F-gain you can increase the I-gain until it starts playing up, then reduce it with 1/3. Here you can see an I-gain value which is too high, since there are some slow oscillations during and/or after the pitch pump.    ","version":"Dev","tagName":"h3"},{"title":"3. Tune P-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#3-tune-p-gain","content":" After setting the optimal value for I-gain start increasing the P-gain till there are slight oscillations, then reduce it with 1/3. Here is an example of a P-gain that is clearly too high and introduces fast oscillations.    ","version":"Dev","tagName":"h3"},{"title":"4. Tune D-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#4-tune-d-gain","content":" Unless you're flying a 500+ heli you probably won't need D, since there's hardly any momentum in the rotor.  ","version":"Dev","tagName":"h3"},{"title":"The result‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#the-result","content":" This is the result of tuning a Scorpion HKII-2208 3600KV motor in a Gaui X2.    And these are the gain values found for this heli:   ","version":"Dev","tagName":"h2"},{"title":"Tuning your Helicopter","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Tuning-description","content":"","keywords":"","version":"Dev"},{"title":"Tuning Profile PID:‚Äã","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/next/Tuning/Tuning-description#tuning-profile-pid","content":"   caution Please start by confirming your filters are working correctly before you increase your tuning parameters. If you do not have filters enabled it is particularly important that you do not use Derivative. This can result in hot Motors and Servos.  note What do we mean &quot;wobble&quot;?? When tuning parameters are too high the helicopter will wobble or shake during some movements. Each time we increase a tuning value we need to test fly and see if the new setting is too high. Test this in the following way: Beginner: Tap the stick and see if it shakes/shudders/wobblesAverage: Do some flips with sudden stops, try going fast and tapping the stick, do some TictocsAdvanced: Do crazy high speed high rate stuff that makes the FC sweat and see if it freaks out üòú. Please also see the General Guidelines below for more specific descriptions‚Äã  Increase Derivative (D) on each axis individually, (roll, pitch, yaw) until it wobbles, then back off a bit. (remember!! don't do this if your filters are not working). Increase Proportional (P) on each axis individually, until it wobbles, then back off a bit. Increase Integral (I) on each axis individually, until it wobbles, then back off a bit. Set Feedforward so that you get good response and Integral (I) remains near 0 in full stick flips and rolls (viewed using the blackbox logs). Feedforward can also be tuned by following the description in Tune Feedforward. If necessary, then tweak P:D ratio to tweak stick response damping to your liking. Increase HSI until it wobbles when jabbing elevator at full collective, back off a bit.    Increase Boost (B) if you want sharper/faster response.  ","version":"Dev","tagName":"h2"},{"title":"General Guidelines‚Äã","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/next/Tuning/Tuning-description#general-guidelines","content":" The higher the gains are, the better the heli response to inputs, the more &quot;locked in&quot; heli feels.The pitch axis is the most difficult axis to tune. It is advised to start here.The roll axis is the easiest. Many different gains works on the roll axis. It is advised to tune last.D-gain dampens oscillations caused by P, P-gain dampens oscillations caused by I.I-oscillation are very slow (0.5-1Hz) while P and D oscillations are fast (5-8Hz).If there is I-oscillation, one could lower the I-gain or raise the P-gain.The best maneuver to see I-oscillation is to pirouetting long pitch pumps. If the heli does not stop clean and has a large shake, it is either I-gain being too high or P-gain being too low.It is possible to use the same I-gain on pitch and roll axis.Check tick-tock stops to see if P and D are too high by observing the fast oscillations. If oscillations are mainly slow, I-gain might be too high.The B-gain should be increased incrementally to fit how sharp the response you want. Usually only pitch needs a significant B-gain.Too high on B-gain results in unwanted oscillations at stops if low B-gain did not cause it.One could also experiment the I-relax to tune out the I-oscillations at stops. Lower number means stronger relax. Notice that a extremely low number might make the helicopter feel unpredictable. Low number also hide gain imbalance that could show up during high-demand maneuvers or natural occurring disturbances (like a gust of wind) ","version":"Dev","tagName":"h2"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/docs","content":"","keywords":"","version":"2.1.0"},{"title":"Latest Rotorflight 2 Version‚Äã","type":1,"pageTitle":"Introduction","url":"/docs#latest-rotorflight-2-version","content":" Rotorflight v2.1 is the current stable release and can be found in the V2.1.0 Stable Downloads.  ","version":"2.1.0","tagName":"h2"},{"title":"Next release testing‚Äã","type":1,"pageTitle":"Introduction","url":"/docs#next-release-testing","content":" The next release of Rotorflight is currently in the development phase. Snapshots can be found Development Downloads.   ","version":"2.1.0","tagName":"h2"},{"title":"Configurator","type":0,"sectionRef":"#","url":"/docs/configurator","content":"Configurator üìÑÔ∏è Status A place for basic flight controller information. The status tab is the first tab you see when you connect to your flight controller. You can check the gyroscope live preview, view the arming prevention flags and other FC information. üìÑÔ∏è Setup Setup üìÑÔ∏è Configuration Personalization üìÑÔ∏è Receiver One of the first things you should do is to connect a receiver to the FC. Your FC has several UARTs, and each UART has a TX and an RX. A receiver needs to be connected to an RX and/or TX pad, depending on the type of receiver. üìÑÔ∏è Failsafe Failsafe Tab üìÑÔ∏è Power Set up all your power and battery related settings. Set the voltage and current sensor sources and calibration so that the FC can read the values and warn you accordingly. You can also check the current power measurements. üìÑÔ∏è Motors The Motors tab is used to configure the ESC communications protocols ( Motor Control Protocol &amp; Telemetry Protocol ) ,as well as to provide the ability to test motor operation. Depending on the selected ESC protocol and selected Rotorflight features, you might need to specify some other parameters as well. üìÑÔ∏è Servos Open the Servos tab and confirm that you have the correct number of servos. If this is not the case, please confirm you have installed the correct firmware (either 'M' motorized or servo tail) or if you are using a drone FC that your Remapping is correct. üìÑÔ∏è Mixer This section will describe the configuration of the mixer and calibrate the rotor blade angles. üìÑÔ∏è Gyro üìÑÔ∏è Rates The purpose of rates are to change in flight sensitivity and rotation rates. The aim is usually to have several 'rates' that you can switch between during flight to change flight performance. Please see the profile switching example üìÑÔ∏è Profiles The purpose of profiles are to store in flight tuning parameters. The aim is usually to have several 'profiles' that you can switch between during flight to change flight performance. Things like different headspeeds, tuning, rescue settings etc can be 'tuned' for the individual flight mode. Please see the profile switching example üìÑÔ∏è Modes Modes üìÑÔ∏è Adjustments There are total 32 adjustment slots, each assigning an AUX channel to a configuration parameter or a special function. An adjustment slot consist of an enabling condition, an adjustment function, and parameter limits. üìÑÔ∏è LED Strip üìÑÔ∏è Beepers To Do üìÑÔ∏è GPS Rotorflight currently only uses GPS for telemetry. Return to home, and other autopilot features are not available. üìÑÔ∏è Sensors On this tab you can enable or disable trending for each sensor. This is for testing and confirmation that each is working correctly. üìÑÔ∏è Blackbox What is Blackbox üìÑÔ∏è CLI This tab is the CLI or Command Line Interface. It is a method for sending commands and settings to the flight controller. We can also backup and restore our configuration using this tab.","keywords":"","version":"2.1.0"},{"title":"Beepers","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/beepers","content":"Beepers To Do","keywords":"","version":"2.1.0"},{"title":"Blackbox","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/blackbox","content":"","keywords":"","version":"2.1.0"},{"title":"What is Blackbox‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#what-is-blackbox","content":" Blackbox is a flight data recording feature in Rotorflight. A Blackbox log contains a lot of data, such as the attitude of the heli, gyro sensor measurements, PID data, RC commands, motor outputs etc. It‚Äôs an extremely powerful tool for tuning and troubleshooting the heli.  ","version":"2.1.0","tagName":"h2"},{"title":"Blackbox data can be logged to:‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#blackbox-data-can-be-logged-to","content":" A flash chip on the FC. Logging is fast, but storage is limited, unless you are using a dedicated RF controller(FlyDragon F7 has 128MByte Flash), and copying log files can be slow.An SD card on the FC, it's fast and storage is only limited by the capacity of the SD card.An external logging device: OpenLager. These devices write the log to a micro SD card.  A flash chip or an SD card on the FC are nice, but if your FC doesn't have that you can connect an OpenLager logging device.    ","version":"2.1.0","tagName":"h2"},{"title":"Blackbox Configuration‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#blackbox-configuration","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"Logging Device‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#logging-device","content":" Here you can select the device type.  No Logging: Disable Logging.Onboard Flash: Log to the onboard flash chip (if available).SD Card: Log to the onboard SD Card (if available).Serial Port: Log to an external logging device (eg. OpenLager).  ","version":"2.1.0","tagName":"h3"},{"title":"Logging Mode‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#logging-mode","content":" Select the preferred logging mode.  No Logging: Disable Logging.Normal: Start logging when both ARM and BLACKBOX switches are active.Armed: Start logging when ARM switch is active.Switch: Start logging when BLACKBOX switch is active.  ","version":"2.1.0","tagName":"h3"},{"title":"Logging Rate‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#logging-rate","content":" The log data is saved to the logging device with this rate. For logging to an external device, lower speed may be required.  Set it to 2kHz for OpenLager.  ","version":"2.1.0","tagName":"h3"},{"title":"Debug Mode‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#debug-mode","content":" Choose what extra data is being logged, eight extra debug items are added to the Blackbox Log.  note Under Blackbox debug mode you can specify what should be logged. There are a lot of choices, but you can select GYRO_SCALED for PID tuning, GOVERNOR for analyzing the governor or CYCLETIME if you're interested in CPU time.  ","version":"2.1.0","tagName":"h3"},{"title":"Debug Axis‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#debug-axis","content":" Choose which axis is being debugged. Applies to some of the debug modes.  ","version":"2.1.0","tagName":"h3"},{"title":"Blackbox Logging Options‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#blackbox-logging-options","content":"   Here you activate the parameters that you want to log.  For general use activate the following options Command Setpoint Mixer PID Raw Gyro Gyro Battery RSSI RPM Motors Servos.  ","version":"2.1.0","tagName":"h2"},{"title":"Onboard dataflash chip‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#onboard-dataflash-chip","content":"   Erase - Erase Blackbox Data.Save to file - Download Blackbox Data.  ","version":"2.1.0","tagName":"h2"},{"title":"Mass Storage Mode‚Äã","type":1,"pageTitle":"Blackbox","url":"/docs/configurator/tabs/blackbox#mass-storage-mode","content":"   Blackbox Explorer  The log files can be read with the Rotorflight Blackbox Explorer. ","version":"2.1.0","tagName":"h2"},{"title":"Adjustments","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/adjustments","content":"","keywords":"","version":"2.1.0"},{"title":"Example - Select a Profile In-Flight‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#example---select-a-profile-in-flight","content":" Being able to switch between profiles in-flight allows you to use different head-speeds with differently tuned PIDs. It can also help with PID tuning, since it makes A/B testing possible with the flick of a switch.  ","version":"2.1.0","tagName":"h2"},{"title":"Simple example‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#simple-example","content":" Here we use only one channel -AUX4- for PID and Rates Profiles Selection. Assign AUX4 to a 3-position switch on the TX, so that the switch outputs 1000/1500/2000us. Profile Switching Example.  ","version":"2.1.0","tagName":"h3"},{"title":"Adjustment Types‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#adjustment-types","content":" There are two ways the how the control AUX channel is affecting the configuration parameter.  ","version":"2.1.0","tagName":"h2"},{"title":"Step Adjustment‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#step-adjustment","content":" The control AUX channel can be a three position switch or a trim switch on the transmitter. While in up position, it will cause the adjustment to increase by step size, and vice versa. The min and max limits are adhered.  Step adjustment is enabled by setting the step size to non-zero value.  ","version":"2.1.0","tagName":"h3"},{"title":"Continuous Adjustment‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#continuous-adjustment","content":" The control AUX channel is a full resolution RC channel, and is controlling the configuration parameter directly. The RC channel range 1000us..2000us is stretched to cover the parameter range min..max.  Continuous adjustment is enabled by setting the step size to zero.  ","version":"2.1.0","tagName":"h3"},{"title":"Adjustment Functions‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#adjustment-functions","content":" The adjustment function assigns the control AUX channel to a configuration parameter or a special function. The supported functions are listed below.  Profile change   Rates   PID   Gyro cutoffs   Dterm cutoffs   Rescue   Leveling   Governor   Boost gains   Offset gains   Cross-coupling   Accelerometer trims   ","version":"2.1.0","tagName":"h2"},{"title":"Parameter Change Functions‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#parameter-change-functions","content":" The parameter change functions are adjusting the associated configuration parameters, taking effect immediately. This allows changing the fundamental tuning parameter inflight.  Each parameter has a min and max limit that the user can set to safeguard against unreasonable or unsafe values. In addition, the system has absolute limits for each parameter.  ","version":"2.1.0","tagName":"h3"},{"title":"Profile Change Functions‚Äã","type":1,"pageTitle":"Adjustments","url":"/docs/configurator/tabs/adjustments#profile-change-functions","content":" The special functions to change configuration profiles works exactly the same as the parameter functions, except that the possible values are limited to the number of profiles. Both step and continuous adjustments can be used.  For example, there are six Rate Profiles available, thus the parameter limits should be min = 0 and max = 5. Narrower range is also possible, if so desired. ","version":"2.1.0","tagName":"h3"},{"title":"Tuning examples and presets","type":0,"sectionRef":"#","url":"/docs/next/Tuning/tuning-examples","content":"","keywords":"","version":"Dev"},{"title":"How to use these presets?‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#how-to-use-these-presets","content":" There are two options for using these pre-sets.  Follow the screen shots to configure your helicopter.Load from the supplied Diff file. Please note: This method may overwright some of your previously configured settings. Please check and confirm carefully.  ","version":"Dev","tagName":"h2"},{"title":"OMP M4‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#omp-m4","content":" OMPHOBBY M4 Jonas Wackershauser - M4‚Äã OMPHOBBY M4View Pre-set  ","version":"Dev","tagName":"h2"},{"title":"OMP M4 - max‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#omp-m4---max","content":" OMPHOBBY M4 - Max Jonas Wackershauser - M4 Max‚Äã OMPHOBBY M4 MaxView Pre-set  ","version":"Dev","tagName":"h2"},{"title":"OMP M7‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#omp-m7","content":" OMPHOBBY M7 Jonas Wackershauser - M7‚Äã This is a high headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 light Jonas Wackershauser - M7 Light‚Äã This is a low headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 Jiawen Bao - M7‚Äã OMPHOBBY M7View Pre-set  ","version":"Dev","tagName":"h2"},{"title":"XLPower Nitro Nimbus‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#xlpower-nitro-nimbus","content":" XLPower Nitro Nimbus Jiawen Bao - Nitro Nimbus.‚Äã Nitro NimbusView Pre-set  ","version":"Dev","tagName":"h2"},{"title":"XLPower Specter Nitro‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#xlpower-specter-nitro","content":" XLPower Specter Nitro Jiawen Bao - Specter Nitro.‚Äã Specter NitroView Pre-set ","version":"Dev","tagName":"h2"},{"title":"CLI","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/cli","content":"","keywords":"","version":"2.1.0"},{"title":"CLI Usage‚Äã","type":1,"pageTitle":"CLI","url":"/docs/configurator/tabs/cli#cli-usage","content":" To save your settings type in save, saving will reboot the flight controller.  To exit the CLI without saving power off the flight controller or type in exit.  To see a list of other commands type in help and press return.  To dump your configuration (including the current profile), use the dump command.  See the other documentation sections for details of the cli commands and settings that are available.  Diff Backup Using CLI‚Äã  This method shows all user-modified settings but avoids saving values left as default or values that are part of the board targets  Note that diff only shows the current Rate and PID profiles, whereas diff all will show all profiles that have been changed  diff all   This data should be sufficient to replicate the quad configuration on a new or erased flight controller board. Use the save to file function to create a backup  Dump Using CLI‚Äã  Note that the dump command will output every setting and their current values. Many of these will be firmware defaults and are not needed to backup quad configuration changes  rateprofile 0 profile 0 dump   Dump Profiles Using CLI if You Use Them‚Äã  profile 1 dump profile profile 2 dump profile   Dump Rate Profiles Using CLI if You Use Them‚Äã  rateprofile 1 dump rates rateprofile 2 dump rates   copy screen output to a file and save it.  ","version":"2.1.0","tagName":"h3"},{"title":"Restore via CLI‚Äã","type":1,"pageTitle":"CLI","url":"/docs/configurator/tabs/cli#restore-via-cli","content":" Use the cli defaults command first.  When restoring from a backup it is a good idea to do a dump of the latest defaults so you know what has changed - if you do this each time a firmware release is created you will be able to see the cli changes between firmware versions.  Use the CLI and send all the output from the saved backup commands.  You may find you have to copy/paste a few lines at a time.  Repeat the backup process again!  Compare the two backups to make sure you are happy with your restored settings.  Re-apply any new defaults as desired.   ","version":"2.1.0","tagName":"h3"},{"title":"Configuration","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/configuration","content":"","keywords":"","version":"2.1.0"},{"title":"Personalization‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#personalization","content":" Allows you to set your heli name to be shown in the OSD, blackbox logs and diff/dump outputs.    ","version":"2.1.0","tagName":"h2"},{"title":"System Configuration‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#system-configuration","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"Gyro Update Frequency‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#gyro-update-frequency","content":" This indicates the current gyro update frequency.  ","version":"2.1.0","tagName":"h3"},{"title":"PID Loop Frequency‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#pid-loop-frequency","content":" This is the frequency that the control loop operates at. Set to between 1kHz and 2kHz.  There is limited or no benefit in higher rates and will result in high loads for your flight controller. This could be an issue for F405 and F411 boards.  ","version":"2.1.0","tagName":"h3"},{"title":"Accelerometer‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#accelerometer","content":" This must be selected if you wish to use stability (6G modes) such as Angle, Horizon or Rescue modes.  ","version":"2.1.0","tagName":"h3"},{"title":"Barometer‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#barometer","content":" This is used for Altitude hold Rescue which is currently still being developed  ","version":"2.1.0","tagName":"h3"},{"title":"Magnetometer‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#magnetometer","content":" Currently this does not provide any control functionality, however, it can be used for telemetry.  ","version":"2.1.0","tagName":"h3"},{"title":"Features‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#features","content":" This section is used to enable or disable features.    tip Features such as the GPS must be selected in the Serial ports section before selecting the Feature here.  ","version":"2.1.0","tagName":"h2"},{"title":"Serial Ports‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#serial-ports","content":" Please choose the functions you wish to assign to your UART.    ","version":"2.1.0","tagName":"h2"},{"title":"MSP‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#msp","content":" As the name suggests, usually only used for lower-level communication using the MSP (MultiWii Serial Protocol) for configuration done by external devices, or to allow a more direct way of control. You can also set a specific baud rate.  ","version":"2.1.0","tagName":"h3"},{"title":"GPS‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#gps","content":" GPS is not currently used for Rotorflight for any flight controls. This can be used for telemetry purposes.  ","version":"2.1.0","tagName":"h3"},{"title":"Serial Rx‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#serial-rx","content":" Check Receiver page for detailed info.  ","version":"2.1.0","tagName":"h3"},{"title":"ESC Telemetry‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#esc-telemetry","content":" Check ESC Telemetry page for detailed info.  ","version":"2.1.0","tagName":"h3"},{"title":"Blackbox Logging‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#blackbox-logging","content":" This enables a UART for an external logging device such as OpenLager.  ","version":"2.1.0","tagName":"h3"},{"title":"Telemetry: FrSky SmartPort‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#telemetry-frsky-smartport","content":" This is used when connecting an FrSky SmartPort receiver pin to this UART.  ","version":"2.1.0","tagName":"h3"},{"title":"Board and Sensor alignment‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#board-and-sensor-alignment","content":" Change the roll, pitch and yaw gyro alignment value until the model on the status page moves in the same direction as the gyro board.    ","version":"2.1.0","tagName":"h2"},{"title":"Accelerometer Trim‚Äã","type":1,"pageTitle":"Configuration","url":"/docs/configurator/tabs/configuration#accelerometer-trim","content":" This section is used to trim the roll and pitch axis while the helicopter is in Stability mode (e.g Angle, horizon or Rescue).  The Transmitter trims for each cyclic axis must be at neutral when using Rotorflight (at 1500us). This will usually result in the helicopter drifting while in a stable hover. To correct for this drift the Accelerometer roll and pitch trims are to be used.  This can be done either directly by the configurator or via the transmitter with Lua or Adjustments.   ","version":"2.1.0","tagName":"h2"},{"title":"Failsafe","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/failsafe","content":"Failsafe In the event of receiver failsafe the flight controller can be configured to set the commands to a predetermined position. The flight channels (Aileron, Elevator, Throttle, Rudder, Collective) can be AUTOMATIC or HOLD, (Default is AUTO) The auxiliary channels can be Hold or Set, (Default is HOLD). note AUTOMATIC - Flight channels are set to safe values (low throttle, mid position for yaw/pitch/roll). HOLD - Channel holds the last value. SET - Channel is set to a specific configured value.","keywords":"","version":"2.1.0"},{"title":"GPS","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/gps","content":"GPS Rotorflight currently only uses GPS for telemetry. Return to home, and other autopilot features are not available. The GPS Tab is not visible by default. You must enable the GPS feature and chose a UART port to connect your GPS unit to. Save and reboot. THe GPS Tab will now be visible. Select your GPS type from the dropdown. There is more details on the Betaflight GPS tab page.","keywords":"","version":"2.1.0"},{"title":"Gyro","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/gyro","content":"Gyro","keywords":"","version":"2.1.0"},{"title":"LED Strip","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/led-strip","content":"LED Strip","keywords":"","version":"2.1.0"},{"title":"Mixer","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/mixer","content":"","keywords":"","version":"2.1.0"},{"title":"Main Rotor Settings‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/configurator/tabs/mixer#main-rotor-settings","content":" Swashplate type‚Äã  Choose the swash type that suits your helicopter.    Rotor direction‚Äã  Choose the direction of rotation for the main rotor. This is looking down from on the top of the rotor.  Elevator Control direction‚Äã  With the helicopter servos powered, tilt the heli forward (pitch down). The swash should now pitch up towards the tail of the helicopter. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Aileron Control direction‚Äã  Roll the heli to the right (right Aileron). The swash should pitch towards the left. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Collective Control direction‚Äã  Push the collective stick forward (Increasing collective). The swash should now rise up towards the rotor head (to increase collective). If the swash goes down change the control direction from [NORMAL] to [REVERSE].  ","version":"2.1.0","tagName":"h3"},{"title":"Swashplate Link Trims‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/configurator/tabs/mixer#swashplate-link-trims","content":"   Ideally the swashplate should be set with all 3 Collective servos at 90 deg while the blade angle is at 0 degrees. Some helicopters have fixed length swash links which means in order to get 0 degrees for blade centre the servo arms need to be raised or lowered. Use these link trims to provide that function.  For helicopters with adjustable swash links this should remain at 0 and the links adjusted to get a 0 degree blade angle.  ","version":"2.1.0","tagName":"h2"},{"title":"Main Rotor Geometry‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/configurator/tabs/mixer#main-rotor-geometry","content":"   Cyclic and Collective calibration‚Äã  These settings are used to calibrate the mixer so that the blade angle matches the commanded angle for both the cyclic and collective. See the calibration procedure for details.  Collective geometry correction‚Äã  Adjust until the collective positive and negative deflections are equal.  Collective blade pitch limit‚Äã  Ideally, one should use this option to set the maximum allowed collective blade pitch. Therefore, if the person wants to change the collective pitch down the line, they should be able to adjust in the &quot;rates&quot; page confidently without worrying about servos binding. Practically, for most 3D helicopters, this is set to the maximum collective you will ever need (15-16deg) if the helicopter is physically capable of doing it  Cyclic blade pitch limit‚Äã  This is NOT the same as the cyclic calibration on other FBLs (it's NOT the 8 deg cyclic on vbar for example)This is designed to let the FBL know how much cyclic travel the helicopter is PHYSICALLY capable ofUsually adjust it so that around zero collective there is no physical interference anywhere. You might want to temporally increase the I gains (to around 200) on cyclic and move the cyclic stick to find the limits. MAKE SURE TO TURN THEM BACKSome 550+ size helicopter might be able to achieve 16+ degree of cyclic pitch, you could set it to the absolutely maximum but it is advised to limit around 16degree since practically it should never hit that much cyclic.  Total blade pitch limit‚Äã  This is probably the most difficult limit to understand and setup properlyTo find the total blade pitch limit, make sure the collective blade pitch limit and cyclic blade pitch limit are set up correctly. You might want to use the I-gain trick mentioned aboveSet the collective pitch to max, then move the cyclic. Increase the limit until either there is a physical limit or the fish-eye bearing (the ball) in the center of the swash drops at the max cyclic due to one servo reaching its limit.Repeat at lowest collective pitchYou could also increase cyclic servo travels to gain more total blade pitch. However, nothing should be interferingDouble check that there's NO binding or interference at ANY combination of collective and cyclic in their whole range.Make sure to turn the I-gains back to default in the end if the I-gain trick is used.  Swashplate phase angle‚Äã  Usually set it per manufacture recommendation. One could consider if there's bobbling that could not be resolved from changing the cross coupling gains or it is known that the rotor head design requires a non-zero phase angle.  ","version":"2.1.0","tagName":"h2"},{"title":"Tail Rotor Settings‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/configurator/tabs/mixer#tail-rotor-settings","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"Tail rotor type‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/configurator/tabs/mixer#tail-rotor-type","content":" Variable Pitch‚Äã  This is a variable pitch tail controlled by a servo (Servo#4).  Motorized‚Äã  The tail has separate motor(M2) for controlling the yaw.  Bidirectional‚Äã  Motorized tail operating in bi-directional mode.  ","version":"2.1.0","tagName":"h3"},{"title":"Yaw Control Direction‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/configurator/tabs/mixer#yaw-control-direction","content":" With the helicopter tail servo powered, move Rudder stick to the right. The tail slider should move to the inside (toward the tail case). If this is not the case, change the control direction from [NORMAL] to [REVERSE].  ","version":"2.1.0","tagName":"h3"},{"title":"Center Trim For Tail Rotor [¬∞]‚Äã","type":1,"pageTitle":"Mixer","url":"/docs/configurator/tabs/mixer#center-trim-for-tail-rotor-","content":" Set tail rotor trim for zero yaw command. ","version":"2.1.0","tagName":"h3"},{"title":"Modes","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/modes","content":"","keywords":"","version":"2.1.0"},{"title":"ARM‚Äã","type":1,"pageTitle":"Modes","url":"/docs/configurator/tabs/modes#arm","content":" ELRS If using an ELRS receiver you must configure the ARM switch to AUX1 (1000 = Disarmed, 2000 = Armed). This channel is sent every cycle. Please see the ELRS switch config documentation  ARM &amp; throttle hold ARM and throttle hold are not the same. Do not configure the ARM and throttle hold on the same channel. The Flight controller needs to see minimum throttle before it can arm and if they are both on the same channel it will fail the minimum throttle check and will not ARM.    All flight controllers need to be ARMED before the motors are able to spool up. Once the Arming mode is configured (as shown above) the flight controller can be Armed ready for flight. If the flight controller detects an unsafe condition Arming will be disabled. If this occurs you can look at the Arming flag status on the Status Tab to identify what is preventing Arming being enabled.    You can find out a description of these flags from the List of Arming prevention flags  This function can also provide the ability to prevent arming of the heli unless the correct model has been selected on your transmitter (if your RX does not have this functionality). This is done by adjusting the endpoint of your AUX channel to a different value for each model and setting the ARM range to enable the FC only for that model.  ","version":"2.1.0","tagName":"h2"},{"title":"RESCUE‚Äã","type":1,"pageTitle":"Modes","url":"/docs/configurator/tabs/modes#rescue","content":" Enable Rescue mode from the tabs. Allocate the AUX channel and range to suit.    info The purpose of the rescue mode is to arrest any decent, then put the helicopter at a safe altitude in a stable attitude. It does this in stages. Immediately levels in current orientation (upright or inverted)Applies a pull up collective to rapidly stop any decentApplies a climb Collective to gain some heightif it is still inverted (and the flip toggle enabled) it will flip to upright.Hover collective is now applied.  After enabling Rescue mode configure the rescue settings from the Profiles Tab.  ","version":"2.1.0","tagName":"h2"},{"title":"6G flight modes‚Äã","type":1,"pageTitle":"Modes","url":"/docs/configurator/tabs/modes#6g-flight-modes","content":" There are 3 types of self leveling stabilization modes available in Rotorflight. 6G modes (unlike the normal Acro) will auto level when the transmitter sticks are released. These modes make the heli fly more like a drone.  ","version":"2.1.0","tagName":"h2"},{"title":"ANGLE‚Äã","type":1,"pageTitle":"Modes","url":"/docs/configurator/tabs/modes#angle","content":" Angle mode provides similar functionality to Horizon mode with the addition of limiting the helicopter attitude to the angle specified.  ","version":"2.1.0","tagName":"h3"},{"title":"HORIZON‚Äã","type":1,"pageTitle":"Modes","url":"/docs/configurator/tabs/modes#horizon","content":" Horizon mode provides attitude stabilization which will level the helicopter when the transmitter sticks are let go. Constant stick input is required to keep the helicopter moving.  ","version":"2.1.0","tagName":"h3"},{"title":"TRAINER‚Äã","type":1,"pageTitle":"Modes","url":"/docs/configurator/tabs/modes#trainer","content":" Acro trainer mode does not provide self leveling of the helicopter. It does however limit the angle the helicopter can reach.  Enable ANGLE/HORIZON/TRAINER modes from the tabs. Allocate the AUX channel and range to suit.    In the example above AUX3, and AUX6 are each assigned to a separate 3 position switches on the TX.  Horizon mode has been assigned to the AUX3 Range when the middle position of AUX3 switch.Angle mode is assigned to AUX3 at full up position of the AUX3 switch.Nothing is assigned when AUX3 switch fully down. This means the Heli is in Normal or 3D mode.Trainer mode is assigned to AUX6 at full up position of the AUX6 switch.  After enabling 3G modes you can configure their settings from the Profiles Tab.  ","version":"2.1.0","tagName":"h3"},{"title":"BLACKBOX‚Äã","type":1,"pageTitle":"Modes","url":"/docs/configurator/tabs/modes#blackbox","content":" When you select Normal logging mode, you need to activate the blackbox switch in the Modes Tab.  Enable Blackbox from the tabs. Allocate an AUX channel and range to suit.    Now in this example the blackbox logging will start when the heli is armed and AUX5 is at full up position. ","version":"2.1.0","tagName":"h2"},{"title":"Motors","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/motors","content":"","keywords":"","version":"2.1.0"},{"title":"ESC/Motor Features‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#escmotor-features","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"ESC Throttle Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#esc-throttle-protocol","content":" Set the ESC protocol required for your ESC under ESC/Motor protocol. Usually this would be PWM or DSHOT300.    ","version":"2.1.0","tagName":"h3"},{"title":"ESC Telemetry Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#esc-telemetry-protocol","content":" Set the ESC Telemetry protocol if your esc supports it.    ","version":"2.1.0","tagName":"h3"},{"title":"PWM Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#pwm-protocol","content":" Most RC helicopter ESCs manufacturers (e.g. Hobbywing, YGE, Scorpion ,or Castle) use PWM, an analog protocol.    RPM Sensor: Activate the RPM Sensor input for motor RPM, you can connect an RPM signal from the ESC, or from an external RPM sensor device.  note A correct RPM measurement is crucial to the operation of RPM_FILTER and GOVERNOR features, therefore ensure that you have a correct RPM measurement setup. The FC also needs to know the RPM of the main rotor, and the tail rotor. For this you have to exactly specify the Motor pole count and the Gear ratios. With this info, the FC can calculate the: Main motor RPM = eRPM / (motor pole count / 2)Main rotor RPM = Main motor RPM / ( main gear tooth count / main motor pinion tooth count )  ESC Update Frequency: the PWM update frequency for your ESC. Usually between 50-400Hz.  Disarm Throttle PWM value: the value that is sent to the ESC when the craft is disarmed. It should stop the motors. Usually 1000¬µs.  0% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at 0% throttle. Usually 1070¬µs.  100% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at full throttle. Usually 2000¬µs.  ","version":"2.1.0","tagName":"h3"},{"title":"DSHOT Protocol‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#dshot-protocol","content":" Most drone ESCs support DSHOT, a digital protocol.    If you use DSHOT, use either DSHOT150 or DSHOT300. DSHOT600 is not recommended. Also make sure that the main motor isn't actively being braked by the ESC, especially if you don't have a one way bearing on the main shaft.  BLHeli_32: set Non Damped Mode to On on the main motor ESCBluejay: set Maximum Breaking Strength to 0  DShot RPM Telemetry‚Äã  This switch is only visible when the ESC/Motor protocol is DSHOTxxx. It enables motor eRPM telemetry on supported ESCs via bidirectional DSHOT and can be used to facilitate the GOVERNOR and/or RPM_FILTER features. If you use bidirectional DSHOT you don't have to use a frequency sensor for obtaining the eRPM of the motor(s).  ","version":"2.1.0","tagName":"h3"},{"title":"Gear Ratio Configuration‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#gear-ratio-configuration","content":"   Enter the number of teeth for the main rotor gearing [Teeth on Pinion gear]/[Teeth on Main Gear]. For a direct drive Main rotor this is just set to 1 / 1.  Enter the number of teeth for the Tail rotor gearing [Teeth on Tail gear]/[Teeth on Autorotation Gear]. For a direct drive tail this is just set to 1 / 1.  tip If the gear tooth count is not known, you can approximate the gear ratio instead. For example if the main gear ratio is 11.8 then you set [Teeth on Pinion gear =10]/[Teeth on Main Gear =118]. Similarly if the tail gear ratio is 4.8 then you set [Teeth on Tail gear =10]/[Teeth on Autorotation Gear =48]. note that counting the gear tooth is preferable because an accurate gear ratio is essential to the operation of the RPM Filters.  note For Helicopters with two-stage reduction, kindly read the Two-Stage Gear Train WalkTrough  ","version":"2.1.0","tagName":"h3"},{"title":"Motor Pole Count‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#motor-pole-count","content":" Determine the number of magnetic poles for each motor. Count the number of magnets on the motors rotor. In the example below the magnets (circled) are fixed to the outer bell which in total has 14. This allows the flight controller to know how many electrical phase rotations are required to complete one physical motor revolution.      ","version":"2.1.0","tagName":"h3"},{"title":"Governor Features‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#governor-features","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Motor Override‚Äã","type":1,"pageTitle":"Motors","url":"/docs/configurator/tabs/motors#motor-override","content":" Motor Override functionality is provided to test the operation of each motor directly. This functionality will make the motors spool up. Do this WITHOUT the main or tail rotors fitted!    Throttle - This is the command being sent from the flight controller to the ESC.  RPM - The measured RPM telemetry feedback. As the motor spins this should read a value related to the current speed.  Errors (only with DSHOT) - This shows the status of the RPM telemetry signal. This should be 0%.  Slider If you use the slider, make sure you release the mouse button. Nothing changes as long as you hold the mouse button down!  BLHeliSuite32 The Test motors function in BLHeliSuite32 doesn't work when using Rotorflight. It will give an error like 'Initialization of Motor Test Mode failed! Please check current Unknown rev 4.3.0 support for this application function!'. ","version":"2.1.0","tagName":"h2"},{"title":"Power","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/power","content":"","keywords":"","version":"2.1.0"},{"title":"Power State‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#power-state","content":" Connected - Yes/No, if Yes, also shows cell countVoltage - Voltage of the batteryCurrent - Current drawmAh Used - Capacity used in mAhCharge Level - Battery charge percentage  ","version":"2.1.0","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#battery","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Battery Voltage Source‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#battery-voltage-source","content":" Select the source for the voltage measurements  None - No voltage measurements will be availableBattery ADC - Use the ADC on the flight controller to get the voltage measurementsESC Telemetry - Use the ESC telemetry to get the voltage measurements  ","version":"2.1.0","tagName":"h3"},{"title":"Battery Current Source‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#battery-current-source","content":" Select the source for the current measurements  None - No current measurements will be availableBattery ADC - Use the ADC on the flight controller to get the current measurementsESC Sensor - Use the ESC telemetry to get the current measurements  ","version":"2.1.0","tagName":"h3"},{"title":"Min/Max/Warning Cell Voltage‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#minmaxwarning-cell-voltage","content":" Minimum Cell Voltage - The voltage that is considered critically low, and will trigger the corresponding warnings Maximum Cell Voltage - The voltage of a fully charged Cell Warning Cell Voltage - The voltage that is considered low, and will trigger the corresponding warnings  danger The warning voltage should be set to a value where you can still land safely, usually 3.6-3.5V. The minimum voltage should be set to a value where damage is imminent, usually 3.3V. If you fly a battery to less than 3.3V, it will start to be damaged and will not be able to hold a charge anymore, and can even be dangerous.  ","version":"2.1.0","tagName":"h3"},{"title":"Capacity‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#capacity","content":" The capacity of the battery in mAh. This is used to calculate the remaining battery capacity in percent.  ","version":"2.1.0","tagName":"h3"},{"title":"Cell Count‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#cell-count","content":" Force cell count to avoid confusion between full 11S and flat 12S for example.  ","version":"2.1.0","tagName":"h3"},{"title":"Voltage Meters‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#voltage-meters","content":" Settings for the voltage meter to measure the battery voltage correctly.  ","version":"2.1.0","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#battery-1","content":" Main Pack voltage.  ","version":"2.1.0","tagName":"h3"},{"title":"BEC‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#bec","content":" Servo Bus voltage.  ","version":"2.1.0","tagName":"h3"},{"title":"5V‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#5v","content":" VBus voltage.  ","version":"2.1.0","tagName":"h3"},{"title":"EXT‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#ext","content":" External voltage input voltage.  ","version":"2.1.0","tagName":"h3"},{"title":"MCU‚Äã","type":1,"pageTitle":"Power","url":"/docs/configurator/tabs/power#mcu","content":" MCU voltage.  Scale‚Äã  The scale of the voltage meter. This is used to calculate the correct voltage from the ADC value. If the battery voltage is not displayed correctly, you can adjust this value up/down to fix it  Divider / Multiplier Value‚Äã  This defines how the value read by the ICs ADC converts into a voltage value that makes sense to the pilot. In easy terms this sets how the ratio difference between the two voltage divider resistors are used in the voltage calculation formula.  Example:‚Äã  Scale: 110 = 10:1 voltage divider (10k:1k ohm resistors) Divider: 10 = sets the direct resistor to resistor ratio Multiplier: 1 = this is to fine tune the outcome of the calculation, a value of 1 is &quot;no correction&quot;. ","version":"2.1.0","tagName":"h3"},{"title":"Sensors","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/sensors","content":"Sensors On this tab you can enable or disable trending for each sensor. This is for testing and confirmation that each is working correctly.","keywords":"","version":"2.1.0"},{"title":"Receiver","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/receiver","content":"","keywords":"","version":"2.1.0"},{"title":"Receiver Configuration‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/configurator/tabs/receiver#receiver-configuration","content":" First activate Serial Rx on the UART you have connected your receiver.    ","version":"2.1.0","tagName":"h2"},{"title":"Receiver Options‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/configurator/tabs/receiver#receiver-options","content":"   One Wire Communication -  The following options are only available on F7/H7 and G4 MCUs  Inverted serial signaling - Some protoculs such as SBUS and FPORTPin Swap - This feature can be  ","version":"2.1.0","tagName":"h2"},{"title":"Receiver Type‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/configurator/tabs/receiver#receiver-type","content":" Please see the documentation for your FC for more details on how to connect your receiver. There are many receiver protocols supported in Rotorflight.  It is preferable that a telemetry capable protocol be used with the Rotorflight LUA scripts to perform tuning using you radio.Protocols that do not have telemetry are still compatible with Rotorflight (and transmitters without Lua Scripting); however, Adjustments have to be configured in order to tune from your radio.  Please choose to suit your receiver protocol Choose RxELRSS.BUSS.BUS2S.BUS + S.PORTF.BUSF.PORTSpektrumOTHER Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio.  ","version":"2.1.0","tagName":"h2"},{"title":"Receiver Channels‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/configurator/tabs/receiver#receiver-channels","content":" Select the corresponding channels order based on the selected receiver type.    For FrSky receivers, set the channels in your radio as per the below order.    For ELRS receivers, set the channels in your radio as per the below order.  note For CRSF/ELRS always set ARM switch to CH5/AUX1 on the radio, also set THR to CH6    Reverse channels on your transmitter if a channel responds the wrong way around. Stick to the right should move the bar to the right. Push stick forward and bar should move to the right.  ","version":"2.1.0","tagName":"h2"},{"title":"Profiles","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/profiles","content":"","keywords":"","version":"2.1.0"},{"title":"Main Tuning Parameters‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#main-tuning-parameters","content":" ","version":"2.1.0","tagName":"h2"},{"title":"PID Controller Gains‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#pid-controller-gains","content":"   Proportional‚Äã  The gain factor that is proportional to the rate error. High proportional gain increase response speed of the helicopter. Low proportional gain results in overall slow system response. Too high results in fast oscillation (~20hz). It also helps reduce the slow oscillation due to high Integral gain.  Integral‚Äã  The gain factor that is proportional to the accumulated error. Low integral gain results in drift when hovering, and uneven roll or flip rate during continuous roll / flips. It also results in the helicopter not &quot;wanting&quot; to finish maneuvers. Integral too high results in slow oscillation (1-3hz) during cyclic input stops and/or during high disturbance scenarios such as stops of (piro) pitch pumps and tick-tock stops.  Derivative‚Äã  The gain factor proportional to the change of error. It is responsible for &quot;dampening&quot; the overshoot caused by proportional gain. The Derivative gain is particularly sensitive to noise. Ideally, high derivative gain dampens the system too much results in slow response. However, in practice, noise-induced fast oscillation would occur first. Too low results in fast oscillation during stops due to high proportional gain.  Feedforward‚Äã  The gain factor proportional to the input. In practice, feedforward gain is used to eliminate I-term windup, which occurs after continuous flips and rolls. If the helicopter does not stop immediately and continue moving in the rolling / flipping direction, feedforward gain needs to be increased. If FF gain is set to be too high, the helicopter may overshoot during such maneuver. Thus it is advised to start tuning from low.  Boost‚Äã  The setpoint boost - or B-term will increase the stick reaction speed. In case the heli is not reacting fast enough, the reaction can be boosted with this new B-gain on each axis separately. This seems to be in the range of 20..50  This provides a rapid short term increase in your command. This parameter is used in conjunction with the time B-Cutoff.  ","version":"2.1.0","tagName":"h3"},{"title":"Advanced Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#advanced-settings","content":" ","version":"2.1.0","tagName":"h2"},{"title":"PID Controller Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#pid-controller-settings","content":"   Error Rotation‚Äã  If turned on, the I-term can transfer between pitch and roll axis during pirouetting. Increase the performance of overall piro related maneuvers. This is sometimes referred to as piro compensation.  Ground Error Decay‚Äã  A safety feature. This is to prevent the helicopter from tilting during takeoff.  I-term Relax Type‚Äã  The axis that I-term relax is applied to. Generally this is Roll, Pitch and Yaw (RPY)  I-term Relax Cutoff Points‚Äã  The I-term relax corresponds to the speed of control input for a given axis. When the control input exceed a certain speed, I-term would stop charging. This partially solved the slow overshoot at cyclic input stops due to I-gain charging at fast stick input. The cutoff value corresponds to the input FREQUENCY. A lower value gives more I-term relax, and a higher value provides less I-term relax. It is advised to start high and decrease until bounce back disappears.  Error Limits‚Äã  The limit of how much I-term can be charged. During normal flights, it would not reach this limit. (More info needed)  ","version":"2.1.0","tagName":"h3"},{"title":"Offset Limit/Gain‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#offset-limitgain","content":" The offset gains are used for the High Speed Integral feature.    Offset Limits‚Äã  This is a hard limit for the offset angle in the PID loop. The absolute offset and thus the O-term will never go above these limits.  Offset Gains‚Äã  Gain for offset term,(Integral for high speed flight).  ","version":"2.1.0","tagName":"h3"},{"title":"Main Rotor Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#main-rotor-settings","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"Collective To Pitch Feedforward Gain‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#collective-to-pitch-feedforward-gain","content":" The pre-compensation for pitch axis when collective is high. Since there is drag-induced pitching motion (there is more drag on the tail thus the helicopter would want to have nose-up tendency when climbing), increasing this gain would compensate that. High gain push the nose down during climb ups. However, it is also advised to select a relatively low value to be conservative.  ","version":"2.1.0","tagName":"h3"},{"title":"Cyclic Cross Coupling‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#cyclic-cross-coupling","content":" Cyclic cross coupling compensation removes the aileron wobble when only elevator is applied.  Cross-Coupling Gain‚Äã  Amount of compensation applied for Pitch-to-Roll decoupling.  Cross-Coupling Ratio‚Äã  Amount of Roll-to-Pitch compensation needed, vs. Pitch-to-Roll.  Cross-Coupling Cutoff Frequency‚Äã  Frequency limit for the compensation, higher value will make the compensation action faster.  ","version":"2.1.0","tagName":"h3"},{"title":"Tail Rotor Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#tail-rotor-settings","content":"   CW/CCW Stop Gain‚Äã  The increase of yaw (what) gain during stops. Higher gain results in crisper stops. Too high may cause fast oscillations.  Cyclic Feedforward Gain‚Äã  Since cyclic input creates more torque on the main rotor, this gain aims to pre-compensate the tail motion due to cyclic inputs. a high cyclic value results CW motion on tail when starting pitching/rolling, a low value results CCW motion. (for CW main rotor)  Collective Feedforward Gain‚Äã  The pre-compensation due to the increase of collective pitch. It is advised to tune it based on the immediate response after a the beginning of a climb up. Higher gain results in CW response, lower gain results in CCW response. It is advised to use a lower value since it may affect tail performance during other maneuvers.  Collective Impulse Feedforward Gain‚Äã  The pre-compensation due to the sudden change of collective. Ideally it is designed to clean up any tail movement in small pitch pumps, however, the compensation is generally overcompensating. Thus it is suggested to turn it off for now.  Collective Impulse Feedforward Decay Time‚Äã  Decay time for collective impulse feedforward mixed into yaw.  ","version":"2.1.0","tagName":"h2"},{"title":"PID Controller Bandwidth‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#pid-controller-bandwidth","content":"   Row/Pitch/Yaw Bandwidth‚Äã  An extra low pass filter for each axis. It is specifically designed to preserve a weaker filter on the yaw axis to increase tail performance. High value corresponding to weaker filter. Too high may cause wobbles. Too low may cause delay and even instability in the control loop.  Row/Pitch/Yaw D-term cutoff‚Äã  An extra first order low pass filter just for the D-gain to further reduce the sensitivity to noise. A high value decreases the effectiveness but may potentially increase the D-gain performance. A low value increase the filter effect but may hinder D-term effectiveness. It is advised to keep it around 20Hz to prevent oscillation.  B-Term Cut-off‚Äã  This is controlling how &quot;quick&quot; or &quot;twitchy&quot; the boost is. This works exactly the same as D-cutoff, but on setpoint. It is safe to start with the same cutoffs as used with D. Usually in the range of 10..20. This is used in conjunction with Boost or B-gain  ","version":"2.1.0","tagName":"h2"},{"title":"Auto Leveling Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#auto-leveling-settings","content":"   Acro Trainer gain‚Äã  This determines how aggressively the heli tilt back to the maximum angle (if exceeded) while in TRAINER mode.  Acro Trainer angle limit‚Äã  This determines the maximum angle the heli can tilt to while in TRAINER mode.  Angle Mode leveling gain‚Äã  This determines how aggressively the heli tilt back to level while in ANGLE mode.  Angle Mode maximum angle‚Äã  This determines the maximum angle the heli can tilt to while in ANGLE mode.  Horizon Mode leveling gain‚Äã  This determines how aggressively the heli tilt back to level while in HORIZON mode.  ","version":"2.1.0","tagName":"h2"},{"title":"Rescue Settings‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#rescue-settings","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"Enable Rescue‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#enable-rescue","content":" Enable or disable the rescue mode.  Flip to upright‚Äã  Activate flip to upright option when the heli is inverted.  Pull-up Collective‚Äã  Values 0.0-100. This is to be set to a level where the helicopter rapidly gains height.  Pull-up Time‚Äã  How long pull up collective should be applied. This is usually about 0.3 to 0.5s  Climb Collective‚Äã  Values 0.0-100. This is to be set to a level where the helicopter gains height.  Climb Time‚Äã  How long Climb collective should be applied. This is usually about 0.5 to 1.5s  Hover Collective‚Äã  Increase this value until the heli hovers at a stable altitude  Flip Fail Time‚Äã  This is a safety feature. If there is a mechanical issue preventing the helicopter from completing the flip during this time the rescue mode will exit  Exit Time‚Äã  This slows the transition from rescue back to normal mode. This is helpful if you have rescued from inverted where your collective may be in the opposite direction. This prevents it from rapidly pitching down.  Leveling Gain‚Äã  How strong the helicopter will level. Too low and the helicopter will be sluggish to level. Too high and it will wobble/vibrate.  Flip-to-Upright Gain‚Äã  How strong the helicopter will flip to upright.  Max Leveling Rate‚Äã  Used to control how fast the helicopter levels. Set this to a value that is achievable by your helicopter. Larger slower helicopters may need this reduced.  Max Leveling Acceleration‚Äã  Limit how fast the controller tries to accelerate the helicopter to level or flip. Larger slower helicopters may need this reduced.  ","version":"2.1.0","tagName":"h3"},{"title":"Copy Profile‚Äã","type":1,"pageTitle":"Profiles","url":"/docs/configurator/tabs/profiles#copy-profile","content":" You can use the Copy profile button at the upper right corner to copy the values of the current profile to another one. ","version":"2.1.0","tagName":"h2"},{"title":"Rates","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/rates","content":"","keywords":"","version":"2.1.0"},{"title":"Understanding Actual Rates‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#understanding-actual-rates","content":" ‚ÄúActual Rates‚Äù are the default rates in Rotorflight, providing a straightforward approach to setting maximum rotational velocity (e.g., entering 1000 corresponds to 1000deg/sec) and center sensitivity values.  There are 3 values in Actual Rates: Center Sensitivity, Max Rate, Expo.    ","version":"2.1.0","tagName":"h2"},{"title":"Center Sensitivity‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#center-sensitivity","content":" Center Sensitivity relates to the responsiveness around the center stick position. A lower value offers finer, smoother control, while a higher value results in a more reactive heli to stick movement.  ","version":"2.1.0","tagName":"h3"},{"title":"Max Rate‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#max-rate","content":" Max Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  However, keep in mind that the maximum angular velocity can be limited by your heli mechanics. When the heli reaches its physical limitation and cannot flip any faster, the maximum angular velocity is capped, regardless of the higher value set in Rotorflight.  ","version":"2.1.0","tagName":"h3"},{"title":"Expo‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#expo","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo. Keep in mind that increasing Expo also reduces center sensitivity.  While Expo can be as high as 1.0, excessive Expo might cause decreased center stick sensitivity and make the heli‚Äôs response more unpredictable towards full stick (more jumpy).  ","version":"2.1.0","tagName":"h3"},{"title":"Understanding Raceflight Rates‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#understanding-raceflight-rates","content":" Actual Rates can be a little bit tricky for someone that does not have Betaflight knowledge and experience. So if you are coming from a different FBL system then Raceflight Rates might make more sense for you.  There are 3 values in Raceflight Rates: Rate, Acro+, Expo.    ","version":"2.1.0","tagName":"h2"},{"title":"Rate‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#rate","content":" Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  ","version":"2.1.0","tagName":"h3"},{"title":"Acro+‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#acro","content":" For the sake of simplicity, always keep Acro+ at 0.  ","version":"2.1.0","tagName":"h3"},{"title":"Expo‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#expo-1","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo.  While Expo can be as high as 100, excessive Expo might cause decreased center stick sensitivity and make the heli‚Äôs response more unpredictable towards full stick (more jumpy).  ","version":"2.1.0","tagName":"h3"},{"title":"Dynamics‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#dynamics","content":"   Response Time - corresponds the smoothness of the reaction to stick inputs, also called time constant of the input filter.  note High response times smooths out the input but too high could cause significant input delay.  Max Acceleration - is the input acceleration limiter. Zero represents off. Low value reduces the load on the machine and could be desired for scale flying, not useful for 3D normally.  ","version":"2.1.0","tagName":"h2"},{"title":"Copy Rate Profile‚Äã","type":1,"pageTitle":"Rates","url":"/docs/configurator/tabs/rates#copy-rate-profile","content":" You can use the Copy rateprofile button at the upper right corner to copy the values of the current profile to another one. ","version":"2.1.0","tagName":"h2"},{"title":"Receiver Settings‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/configurator/tabs/receiver#receiver-settings","content":"   Stick Center - adjust as required by your radio to achieve 0% when the ROLL, PITCH, YAW sticks are centered.Stick Maximum Travel - adjust achieve 100% at the sticks limits.Throttle Channel value for arming - channel value under which arming is allowed.Throttle must be below this limit prior to ARM mode being selected.Throttle Channel value for 0% throttle - The channel value (in ¬µS) for the channel to be considered 0%.Throttle Channel value for 100% throttle - The channel value (in ¬µS) for the channel to be considered 100%.Cyclic Deadband and Yaw Deadband - adjust to the smallest possible value that doesn't make your model drift in the Rates Preview window.  caution Calibrating Stability Mode The stability modes (Angle, Horizon or Rescue) can be calibrated so that the heli doesn't drift much when using such a mode. This can only be done via the accelerometer trims.Do not use trim on your transmitter.  You should end up with something similar to this:   ","version":"2.1.0","tagName":"h2"},{"title":"Telemetry Sensors‚Äã","type":1,"pageTitle":"Receiver","url":"/docs/configurator/tabs/receiver#telemetry-sensors","content":" Use the below switch to enable/disable the telemetry stream sent to your radio. Each sensor can then be enabled or disabled individual depending on your requirement.    tip For ELRS receivers, follow the ELRS Custom Telemetry page for how to setup. This is new for Rotorflight 2.1 and ELRS Reuse is no longer available. ","version":"2.1.0","tagName":"h2"},{"title":"Servos","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/servos","content":"","keywords":"","version":"2.1.0"},{"title":"Servo Numbering‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#servo-numbering","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Direct‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#direct","content":" For helicopters that uses mechanical mixing, where the Pitch, Roll, and Collective movements are each controlled by a dedicated servo by means of a complex series of linkages and levers from the servos up to the swashplate.  Servo 1 - Pitch Servo 2 - Roll Servo 3 - Collective Servo 4 - Rudder  ","version":"2.1.0","tagName":"h3"},{"title":"CCPM‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#ccpm","content":" For 120, 135 and 140 deg CCPM swashplates. Looking from the tail towards the nose of the helicopter:  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Left side Servo 3 - Right side Servo 4 - Rudder    ","version":"2.1.0","tagName":"h3"},{"title":"Fixed pitch‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#fixed-pitch","content":" 90deg L‚Äã  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Side servo Servo 3 - Rudder    90deg V‚Äã  Servo 1 - Left side Servo 2 - Right side Servo 3 - Rudder    ","version":"2.1.0","tagName":"h3"},{"title":"Servo Override‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#servo-override","content":" The toggle at the bottom of this page enables the servo overrides. The purpose of this is so that each servo can be driven by the slider to calibrate the range and center points. Beside each servo is an individual override.  The servo override slider scale is in degrees    ","version":"2.1.0","tagName":"h2"},{"title":"Servo Configuration parameters‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#servo-configuration-parameters","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"Center‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#center","content":" In general this will be 1520us for cyclic servos and 760us for tail servos.  ","version":"2.1.0","tagName":"h3"},{"title":"Min and Max‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#min-and-max","content":" These are hard limits to prevent servos binding or moving outside of their mechanical limits. If a servo is commanded to a point that is greater or less than it is capable it will buzz and likely burn out. These settings should be used to limit the command.  ","version":"2.1.0","tagName":"h3"},{"title":"Scale Neg and Scale Pos‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#scale-neg-and-scale-pos","content":" Scales the negative and positive direction of the servo to match the commanded angle.  ","version":"2.1.0","tagName":"h3"},{"title":"Rate‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#rate","content":" This is the servo frequency. This will be specified by the manufacturer. A large proportion of servos suitable for cyclic operate at 333Hz.  note For Rotorflight 2 it is recommended that tail servos are assigned to a different timer than cyclic servos (see Remapping). This means that tail servos can be set to a different frequency (i.e. faster).  ","version":"2.1.0","tagName":"h3"},{"title":"Speed‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#speed","content":" Servo Speed Equalization. The aim of this parameter is to remove the collective &quot;bobbing&quot; when fast elevator changes are applied.  The bobbing happens because the elevator servo has to move double distance vs. the aileron servos, when elevator position is changed. If the change is faster than the servos can go, the aileron servos will reach the target sooner than the elevator servo, causing the swash to jump slightly in the process.  To tune this value increase the speed value (it's actually ms/60¬∞, like in the servo datasheet) until the bobbing is not visible any more. It should be always ok to use the value from the servo datasheet if unsure.  ","version":"2.1.0","tagName":"h3"},{"title":"Reverse‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#reverse","content":" Toggle for forward or reverse servo direction.  ","version":"2.1.0","tagName":"h3"},{"title":"Geo Cor‚Äã","type":1,"pageTitle":"Servos","url":"/docs/configurator/tabs/servos#geo-cor","content":" Geometry Correction. Servos are rotary, so at high angles this results in smaller swashplate movement for each degree of servo movement. Geometry correction accounts for this and provides better control at high angles (e.g. 3D flight).  In order to use this feature it is important to set the servo arm at 90¬∞ (with servo center) and calibrating the servo scale. ","version":"2.1.0","tagName":"h3"},{"title":"Setup","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/setup","content":"","keywords":"","version":"2.1.0"},{"title":"Calibrate Accelerometer‚Äã","type":1,"pageTitle":"Setup","url":"/docs/configurator/tabs/setup#calibrate-accelerometer","content":" The accelerometer is used to determine the orientation of the flight controller. It is used to determine the pitch, roll and yaw angles. You can calibrate it here, following the instructions.  info The accelerometer is used for self stabilization features, like angle, horizon, acro trainer, and even rescue. If you do not intend to use these features, you can skip this step, or even disable the accelerometer entirely.  ","version":"2.1.0","tagName":"h2"},{"title":"Calibrate Magnetometer‚Äã","type":1,"pageTitle":"Setup","url":"/docs/configurator/tabs/setup#calibrate-magnetometer","content":" The magnetometer (compass) is used to determine the heading of the flight controller in 3d space. This is useful for more accurate information for GPS rescue( Not yet implemented ). Calibrate it following the instructions  The magnetometer calibration process is time limited, you only have 30 seconds to do the movements.  ","version":"2.1.0","tagName":"h2"},{"title":"Reset Settings‚Äã","type":1,"pageTitle":"Setup","url":"/docs/configurator/tabs/setup#reset-settings","content":" Reset Flight Controller to target default parameters.  ","version":"2.1.0","tagName":"h2"},{"title":"Bootloader/DFU‚Äã","type":1,"pageTitle":"Setup","url":"/docs/configurator/tabs/setup#bootloaderdfu","content":" A manual way to put the flight controller into DFU (Device Firmware Update) mode without having to hold down the physical boot button. This is useful if you're having issues when flashing. Board will remain in DFU mode until cycled or a flash is completed.  ","version":"2.1.0","tagName":"h2"},{"title":"Mass Storage Mode‚Äã","type":1,"pageTitle":"Setup","url":"/docs/configurator/tabs/setup#mass-storage-mode","content":" Reboot into mass storage mode to access blackbox data logs.  ","version":"2.1.0","tagName":"h2"},{"title":"System Reboot‚Äã","type":1,"pageTitle":"Setup","url":"/docs/configurator/tabs/setup#system-reboot","content":" Reboot and reinitialize the system. ","version":"2.1.0","tagName":"h2"},{"title":"Adding a Blog Post","type":0,"sectionRef":"#","url":"/docs/Contributing/Adding-a-Blog","content":"Adding a Blog Post To make a new Blog post open the Blog Directory. Click on one of the previous posts to use as a template then chose download. Make the changes you wish using a text editor. Click on the Blog folder and Add File. Upload your new blog file.","keywords":"","version":"2.1.0"},{"title":"Software Developers","type":0,"sectionRef":"#","url":"/docs/Contributing/Developers","content":"","keywords":"","version":"2.1.0"},{"title":"Process‚Äã","type":1,"pageTitle":"Software Developers","url":"/docs/Contributing/Developers#process","content":" Fork repositoryCreate a branch from the devel branchMake your changesCheck and confirm the devel branch does not have updates since the branch was created. Rebase if required.Create PR ","version":"2.1.0","tagName":"h2"},{"title":"Status","type":0,"sectionRef":"#","url":"/docs/configurator/tabs/status","content":"","keywords":"","version":"2.1.0"},{"title":"Info‚Äã","type":1,"pageTitle":"Status","url":"/docs/configurator/tabs/status#info","content":" Shows some basic data from the flight controller and model. This includes:  Craft NameFirmwareBoard    ","version":"2.1.0","tagName":"h2"},{"title":"Arming‚Äã","type":1,"pageTitle":"Status","url":"/docs/configurator/tabs/status#arming","content":"   Enable Arming: Use this switch to enable arming while the configurator is connected.  caution With the arming enabled, the motor can spoolup when the throttle is released. Remove blades for safety.  Arming Disable Flags: Shows all of the &quot;errors&quot; that prevent the flight controller from arming. This is useful to check if you're having issues arming.  You can find out a description of these flags from the List of Arming prevention flags  ","version":"2.1.0","tagName":"h2"},{"title":"Battery‚Äã","type":1,"pageTitle":"Status","url":"/docs/configurator/tabs/status#battery","content":"   Voltage - Shows the current battery voltage if the settings for it are set correctly.Current - Shows the current drawn from the battery if the settings for it are set correctly.Capacity - Shows the consumed capacity of the battery in mAh.Charge Level - Shows remaining battery capacity in percent.  ","version":"2.1.0","tagName":"h2"},{"title":"Live Gyro Preview‚Äã","type":1,"pageTitle":"Status","url":"/docs/configurator/tabs/status#live-gyro-preview","content":" A live preview of the gyroscope data. This is useful to check if the gyroscope is aligned correctly, and if it isn't getting/giving noisy data.    Reset Z axis - This button resets the heli heading to 0 degrees.  info You can set the gyroscope alignment in the Configuration tab.  ","version":"2.1.0","tagName":"h2"},{"title":"Instruments‚Äã","type":1,"pageTitle":"Status","url":"/docs/configurator/tabs/status#instruments","content":" A graphic replica of real aircraft instruments.    ","version":"2.1.0","tagName":"h2"},{"title":"Receiver‚Äã","type":1,"pageTitle":"Status","url":"/docs/configurator/tabs/status#receiver","content":" The receiver output preview shows the current state of the receiver channels, both in channel value and graph forms, and how those affect the heli movement.   ","version":"2.1.0","tagName":"h2"},{"title":"Flow charts/Diagrams","type":0,"sectionRef":"#","url":"/docs/Contributing/Flow-Charts","content":"Flow charts/Diagrams Using charts, flow diagrams etcMermaid Maybe we can use this somewhere. PID Tuning NO FilteringFiltering is working :::caution help ::: caution P\tI\tD\tO\tB\tFF2\t4\t5\t6\t9\t8 Use tabs in admonitions AppleOrangeBanana This is an apple üçé","keywords":"","version":"2.1.0"},{"title":"Editing the Website","type":0,"sectionRef":"#","url":"/docs/Contributing/Editing-the-Website","content":"","keywords":"","version":"2.1.0"},{"title":"Online Editing‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/Contributing/Editing-the-Website#online-editing","content":" This is probably the easiest and most straightforward way to make changes. At the bottom of each page there is an Edit this page button. Click on this link to take you to the project folder on Github.    In the top righthand corner of the page click on Edit    You can now edit the Markdown file as required. When complete click on the Commit Changes Button on the top Right corner of the page.    ","version":"2.1.0","tagName":"h2"},{"title":"Adding pictures‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/Contributing/Editing-the-Website#adding-pictures","content":" To add an immage to your page open the img folder that is located in the same directory as your page. Chose Add file and upload.  info Please do not use Capitals* or Underscore (_) in the image names.    ","version":"2.1.0","tagName":"h2"},{"title":"Adding a new page‚Äã","type":1,"pageTitle":"Editing the Website","url":"/docs/Contributing/Editing-the-Website#adding-a-new-page","content":" Download one of the current pages. Open the Markdown (.MD) file in an Editor. At the top of the file change the Sidebar_Position to position your new page where you wish it to be in the sidebar. The current pages are numbered with a spacing of 10 so there are free spaces for new pages between each.  Once complete add File and upload the new page. ","version":"2.1.0","tagName":"h2"},{"title":"Contributing to Rotorflight","type":0,"sectionRef":"#","url":"/docs/Contributing/intro","content":"","keywords":"","version":"2.1.0"},{"title":"Translations‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/Contributing/intro#translations","content":" There are heaps of opportunities to translate the language files to provide the Configurator in your language. This can be both to update current languages or to add a new language.  ","version":"2.1.0","tagName":"h2"},{"title":"Flight testing/Crashing‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/Contributing/intro#flight-testingcrashing","content":" Rotorflight gets better due to beta-testing code. Lots of things have to be tested and are constantly changing. Some things are not working yet. Sometimes bugs are creeping into the code.  ANYBODY INVOLVED MUST UNDERSTAND THAT CRASHING IS UNAVOIDABLE.  Maybe it's a bug, maybe it's a misconfiguration - it happens.  If you are still interested, we are currently looking for people with:  a spare collective pitch helicoptergood building skill, especially with electronicsgood enough flying skill to judge if things are working or notexperience with drones and Betaflight is a major pluspatience  ","version":"2.1.0","tagName":"h2"},{"title":"Documentation‚Äã","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/Contributing/intro#documentation","content":" Updating the website. Things are constantly changing, so the website has to update to match. If you have developed your skills to the point where you can assist in telling others how it all works then we would love assistance in keeping this resource up to date. ","version":"2.1.0","tagName":"h2"},{"title":"Modeling Cross Coupling","type":0,"sectionRef":"#","url":"/docs/Contributing/Modeling-Cross-Coupling","content":"","keywords":"","version":"2.1.0"},{"title":"The problem‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#the-problem","content":" When the helicopter experience high disturbance in the pitch axis, it would wobble to the roll axis. Similarly, when the helicopter experience disturbance in the roll axis, it would transfer to the pitch axis, but to a lesser degree.   (Thanks to Jonas for the picture)  ","version":"2.1.0","tagName":"h2"},{"title":"To explain the coupling‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#to-explain-the-coupling","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Theory 1‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-1","content":" It might be due to the fact that the rotor and motors are spinning disks. Due to gyroscopic precession, there must be some coupling between pitch and roll axis. (Not true, perfect spinning disks does not have coupling) Instead, if theory 3 dominates, conventional motor would provide the same motion. However, direct drive motor would actually counter the tilting motion.  ","version":"2.1.0","tagName":"h3"},{"title":"Theory 2‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-2","content":" The transient coupling is likely due to the change of phase lag of the main rotor during sudden change of roll/pitch rate. At high acceleration, the blades flex and introduce a much smaller phase lag ( &lt; 90 degrees).  ","version":"2.1.0","tagName":"h3"},{"title":"Theory 3‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-3","content":" The rotor and body can be modeled as a rigid spinning disk and a body coupled by a spring and a damper. When commanded to pitch forward, the disk tilts forward first and the body stays the same attitude. Since there is a difference in angles, the spring loads up, giving the body a torque in positive pitch. However, by Newton's third law, the disk would &quot;feel&quot; a positive pitch force, which turns 90 degree and gives a torque on the roll axis.    ","version":"2.1.0","tagName":"h3"},{"title":"To explain the different magnitudes‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#to-explain-the-different-magnitudes","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Theory 1‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-1-1","content":" There is a large difference in inertia between pitch and roll axis.  ","version":"2.1.0","tagName":"h3"},{"title":"Theory 2‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-2-1","content":" Tennis Racket theorem. The pitch axis is the second principal axis which is unstable.  ","version":"2.1.0","tagName":"h3"},{"title":"Proposed controller design‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#proposed-controller-design","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Theory 3‚Äã","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-3-1","content":" If theory 3 is the main contributor of the coupling effect, one simple idea is to make the disk rolling forward at all time. To know that the disk has a force on it, we need to take derivative of the gyro signal (i.e. D-term) and add that to the roll axis. There is no need for this on the Roll-to-pitch since there is not much coupling. ","version":"2.1.0","tagName":"h3"},{"title":"Support Us!!","type":0,"sectionRef":"#","url":"/docs/Contributing/support","content":"Support Us!! We hope you have been enjoying using Rotorflight. If so please consider supporting us with a donation to our project. Paypal‚Äã Open Collective‚Äã","keywords":"","version":"2.1.0"},{"title":"Diy board - Betaflight FC","type":0,"sectionRef":"#","url":"/docs/controllers/betaflight-diy","content":"","keywords":"","version":"2.1.0"},{"title":"Flashing Rotorflight‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/controllers/betaflight-diy#flashing-rotorflight","content":" Flashing Rotorflight firmware  ","version":"2.1.0","tagName":"h3"},{"title":"Remap Betaflight board‚Äã","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/controllers/betaflight-diy#remap-betaflight-board","content":" Remapping servos and motors ","version":"2.1.0","tagName":"h3"},{"title":"Controllers","type":0,"sectionRef":"#","url":"/docs/controllers","content":"Controllers There are several flight controllers specifically made for Rotorflight. Radiomaster NEXUSFlydragon V2.2Flywing F405HELIMatek G474HeliMatek G474-HLITEDIY - from a Betaflight FC","keywords":"","version":"2.1.0"},{"title":"Flydragon V2.2","type":0,"sectionRef":"#","url":"/docs/controllers/flydragon2.2","content":"","keywords":"","version":"2.1.0"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#rotorflight-target","content":" When updating Rotorflight firmware. Please use the FLYDRAGONF722_V2_2 target.    ","version":"2.1.0","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#motorised-tail","content":" To use the Flydragon with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 C09 save    ","version":"2.1.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#wiring","content":"   caution WARNING: The RPM-S Port is powered via the internal 5V supply which is also powered during USB connection. If you have any power supplies connected or innapropriate loads you are likely to damage your board. DO NOT plug in your ESCs BEC wire into here, many BECs act like a deadshort if you attempt to backfeed them and you WILL blow out the 5V supply on your board when you connect USB if you do this. Power to the rest of the ports is all common power you can connect whatever to.  ","version":"2.1.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#uart-ports","content":" UART 1 - Internal ELRS Receiver - (disable as shown below if not used)UART 2 - SBUS or FPORT connectorUART 3 - Rx and Tx on Extension portUART 5 - Rx and Tx on GPS port (can also be used for the Receiver)    ","version":"2.1.0","tagName":"h3"},{"title":"Remapping‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#remapping","content":" Several of the ports can be remapped for other purposes.  ","version":"2.1.0","tagName":"h2"},{"title":"Use RPM-E for Motor 1 RPM (default)‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#use-rpm-e-for-motor-1-rpm-default","content":" resource FREQ 1 A01 save  ","version":"2.1.0","tagName":"h3"},{"title":"Use RPM-S for Motor 1 RPM‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#use-rpm-s-for-motor-1-rpm","content":" resource FREQ 1 A15 save  ","version":"2.1.0","tagName":"h3"},{"title":"Use both RPM-E and RPM-S‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#use-both-rpm-e-and-rpm-s","content":" RPM-E port for Motor 1RPM-S port for Motor 2  resource FREQ 1 A01 resource FREQ 2 A15 save  ","version":"2.1.0","tagName":"h3"},{"title":"remap SBUS to SERVO 5‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#remap-sbus-to-servo-5","content":" resource SERIAL_RX 2 none resource SERVO 5 A03 timer A03 AF3 mixer input CH10 -1000 1000 1000 mixer rule 10 set CH10 S5 1000 0 save  ","version":"2.1.0","tagName":"h3"},{"title":"remap F.PORT to SERVO 5‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#remap-fport-to-servo-5","content":" resource SERIAL_TX 2 none resource SERVO 5 A02 timer A02 AF3 mixer input CH10 -1000 1000 1000 mixer rule 10 set CH10 S5 1000 0 save  ","version":"2.1.0","tagName":"h3"},{"title":"Can I use a receiver other than ELRS?‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#can-i-use-a-receiver-other-than-elrs","content":" External receivers can be connected to the SBUS, FPORT or any of the Extension UART ports (UART 3 or 5). If not using the inbuilt ELRS receiver it should be disabled.  ","version":"2.1.0","tagName":"h2"},{"title":"How to Enable/Disable the Internal Receiver:‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#how-to-enabledisable-the-internal-receiver","content":" The internal receiver is default turned on. When using external receivers, we need to turn it off. Connect the Flydragon F722 V2 to the Rotorflight Configurator. Go to CLI (command line) page: Command to DISABLE the receiver: set pinio_config = 1,1,1,1    Command to ENABLE the receiver: set pinio_config = 129,1,1,1    ","version":"2.1.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/controllers/flydragon2.2#manuals","content":" Flydragon V2.2 Flight Controller Manual Flydragon V2 Flight Controller Manual Flydragon V2 internal ELRS Manual ","version":"2.1.0","tagName":"h2"},{"title":"Flywing Heli405","type":0,"sectionRef":"#","url":"/docs/controllers/flywingf405heli","content":"","keywords":"","version":"2.1.0"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/controllers/flywingf405heli#rotorflight-target","content":" Servo Tail: Use the FLYWING_HELI405 target for a servo tail Heli.  Motorised Tail: Use the FLYWING_HELI405M target for a Motorised tail. The 'M' is Motorised.    ","version":"2.1.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/controllers/flywingf405heli#wiring","content":"   ","version":"2.1.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Flywing Heli405","url":"/docs/controllers/flywingf405heli#uart-ports","content":" UART 1 - GPS ConnectorUART 2 - Top JST-GH portUART 6 - DSM and SBUS       ","version":"2.1.0","tagName":"h3"},{"title":"Matek G474Heli","type":0,"sectionRef":"#","url":"/docs/controllers/matek_heli","content":"","keywords":"","version":"2.1.0"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/controllers/matek_heli#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"2.1.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/controllers/matek_heli#wiring","content":"   ","version":"2.1.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/controllers/matek_heli#uart-ports","content":"     ","version":"2.1.0","tagName":"h3"},{"title":"Onboard BEC‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/controllers/matek_heli#onboard-bec","content":" The Matek G474Heli contains a 5A-8A peak, Variable voltage (5v or 7.2v) BEC to supply the servos. The BEC will supply 5v by default and 7.2 v when the solder bridge is connected. THis is powered by the VBat connection.  caution If using an external BEC the internal BEC MUST be disabled via the [Vx Off] solder bridge.    ","version":"2.1.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Matek G474Heli","url":"/docs/controllers/matek_heli#manuals","content":" Detail specifications and documentation available at the Matek website. Matek G474-HELI website ","version":"2.1.0","tagName":"h3"},{"title":"Download - Blackbox","type":0,"sectionRef":"#","url":"/docs/download/blackbox","content":"Download - Blackbox Download Here!! Download the Current Release v2.1","keywords":"","version":"2.1.0"},{"title":"Matek G474-HLite","type":0,"sectionRef":"#","url":"/docs/controllers/matek_hlite","content":"","keywords":"","version":"2.1.0"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/controllers/matek_hlite#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"2.1.0","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/controllers/matek_hlite#motorised-tail","content":" The H-Lite FC is configured with 4 servos and 1 motor. If you wish to use this board for a motorised tail it can be added in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource motor 2 A06 save    ","version":"2.1.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/controllers/matek_hlite#wiring","content":"   ","version":"2.1.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/controllers/matek_hlite#uart-ports","content":"     ","version":"2.1.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/controllers/matek_hlite#manuals","content":" Detail specifications and documentation available at the Matek website. Matek G474-HLite website ","version":"2.1.0","tagName":"h3"},{"title":"Download - Ethos Tx Lua","type":0,"sectionRef":"#","url":"/docs/download/ethos-Lua","content":"","keywords":"","version":"2.1.0"},{"title":"Versions‚Äã","type":1,"pageTitle":"Download - Ethos Tx Lua","url":"/docs/download/ethos-Lua#versions","content":" There are two different Lua scripts available for Ethos radios. Either version can be used. First version is text based. The second is the RF touch version. Choose whichever you prefer.  Download Ethos Lua Here!! Download the Ethos Current Release v2.1  Download RF Touch Lua Here!! Download the Ethos RF Touch Suite - Current Release v2.1   ","version":"2.1.0","tagName":"h2"},{"title":"Radiomaster NEXUS","type":0,"sectionRef":"#","url":"/docs/controllers/rm-nexus","content":"","keywords":"","version":"2.1.0"},{"title":"Release Video‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#release-video","content":"   Specifications Hardware SpecificationsÔºö‚Äã NEXUS Heli Flight Controller MCU: STM32F722RET6 Gyro (IMU): ICM-42688-P Flash Memory (Black Box. IC): 128MB (W25N01GVZEIG) Barometer: SPL06-001 Uart: 6 - DSM[UART1], S.BUS[UART2], A-CRSF[UART4], PORT-B[UART6], PORT-C[UART3] Servo: 4 - S1, S2, S3, TAIL Rpm Sensor: 1 - FROM ESC FREQUENCY SENSOR Receiver Support: CRSF, ELRS, GHOST, S.BUS, SUMD, IBUS, XBUS, EXBUS, PPM, MSP, DSM2, DSMX Voltage Supply(DC): 5 - 12.6V A-B-C Serial Port Power Output: 5V - 2.0A DSM Serial Port Power Output: 3.3V - 0.5A Telemetry: S.BUS, HoTT, S.Port, MSP, EDGETX, ELRS ESC: PWM, Oneshot, Multishot, Dshot Support Tail ESC: 760Œºs/1520Œºs Servo Support Tail Motor: Yes Dimensions: 41.3 X 25.4 X 13.1mm Weight: 16.8g  ","version":"2.1.0","tagName":"h2"},{"title":"Rotorflight Target‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#rotorflight-target","content":" When updating Rotorflight firmware. Please use the NEXUS_F7.    ","version":"2.1.0","tagName":"h3"},{"title":"Matching RP3-H ELRS receiver‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#matching-rp3-h-elrs-receiver","content":" Any of the Rotorflight receiver protocols can be used with the NEXUS. Radiomaster does have the RP3-H receiver which is a direct plug and play ELRS receiver.    ","version":"2.1.0","tagName":"h3"},{"title":"F-Port‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#f-port","content":" Nexus supports F.Port on: The 'TX' pin of Port A, B or C or by remapping the SBUS to a TX for F.Port.   F.Port is an Un-iverted protocol over a single wire so must configured with both of these options enabled.   ","version":"2.1.0","tagName":"h3"},{"title":"Motorised Tail‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#motorised-tail","content":" To use the NEXUS with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 B03 save    ","version":"2.1.0","tagName":"h3"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#wiring","content":"   ","version":"2.1.0","tagName":"h3"},{"title":"UART ports‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#uart-ports","content":" All the UARTS on the NEXUS are labeled to match each port. Just enter the function you wish to use for each port such as SerialRx (receiver), ESC Telemetry, blackbox, GPS etc.    ","version":"2.1.0","tagName":"h3"},{"title":"Manuals‚Äã","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/controllers/rm-nexus#manuals","content":" Radiomaster NEXUS website ","version":"2.1.0","tagName":"h3"},{"title":"Download - Edge Tx Lua","type":0,"sectionRef":"#","url":"/docs/download/edge-tx-Lua","content":"Download - Edge Tx Lua Lua script must match the current firmware version loaded into your Flight Controller. If you update firmware you must also update the Lua scripts to match. Download Here!! Download the Current Release v2.1","keywords":"","version":"2.1.0"},{"title":"Download - Configurator","type":0,"sectionRef":"#","url":"/docs/download/configurator","content":"Download - Configurator Download Here!! Download the Current Release v2.1","keywords":"","version":"2.1.0"},{"title":"v2.1.0 Upgrade notes","type":0,"sectionRef":"#","url":"/docs/download/notes","content":"","keywords":"","version":"2.1.0"},{"title":"Update procedure‚Äã","type":1,"pageTitle":"v2.1.0 Upgrade notes","url":"/docs/download/notes#update-procedure","content":" Please follow the Backup and restore process to save a backup of your Rotorflight v2.0.0 config.Use dump all as the backup command.Flash new version with Full Chip EraseRestore your settings from the backup file  ","version":"2.1.0","tagName":"h2"},{"title":"safe expected errors‚Äã","type":1,"pageTitle":"v2.1.0 Upgrade notes","url":"/docs/download/notes#safe-expected-errors","content":" The following errors are expected and can be safely ignored.  ","version":"2.1.0","tagName":"h2"},{"title":"CRSF reuse‚Äã","type":1,"pageTitle":"v2.1.0 Upgrade notes","url":"/docs/download/notes#crsf-reuse","content":" Telemetry reuse has been replaced by ELRS Custom telemetry    ","version":"2.1.0","tagName":"h3"},{"title":"Battery voltage and current low pass filters were renamed‚Äã","type":1,"pageTitle":"v2.1.0 Upgrade notes","url":"/docs/download/notes#battery-voltage-and-current-low-pass-filters-were-renamed","content":" These settings were just renamed.    ","version":"2.1.0","tagName":"h3"},{"title":"Breaking changes‚Äã","type":1,"pageTitle":"v2.1.0 Upgrade notes","url":"/docs/download/notes#breaking-changes","content":" There are a couple of changes.  As above. The CRSF Reuse has been removed and replaced with the much more flexible ELRS Custom telemetryThe calculation, filters and defaults for Cyclic Cross Coupling and have been changed. Please set CCC to defaults then re-tune the Cyclic Cross Coupling.    On the Configuration tab the gyro alignment has been removed. Please use the Roll, Pitch and Yaw degrees   ","version":"2.1.0","tagName":"h2"},{"title":"Getting Started","type":0,"sectionRef":"#","url":"/docs/examples","content":"Getting Started The general process for setting up a helicopter using Rotorflight. This process is generic and may be slightly different, depending on your particular helicopter. Install the latest RF2 releaseRemap your servos and motors if you are using a Betaflight FC, otherwise, skip this step.Calibrate the Accelerometer.Check you Board alignment setting and adjust if necessary.Connect Receiver to a free UART and select corresponding receiver settings.Select Battery Voltage and Current Source as per you setup, and Set Battery Capacity and Cell Count.Select ESC Throttle protocol, and Optional: ESC Telemetry protocol, Set Gear Ratios, and Motor Pole Count.Optional: Select and Setup the Governor.Setup Servos.Setup and Calibrate the Mixer.Setup the Gyro RPM Filters.Set the Rates as per flying style.Set the PID Values.Setup ARMING, and other required modes.Setup Profile Switching and other Adjustments if required.Setup BLACKBOX Logging.Optional: Setup LUA Script on radio.","keywords":"","version":"2.1.0"},{"title":"Design Requirements","type":0,"sectionRef":"#","url":"/docs/Manufacturers/Design-Requirements","content":"","keywords":"","version":"2.1.0"},{"title":"Betaflight Guidelines‚Äã","type":1,"pageTitle":"Design Requirements","url":"/docs/Manufacturers/Design-Requirements#betaflight-guidelines","content":" Rotorflight is based on Betaflight, and thus has the same basic requirements for the hardware.  Please read the Design Guidelines for Betaflightfirst.  ","version":"2.1.0","tagName":"h2"},{"title":"Rotorflight Design‚Äã","type":1,"pageTitle":"Design Requirements","url":"/docs/Manufacturers/Design-Requirements#rotorflight-design","content":" Rotorflight Design Requirements Github ","version":"2.1.0","tagName":"h2"},{"title":"Manufacturers Information","type":0,"sectionRef":"#","url":"/docs/Manufacturers/intro","content":"","keywords":"","version":"2.1.0"},{"title":"Flight Controller Specifications‚Äã","type":1,"pageTitle":"Manufacturers Information","url":"/docs/Manufacturers/intro#flight-controller-specifications","content":" We have documented some flight controller Design Requirements. Also there are several pin and MCU specific Reference Designs. These are specified to optimise resources and provide a consistent starting point.  note For an FC to be fully supported by Rotorflight-2 (RF2), it must follow one of the Reference Designs.  ","version":"2.1.0","tagName":"h2"},{"title":"Support‚Äã","type":1,"pageTitle":"Manufacturers Information","url":"/docs/Manufacturers/intro#support","content":" Rotorflight can provide a testing team for your design. Both from the electrical side interfacing to different receivers and ESCs as well as flight testing by great pilots. ","version":"2.1.0","tagName":"h2"},{"title":"Example setup - Servo tail","type":0,"sectionRef":"#","url":"/docs/examples/example-1","content":"","keywords":"","version":"2.1.0"},{"title":"Update Firmware‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#update-firmware","content":" Update the Flight Controller firmware to the current release. Follow the description on the Flashing the firmware page.  ","version":"2.1.0","tagName":"h2"},{"title":"Setup Receiver‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#setup-receiver","content":" Choose where you want to connect your receiver. Any of the UARTS or SBUS port are suitable depending on your receiver and personal preference. In this example we are using ELRS and will connect to the Port(A) which is default ELRS port.    caution Double check your wires between receiver and flight controller before powering on. Some ELRS receiver manufacturers use a different pin arrangement and connecting to your Flight controller will damage the receiver.  ","version":"2.1.0","tagName":"h2"},{"title":"Receiver - serial ports‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#receiver---serial-ports","content":" Open the configuration tab and set the serial port Port (A) to Serial_RX. Save and Reboot.    ","version":"2.1.0","tagName":"h3"},{"title":"Receiver - Rx protocol‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#receiver----rx-protocol","content":" Open the Receiver tab. Set the receiver protocol to TBS CRSF (ELRS) and the channel order to ELRS (AECR1T). Save and Reboot.    ","version":"2.1.0","tagName":"h3"},{"title":"Receiver - Check‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#receiver---check","content":" Your Receiver should now be connected and operating correctly.    ","version":"2.1.0","tagName":"h3"},{"title":"Receiver - Update firmware‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#receiver---update-firmware","content":" If you wish to update your firmware for your ELRS receiver you can now connect using ExpressLRS Configurator using the Betaflight Passthrough method.  note You will need to disconnect and close the Rotorflight Configurator and power cycle the receiver before updating your Receiver  ","version":"2.1.0","tagName":"h3"},{"title":"Receiver - Enable telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#receiver---enable-telemetry","content":" Enable telemetry back to your transmitter    ","version":"2.1.0","tagName":"h3"},{"title":"Enable ARM mode‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#enable-arm-mode","content":" Arming is an important step for Rotorflight. See the Arming setup page for more details.  ","version":"2.1.0","tagName":"h2"},{"title":"Gyro setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#gyro-setup","content":" The gyro can be put into the helicopter in many different ways. We now have to set the gyro alignment so that the gyro knows what direction it is pointing in.  ","version":"2.1.0","tagName":"h2"},{"title":"Gyro - alignment‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#gyro---alignment","content":" Check and confirm on the configuration tab that while moving your helicopter (gyro installed) that the model in the configurator moves in the same direction.    ","version":"2.1.0","tagName":"h3"},{"title":"Gyro - Calibrate accelerometer‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#gyro---calibrate-accelerometer","content":" With the flight controller installed in your Helicopter open the setup tab and click on the calibrate accelerometer    ","version":"2.1.0","tagName":"h3"},{"title":"Servo Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#servo-setup","content":" The purpose of this step is to setup and calibrate servos. On the M4 the servos are setup in the CCPM 120 degree arrangement so the servos need to be plugged in as shown below.    ","version":"2.1.0","tagName":"h2"},{"title":"Mixer Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#mixer-setup","content":" The purpose of this step is to setup and calibrate the mixer.  ","version":"2.1.0","tagName":"h2"},{"title":"Motor and ESC Setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#motor-and-esc-setup","content":" ESC Throttle Protocol - The OMPHobby 65A ESC uses a PWM protocol. ESC telemetry Protocol - Set this to OMPHobby to match the ESC. RPM Sensor - The nexus has an RPM input. The Yellow RPM signal wire from the ESC is plugged into this port. Enabling this toggle enables the RPM so it can be used for the Governor and RPM Filtering Main Rotor Gear Ratio - The M4 is a direct drive Helicopter so is set to 1 / 1 Tail Rotor Gear Ratio - Counting the teeth on the M4 gears is 22 / 99 Main Motor Pole count - The M4 motor has 42 poles 42  note If your helicopter has a two stage gear train, please follow this guide    Governor Mode - Set this to &quot;Mode 1&quot;. This will control the Headspeed and provide slow spoolup. See the Governor Modes and Governor setup for details and examples.    ","version":"2.1.0","tagName":"h2"},{"title":"Test motor and Telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#test-motor-and-telemetry","content":" Now you can check and confirm your motor runs.  caution This step MUST be done with blades off!!  Enable the motor override and slowly raise the motor override signal. The Motor should begin to spool up and RPM and other ESC telemetry should be displayed.    ","version":"2.1.0","tagName":"h2"},{"title":"Power setup‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#power-setup","content":" Since we now have ESC telemetry working we can enable ESC Telemetry as the Voltage and current source.   ","version":"2.1.0","tagName":"h2"},{"title":"ELRS custom telemetry‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#elrs-custom-telemetry","content":" Since Rotorflight v2.1 ELRS will need to use the custom telemetry Lua. The Crossfire protocol is very limited for our helicopters so this is required to get the full range of telemetry that we may wish to see. See the ELRS Custom Telemetry on how to set it up.  ","version":"2.1.0","tagName":"h2"},{"title":"RPM Filters‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#rpm-filters","content":" From the Gyro tab enable the RPM filters and accept the default.    ","version":"2.1.0","tagName":"h2"},{"title":"Rates‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#rates","content":" Review and modify your Rates to taste.    ","version":"2.1.0","tagName":"h2"},{"title":"Pre-flight test‚Äã","type":1,"pageTitle":"Example setup - Servo tail","url":"/docs/examples/example-1#pre-flight-test","content":" Check and confirm all your controls are functioning. Pay particular attention to:  When connected to the configurator the model moves in the same way as the real helicopter (tilt forward/backward, sideways and yaw).Tx stick forward, helicopter swash pitched down ","version":"2.1.0","tagName":"h2"},{"title":"Reference Design","type":0,"sectionRef":"#","url":"/docs/Manufacturers/Reference-Design","content":"Reference Design Design Please read the page Rotorflight FC Design Requirements first. It is explaining the generic requirements for all Rotorflight designs. For an FC to be fully supported by Rotorflight-2, it must follow one of the reference designs. RF2 will offer more features and easier configurability for designs that are fully compatible. Lots of effort has been put into these designs for making sure they are as flexible as possible, while not imposing any hardware limitations on the functionality. The manufacturer can choose not to implement any features that are marked optional. All other features must be implemented. The reference designs are considering only the aspects that have effect on the software support, mostly the STM32 resource allocation and the minimum set of supported features. The rest - like size, form factor, connector locations - are left for the manufacturer to decide. Rotorflight Reference Design Github Reference Design F7AReference Design F7B","keywords":"","version":"2.1.0"},{"title":"Arming","type":0,"sectionRef":"#","url":"/docs/setup/arming","content":"","keywords":"","version":"2.1.0"},{"title":"Transmitter configuration‚Äã","type":1,"pageTitle":"Arming","url":"/docs/setup/arming#transmitter-configuration","content":" The transmitter simply needs a channel that switches between Low (disarmed) and High (Armed). This can be any switch; however, it is preferable that it is not easy to accidentally switch in flight.  ELRS Arming Channel For ELRS receivers - Put your arm switch on AUX1, and set it as 1000 is disarmed, 2000 is armed. Please read ELRS switch configs and Arming for more details  For EdgeTx this would look like this:    This simply switches the Arm channel (CH5/Aux1) from 0% (1000us) to 100% (2000us).    ","version":"2.1.0","tagName":"h2"},{"title":"Flight Controller configuration‚Äã","type":1,"pageTitle":"Arming","url":"/docs/setup/arming#flight-controller-configuration","content":" As shown in the video below: 1. Open the Modes tab 2. Set the channel to match your switch (in this case AUX1) 3. Drag the sliders to the top end of the channel 4. Save 5. Toggle the channel and watch the red indicator pip move. When it is inside the upper range the ARM box turns red. Note - The box shows as &quot;(Disabled)&quot; because it is connected to the Configurator.    ","version":"2.1.0","tagName":"h2"},{"title":"Swashplate Wiggle indication‚Äã","type":1,"pageTitle":"Arming","url":"/docs/setup/arming#swashplate-wiggle-indication","content":" The swashplate is configured to indicated ready for Arming as well as Errors. More details can be found on the Swashplate wiggle page.  ","version":"2.1.0","tagName":"h2"},{"title":"Arming Disable flags‚Äã","type":1,"pageTitle":"Arming","url":"/docs/setup/arming#arming-disable-flags","content":" The Arming disable flags are a list of issues that could be preventing your helicopter from Arming. These are things like Gyro not configured, Receiver fail or throttle not at minimum. Please see the list below for details of each flag and how to fix it.  There are several ways to identify what is preventing your helicopter from Arming. You can view the Arming disable flags from the configurator or on the transmitter (if you have a transmitter with Rotorflight Lua scripts).  info ConfiguratorEdgeTX LuaEthos Lua Configurator‚Äã The Arming disable flags are displayed on the Status tab. Disable flag MSP means you are connected to the configurator. You can enable arming while connected to the configurator by the selecting the enable arming toggle. WARNING this should only be done with blades off!!  ","version":"2.1.0","tagName":"h2"},{"title":"Disable flags description‚Äã","type":1,"pageTitle":"Arming","url":"/docs/setup/arming#disable-flags-description","content":" Disable Flag\tDescription'NOGYRO'\tGyro was not detected 'FAILSAFE'\tFailsafe is active 'RXLOSS'\tRX is in Failsafe. No valid receiver signal is detected. 'BADRX'\tYour receiver has just recovered from receiver failsafe but the arm switch is on 'BOXFAILSAFE'\tYou have enabled Failsafe in the Modes and it is currently active. 'RUNAWAY'\tRunway Takeoff Prevention has been triggered. Disarm then re-arm to clear this condition. 'CRASH'\tCrash Recovery has been triggered. Disarm then re-arm to clear this condition. \\ 'GOVERNOR'\tGovernor enabled but no valid 'fast' RPM source (RPM frequency input or bi-directional D-shot) OR Gove mode 2 and no Voltage input configured. 'THROTTLE'\tLower throttle below Throttle Channel value for arming 'ANGLE'\tCraft is not level. Level craft to within (default) 25 degrees. 'BOOTGRACE'\tArming too soon after power on. Turn off Arm; pause, then Arm again. 'NOPREARM'\tPrearm switch has been set-up but is not activated or prearm has not been toggled after disarm 'LOAD'\tSystem load is too high. This may happen with some low spec boards. Reduce the PID loop frequency and/or number of filters 'CALIB'\tSensor calibration is still ongoing. Wait for sensor calibration to complete. 'CLI'\tCLI is active. Exit the CLI. 'CMS'\tCMS (config menu) is Active - over OSD or other display. Exit the CMS (or OSD menu). 'BST'\tA Black Sheep Telemetry device (TBS Core Pro for example) disarmed and is preventing arming. Refer to the manual for your hardware. 'MSP'\tMSP connection is active, probably via Rotorflight Configurator. Terminate the Rotorflight Configurator connection (disconnect). Note - you would expect this flag if you are looking at the Arm disable flags on the Status tab. 'PARALYZE'\tParalyze Mode has been configured and is currently active. Power cycle/reset FC board. 'GPS'\tGPS rescue mode is configured but required number of satellites has not been fixed. Wait for GPS fix, enable arming without GPS fix, or disable GPS rescue mode. Note - Rotorflight GPS rescue is not functional so should not be configured. 'RESCUE_SW'\tRescue mode has been configured and is currently Active. Switch off rescue mode and toggle the Arm switch. 'RPMFILTER'\tRPM-based filtering is enabled but one or more ESC's are not configured or receiving valid RPM signals. RPM feedback can be from bi-directional Dshot or Frequency inputs using the ESC RPM signal or an external RPM sensor. See RPM Measurement for more details. 'REBOOT_REQD'\tReboot required. Settings have been changed and the flight controller requires a Reboot for the settings changes to take effect. 'DSHOT_BBANG'\tDSHOT Bitbang is not working. Check configuration of timers and DMA for your controller. Generally Dshot Bitbang is not required for Rotorflight so try set dshot_bitbang = OFF in the CLI 'NO_ACC_CAL'\tAccelerometer calibration required. Calibrate the accelerometer or disable features that use it (e.g. Rescue, Horizon, Angle modes etc). 'MOTOR_PROTO'\tESC/Motor Protocol not configured. Select the ESC/Motor protocol to use on the Configuration tab. 'ARMSWITCH'\tArm switch is in an unsafe position. Toggle the arm switch to arm. ","version":"2.1.0","tagName":"h2"},{"title":"Backup and restore","type":0,"sectionRef":"#","url":"/docs/setup/backup-and-restore","content":"","keywords":"","version":"2.1.0"},{"title":"Back up the configuration‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#back-up-the-configuration","content":" Backups of your Rotorflight configuration can be taken in order to restore a controller to a previous state, in the event of a failure, or to duplicate your controller to use on another helicopter. Also it is advised that a backup is taken of the original Betaflight pre-loaded configuration before loading Rotorflight.  ","version":"2.1.0","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#step-1","content":"   Open Rotorflight Configurator and [Connect]. If the board is new and as supplied with Betaflight a warning message will pop up saying the &quot;firmware version is not supported&quot;. This means that the board currently does not have Rotorflight loaded so it can be safely ignored. Rotorflight configurator will now open in CLI mode. If you are backing up your config after having already configured your helicopter you will need to click on the CLI tab from the left hand side of the page to open the CLI interface.  ","version":"2.1.0","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#step-2","content":" Choose what you want to back up. There are several options.  dumpThis command dumps all of the hardware and software configuration.diffdiff will download any configuration that is not equal to the custom defaults for that board. Things like your ESC protocol, RX type etc. This file is very small.dump allDump all downloads all hardware and software the same as the dump command; however, it also includes all rate profiles.dump hardwareDump hardware will download all of the hardware config. This is information like the pin assignments and board specific information (gyro bus address etc).  ","version":"2.1.0","tagName":"h3"},{"title":"Step 3.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#step-3","content":"   Click on [Clear output window].Type the backup command (from step 2) in the window and click [ENTER].  ","version":"2.1.0","tagName":"h3"},{"title":"Step 4.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#step-4","content":"   After the command is complete click [Save to File] and store on your computer.  ","version":"2.1.0","tagName":"h3"},{"title":"Load/Restore Config‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#loadrestore-config","content":" Use this process to load remapping config files for your specific flight controller if available. You can also restore config files to your flight controller you have previously saved or have been shared by other users.  ","version":"2.1.0","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#step-1-1","content":"   Open the CLI tab and click [Load from File] and select the file on your computer.Click on the [Execute] from the pop up.  ","version":"2.1.0","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Backup and restore","url":"/docs/setup/backup-and-restore#step-2-1","content":"   Once the backup is loaded type save in the command line and [ENTER]. The flight controller will now reboot. ","version":"2.1.0","tagName":"h3"},{"title":"ELRS Custom Telemetry","type":0,"sectionRef":"#","url":"/docs/setup/elrs-custom-telemetry","content":"","keywords":"","version":"2.1.0"},{"title":"Why Custom Telemetry‚Äã","type":1,"pageTitle":"ELRS Custom Telemetry","url":"/docs/setup/elrs-custom-telemetry#why-custom-telemetry","content":" The ELRS (which uses the Crossfire protocol) has a limited array of parameters that can be transferred. Many of these values are not very applicable to a helicopter (as opposed to drones). Other values such as headspeed (quite important for our helicopters) are not available. In Rotorflight 2.0 returning some of our more important parameters back to the Tx was achieved by ELRS Telemetry Reuse however, this was also limited.  Custom telemetry has been implemented for ELRS in Rotorflight 2.1. This allows many more sensors that was previously not possible with CRSF. Currently there are over 100 sensors to choose from, and a maximum of 40 sensors can be used in total. With the ELRS configurable telemetry ratio, the sensors can be updated up to 20 times per second.  Note: ‚ÄòTelemetry Reuse‚Äô (from Rotorflight 2) has been removed as it is no longer required  note For elrs custom telemetry to work as expected it is essential to use elrs 3.5 or higher. Using lower versions will result in intermittent telemetry lost warnings. If you still get warnings after upgrading your elrs to 3.5 or higher - reducing the frame rate on the rotorflight config page to a value lower than your elrs module will prevent the receiver being overrun by telemetry data.  Please choose to suit your Radio - EdgeTX or ETHOS Choose TxEdgeTXETHOS Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio. ","version":"2.1.0","tagName":"h2"},{"title":"Flashing Blheli_S ESC to Bluejay firmware","type":0,"sectionRef":"#","url":"/docs/setup/blheli_s-to-bluejay","content":"","keywords":"","version":"2.1.0"},{"title":"Bluejay Configurator web page‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/setup/blheli_s-to-bluejay#bluejay-configurator-web-page","content":" Bluejay can be flashed via the web page application at https://esc-configurator.com/  ","version":"2.1.0","tagName":"h2"},{"title":"step 1.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/setup/blheli_s-to-bluejay#step-1","content":" Click on settings and check the &quot;Disable common settings&quot;. This enables different settings to be loaded to each ESC which is required so we can change the settings between the main and tail motors.    ","version":"2.1.0","tagName":"h3"},{"title":"step 2.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/setup/blheli_s-to-bluejay#step-2","content":" From the top right corner click on [Connect]. Power up the ESC with the flight pack and click on [Read Setup].    ","version":"2.1.0","tagName":"h3"},{"title":"step 3.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/setup/blheli_s-to-bluejay#step-3","content":" Click on [Flash all]  ","version":"2.1.0","tagName":"h3"},{"title":"step 4.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/setup/blheli_s-to-bluejay#step-4","content":" From the config dropdown chose:  Firmware = BluejayESC = Leave this as you find it. This is specific to your ESC typeVersion = Choose the latest version.PWM Frequency = 24kHz Smaller motors can use higher frequencies due to their very low inductance. Most helicopters 24kHz is suitable however helicopters with very small tail rotors (k110) you can use higher frequencies.  Click on [Flash] to load the new firmware.    ","version":"2.1.0","tagName":"h3"},{"title":"step 5.‚Äã","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/setup/blheli_s-to-bluejay#step-5","content":" After flashing has completed Click on [Read setup].  On both the tail and Main motors deselect &quot;Brake on stop&quot;On the Main motor slide the &quot;Maximum Braking Strength&quot; to 0. This will disable the Complimentary PWM (Damped Light Mode). This needs to be left active on the Tail motor.  Click the [Write Setup] to complete the setup.   ","version":"2.1.0","tagName":"h3"},{"title":"ESC Forward Programming","type":0,"sectionRef":"#","url":"/docs/setup/esc-forward-programming","content":"","keywords":"","version":"2.1.0"},{"title":"Configure the Flight controller‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/setup/esc-forward-programming#configure-the-flight-controller","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Set the UART‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/setup/esc-forward-programming#set-the-uart","content":" Enable the UART port for ESC telemetry on the Configuration Tab.    ","version":"2.1.0","tagName":"h3"},{"title":"ESC telemetry protocol‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/setup/esc-forward-programming#esc-telemetry-protocol","content":" Select one of the ESCs above that support Forward Programming. Enter this in the ESC telemetry protocol  ","version":"2.1.0","tagName":"h3"},{"title":"One Wire Communication (half-duplex)‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/setup/esc-forward-programming#one-wire-communication-half-duplex","content":" Most ESCs have a single telemetry wire. This is used to transmit telemetry information from the ESC to the flight controller. For forward programming functionality, this wire also need's to transmit information from the Flight controller to the ESC. By enabling the half-duplex bi-directional communications are enabled.    ","version":"2.1.0","tagName":"h3"},{"title":"Pin Swap‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/setup/esc-forward-programming#pin-swap","content":" For standard ESC telemetry we need to connect to a UART RX (receive) pin; however, as we are using bi-directional communication this will require the telemetry wire being connected to the UART TX (transmit) pin.  Option 1‚Äã  Wire the ESC telemetry to any spare UART TX pin on the flight controller. If we are using a TX pin then Pin-swap remains off.    Option 2‚Äã  Wire the ESC telemetry to the FC UART RX. This may be desirable if you wish to use the SBUS or DSM ports (which are RX) or do not wish to solder or change connectors.    ","version":"2.1.0","tagName":"h3"},{"title":"Setup the Lua scripts‚Äã","type":1,"pageTitle":"ESC Forward Programming","url":"/docs/setup/esc-forward-programming#setup-the-lua-scripts","content":" Please choose to suit your Radio - EdgeTX or ETHOS Choose TxEdgeTXETHOS Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio. ","version":"2.1.0","tagName":"h2"},{"title":"ESC Telemetry","type":0,"sectionRef":"#","url":"/docs/setup/esc-telemetry","content":"","keywords":"","version":"2.1.0"},{"title":"Select Serial Port‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/setup/esc-telemetry#select-serial-port","content":" The ESC telemetry pin TX needs to be connected to a spare UART RX.  Select the UART from the Configuration page.    ","version":"2.1.0","tagName":"h3"},{"title":"Select the Protocol‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/setup/esc-telemetry#select-the-protocol","content":" Select the correct ESC telemetry protocol based on the one you are using.    ","version":"2.1.0","tagName":"h3"},{"title":"Power Config‚Äã","type":1,"pageTitle":"ESC Telemetry","url":"/docs/setup/esc-telemetry#power-config","content":" Enable the Voltage and Current from the Power Tab.    For Hobbywing V4Additional parameters are provided for the voltage and current gains, and zero offsets. These parameters are set to zero by default to enable the Auto-Calculation within the firmware.  set esc_sensor_hw4_voltage_gain = 0set esc_sensor_hw4_current_gain = 0set esc_sensor_hw4_current_offset = 0  note Only change these values if Auto-calculation is inaccurate and you wish to fine tune the voltage and current. You can use the below values as a starting point.  Model\tVoltage gain\tCurrent gain\tCurrent offsetPlatinum LV 60A\t109\t0\t0 Platinum LV 80A\t109\t146\t409 Platinum LV 120A\t109\t110\t377 Platinum HV 130A\t210\t157\t0 Platinum HV 200A\t210\t157\t477 FlyFun HV 160A\t210\t66\t381 ","version":"2.1.0","tagName":"h3"},{"title":"Adding an extra servo","type":0,"sectionRef":"#","url":"/docs/setup/extra-servo","content":"","keywords":"","version":"2.1.0"},{"title":"Add an extra servo controlled by an AUX channel.‚Äã","type":1,"pageTitle":"Adding an extra servo","url":"/docs/setup/extra-servo#add-an-extra-servo-controlled-by-an-aux-channel","content":" note Sometimes we may wish to add an extra servo to our helicopter to be controlled by our Tx for something like retracts on a scale machine or a camera etc. This can be done using the remapping spreadsheet. In the example below we will add Servo 5 to be controlled by the AUX 3 channel.  Step 1: Assign the servo to your chosen pin. In the pic below we have assigned Servo 5 to Serial Rx 2.    Step 2: Assign the timer to your new servo. This timer cannot clash with motors, frequency or LED_STRIP. They can be assigned to the same timer as one of your other servos; however, it then will need to be set to the same frequency (e.g. if one is set to 333Hz they will both need to be set to 333Hz). If it can be assigned to a totally different timer then you can assign whatever frequency you like.    Step 3: In the 'Advanced' section assign your AUX channel to servo 5 and then select and copy the mixer config displayed.    Step 4: Open the configurator and go to the CLI page. Paste the config from the mixer into the command line and click [ENTER]. Type save and click [ENTER].   ","version":"2.1.0","tagName":"h2"},{"title":"Flashing the firmware","type":0,"sectionRef":"#","url":"/docs/setup/flashing-the-firmware","content":"","keywords":"","version":"2.1.0"},{"title":"Install Rotorflight Configurator‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/setup/flashing-the-firmware#install-rotorflight-configurator","content":" Start by downloading and installing the latest Rotorflight Configurator release download.  This walk-through uses Windows, but it should also work on Linux or macOS.  ","version":"2.1.0","tagName":"h2"},{"title":"Install Drivers‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/setup/flashing-the-firmware#install-drivers","content":" On Windows, install the STM USB VCP Drivers from the links on the Rotorflight Configurator page.  Driver issues If there are issues connecting to the flight controller please download the ImpulseRC Driver Fixer.  ","version":"2.1.0","tagName":"h2"},{"title":"Flash Firmware to FC‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/setup/flashing-the-firmware#flash-firmware-to-fc","content":" Connect the FC to your computer with an USB data cable. Now you are ready to install the Rotorflight firmware to your FC. There are five different versions of the firmware, each version targeting a specific microprocessor: F405, F411, F7X2, F745, and H743. Your FC must use one of those processors. Besides firmware, each FC has it's own configuration. The configuration specifies the FC board, e.g. what pads are used for what.  ","version":"2.1.0","tagName":"h2"},{"title":"Step 1.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/setup/flashing-the-firmware#step-1","content":" Open the Rotorflight configurator and click on Update Firmware.  Choose All release and Snapshots from the dropdown. Note: Snapshots are for development and testing purposes. They may contain bugs!! We recommend using snapshot firmware with care and to assist the project with testing. Choose &quot;Releases&quot; if you would rather use the latest stable firmwareSelect the Target you identified in Step 1. You can also click on the &quot;detect&quot; button to auto detect the target.Select Full chip Erase, this will remove all previous configurations.Click on Load firmware[online]    ","version":"2.1.0","tagName":"h3"},{"title":"Step 2.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/setup/flashing-the-firmware#step-2","content":" Check and confirm the target board is correct.Click on Flash Firmware.    ","version":"2.1.0","tagName":"h3"},{"title":"Step 3.‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/setup/flashing-the-firmware#step-3","content":" When the programming is successful click on Connect.    ","version":"2.1.0","tagName":"h3"},{"title":"Troubleshooting‚Äã","type":1,"pageTitle":"Flashing the firmware","url":"/docs/setup/flashing-the-firmware#troubleshooting","content":" 'Initiating reboot to bootloader' hangs If you're on Windows and it hangs while displaying Initiating reboot to bootloader, you'll need to install the proper driver for the STM32 BOOTLOADER device.  Make sure the device STM32 BOOTLOADER is installed and showing up in the Device Manager, either under Other Devices or under Universal Serial Bus devices. Select View &gt; Show Hidden Devices in order to see all installed devices.  You might need to uninstall all STM Device in DFU Mode devices under Universal Serial Bus Controllers before Windows will install the STM32 BOOTLOADER device. Make sure to check Delete the driver software for this device.  In the Configurator, go to the CLI and type dfu. This puts the FC in Device Firmware Update mode.  Start Zadig (see download link on the Welcome tab in the Configurator), select Options &gt; List all Devices, select STM32 BOOTLOADER and change the driver to WinUSB. Flash firmware should now work.    Error 'Rebooting device to bootloader: FAILED' If you receive the error Rebooting device to bootloader: FAILED then you will need to manually place the FC into bootloader mode. Do this by holding down the BOOT button while connecting it to your computer.  Help... that didn't work. Its bricked! Ok, so after rebooting you are no longer able to connect to the FC via USB. This can happen if your configuration file is not correct (USB becomes unallocated) or if you have loaded the incorrect firmware for the processor type. Don't worry: the bootloader can't be bricked, it's in ROM. You can always reload the firmware via the DFU (device firmware update) mode. Most flight controllers have a 'boot' button or pins which are used to enter DFU mode. Generally you can just enter DFU mode by pushing the button or bridging the boot pins as you plug the USB in (while the Rotorflight Configurator is open).    Rotorflight Configurator will display DFU - STM32 BOOTLOADER at the top of the page after a successful DFU connection. Click on the Update Firmware and follow the steps above to re-flash the firmware as required.    If you still having problem connecting to the MCU, install the Impulse-RC Driver Fixer. ","version":"2.1.0","tagName":"h2"},{"title":"Governor setup","type":0,"sectionRef":"#","url":"/docs/setup/governor-setup","content":"Governor setup There are several options for configuring the Governor. Governor Options Option 1Option 2 Single profile - Multiple throttle settings‚Äã Configuring a single profile with Full Headspeed set to the Maximum desired headspeed. Transmitter throttle settings are configured to Separate throttle positions for each desired headspeed. Example: If we configure a 2500RPM Full headspeed On the transmitter set the required headspeeds. Throttle Hold = 0%Idle up 1 = 70% = 2500 * 0.7 = 1750 RPM headspeedIdle up 2 = 90% = 2500 * 0.9 = 2250 RPM headspeedIdle up 3 = 100% = 2500 RPM Headspeed This Method is easier to configure and simplifies the tuning as there is only one profile to change. You will have to tune so that it is suitable for each of the headspeed.","keywords":"","version":"2.1.0"},{"title":"OpenLager","type":0,"sectionRef":"#","url":"/docs/setup/openlager","content":"","keywords":"","version":"2.1.0"},{"title":"Introduction‚Äã","type":1,"pageTitle":"OpenLager","url":"/docs/setup/openlager#introduction","content":" An OpenLager is an external logging devices that use SD cards. Logging with an OpenLager has several benefits compared to other logging methods:  Virtually unlimited storage when using, for example, a 32GB SD cardHigh read speeds when you eject the SD card and connect it directly to your PCLogging using an UART TX is a lightweight process and very MCU friendly, so you'll have more processing power for other tasks.  ","version":"2.1.0","tagName":"h2"},{"title":"Connecting an OpenLager‚Äã","type":1,"pageTitle":"OpenLager","url":"/docs/setup/openlager#connecting-an-openlager","content":" The OpenLager can be connected to the FC using just three wires: +5V, ground and a TX output pad of a free UART on the FC, which is connected to the RX pad of the logging device. As soon as you power the device on, it will create a new log file on the SD card. Then it'll log everything it receives to that file. Simple but effective.  After you've connected the OpenLager, you have to tell Rotorflight which UART the TX pad for the logger is connected to. You can specify that UART in the Configuration tab, under Blackbox logging. For the OpenLager select 2000000 bps. Click Save and Reboot.    After configuring the OpenLager you can go to the Blackbox tab to specify what should be logged at what speed when.  note For maximum performance the SD card should be formatted with the SD Association's special formatting tool. A fast SD card is needed, e.g. the Sandisk Extreme 16GB Class 10 UHS microSDHC. ","version":"2.1.0","tagName":"h2"},{"title":"Getting started with LEDs","type":0,"sectionRef":"#","url":"/docs/setup/led-strip-quick-start","content":"","keywords":"","version":"2.1.0"},{"title":"Introduction to LED strips‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#introduction-to-led-strips","content":" Rotorflight supports up to 32 individually addressable WS2811/2812 RGB LEDs. You can control them with just one data pin, and set the brightness and color of each LED individually. LEDs can have different functions, for example display a color, visualize warnings or battery state, or just blink. This walk-through will show you how to set up a simple LED strip with some scale lights.    Each LED has 4 pins: 5V, ground, data in and data out. The FC should be connected to data in of the first LED. Data out of the first LED should be connected to data in of the second LED. And the data out of the second LED should again be connected to data in of the third LED. And so on.  There are ready made WS2812 strips with 30, 60 or 144 LEDs per meter. That's great for testing or maybe on the boom for some night flying, but there are also more conventional WS2811 5mm and 8mm LEDs available. Those are more suited for scale lighting.  There are quite a lot of tutorials/videos for Betaflight, and Rotorflight supports all the functions of Betaflight 4.3. In addition, Rotorflight supports scale lights, with which you can program anti-collision lights, strobe lights or landing lights. Here we'll focus on those scale lights.  ","version":"2.1.0","tagName":"h2"},{"title":"Create a LED_STRIP resource‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#create-a-led_strip-resource","content":" In order to use a LED strip, you'll need a LED_STRIP resource to which you can connect your LEDs. A LED_STRIP resource requires a timer and DMA should be enabled.  Some FCs might already have a LED_STRIP resource and then you can just use that pin. But if you want to use another pin on your FC, or if your FC doesn't have a LED_STRIP resource, you'll need to do some resource remapping. For this walk-through I'm going to use the Radiomaster Nexus, so go to the CLI and remap TX6 to LED_STRIP.  Now go to the Configuration tab and enable LED_STRIP under Features. Press Save and reboot.  ","version":"2.1.0","tagName":"h2"},{"title":"Testing hardware‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#testing-hardware","content":" A piece of LED strip is ideal for testing. I'll be using one with 3 LEDs connected to Port B on the Nexus. Wiring is simple: just connect 5V, ground and LED_STRIP (formerly known as TX6) to the strip.    ","version":"2.1.0","tagName":"h2"},{"title":"The LED Strip tab‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#the-led-strip-tab","content":" Now go to the LED Strip tab. Note that this tab will only be visible if you have the LED_STRIP feature enabled under Configuration.  We're going to define:  a green navigation light that also functions as a strobea red ACL light that slowly blinksa white landing light that can be operated from the TX.  Connect the Nexus to the Configurator using USB. 5V will now be available on port A, B and C. If you're using many LEDs, consider using an external 5V power supply.  ","version":"2.1.0","tagName":"h2"},{"title":"Define the 3 LEDs‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#define-the-3-leds","content":" Click on Wire Ordering Mode. The 16x16 matrix will become greenish.Select a square in the matrix. A '0' should now be displayed in it.Select Color as FunctionNow select another square in the matrix. A '1' should now be displayed in it.Select Color again as FunctionSelect yet another square in the matrix. A '2' should now be displayed in it.Select Color as FunctionPress Save  Your screen might now look like this, although the actual position of the three squares will likely be different:    ","version":"2.1.0","tagName":"h3"},{"title":"Create the green navigation light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#create-the-green-navigation-light","content":" Select the square with '0' in itIn the color palette, left-click on green. The LED should now light up.If you find the LED too bright, adjust the overall LED brightness under LED Strip Global SettingsEnable Blink and set one checkmark. The LED will now shortly turn off (=black).In the color palette, right-click on white. Now the LED will shortly flash a white light.Press Save  ","version":"2.1.0","tagName":"h3"},{"title":"Create the red anti-collision light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#create-the-red-anti-collision-light","content":" Select the square with '1' in itSelect Blink and set some check marks next to each otherRight-click the red color. The second LED should now flash redPress Save  ","version":"2.1.0","tagName":"h3"},{"title":"Create the white landing light‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#create-the-white-landing-light","content":" Select the square with '2' in itEnable the Fade to alt color featureLeft-click white. The LED should now light upSelect Status Alt next to Profile, under LED Strip Global Settings. The LED should now dim.Set Fade rate to 10 to dim slowlyPress SaveYou can use Adjustments to switch the LED profile from your transmitter. It might look something like:    Here's another video showing the techniques used in this Quick Start on a Walkera 4F200LM, for which I used two 3mm and four 5mm LEDs.    ","version":"2.1.0","tagName":"h3"},{"title":"Molex PicoBlade bus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#molex-picoblade-bus","content":" Here's a simple bus system for connecting individual LEDs using 4-pin Molex PicoBlade connectors. It can be used for connecting individual WS2811/2812 LEDs as well as conventional LEDs.    Conventional LEDs should come after the WS2811/2812 LEDs since they don't support data in and data out. Also, you can use 2-pin PicoBlade connectors for them.  ","version":"2.1.0","tagName":"h2"},{"title":"Building the PicoBlade bus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#building-the-picoblade-bus","content":" Glue some 4-pin PicoBlade headers togetherBend the pins for 5V and GND so they form two railsCarefully solder the 5V and GND railsBend the data out pin of the first header to the data in pin of the second header and repeatSolder the data out pins to the next data in pinsConnect wires for 5V, GND and data in to the busIsolate the bottom of the bus with hot glue or epoxyConnect the bus to the FC    ","version":"2.1.0","tagName":"h3"},{"title":"Remapping to LED_STRIP‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#remapping-to-led_strip","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Radiomaster Nexus‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#radiomaster-nexus","content":" On the Nexus Port B is the best choice for creating a LED_STRIP resource. Port B provides RX6 and TX6 by default. To remap TX6 to LED_STRIP, enter the following in the CLI:  resource SERIAL_TX 6 NONE resource LED_STRIP 1 C07 timer C07 AF3 # TIM8, default is also AF3 dma pin C07 0 # default is NONE save   Note that although we remapped TX6, RX6 is still there and functional.  Alternatively you can remap RX6 to LED_STRIP:  resource SERIAL_RX 6 NONE resource LED_STRIP 1 C06 timer C06 AF3 # TIM8, default is also AF3 dma pin C06 0 # default is NONE save   ","version":"2.1.0","tagName":"h3"},{"title":"FlyDragon F722‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#flydragon-f722","content":" The FlyDragon F722 has a built in LED 'strip' with just one LED. It has the Warning overlay enabled by default and is connected to the FC using pin B08. However, the data out pin of that LED isn't exposed, so you have to remap some other port to LED_STRIP to make use of your own LEDs. There are several options: SCL, SDA, RPM-S and F.Port. SCL and SDA are located on the GPS port, which also provides 5V. Using SCL or SDA is preferred because they can have their own dedicated timer.  1. Remap SCL to LED_STRIP‚Äã  To remap SCL to LED_STRIP, enter the following in the CLI:  resource I2C_SCL 1 NONE resource LED_STRIP 1 B06 # default is B08 timer B06 AF2 # TIM4 dma pin B06 0 save   2. Remap SDA to LED_STRIP‚Äã  To remap SDA to LED_STRIP, enter the following in the CLI:  resource I2C_SDA 1 NONE resource LED_STRIP 1 B07 # default is B08 timer B07 AF2 # TIM4 dma pin B07 0 save   3. Remap RPM-S to LED_STRIP‚Äã  RPM-S isn't connected to VBec and supplies 5V, which is all right for a couple of LEDs.  To remap RPM-S to LED_STRIP on the FlyDragon V2 or V2.2, enter the following in the CLI:  resource LED_STRIP 1 A15 # default is B08 timer A15 AF1 # TIM1 dma pin A15 0 save   To remap RPM-S to LED_STRIP on the FlyDragon V1, enter the following in the CLI:  resource LED_STRIP 1 A08 # default is B08 timer A08 AF1 # TIM1 dma pin A08 0 save   4. Remap F.Port to LED_STRIP‚Äã  Be careful: F.Port uses VBec, which might be too high for your LEDs. Most LEDs require 5V.  resource LED_STRIP 1 A02 # default is B08 timer A02 AF1 # TIM2 dma pin A02 0 # Change motor 1 timer from TIM2 to TIM5 timer A00 AF2 save   ","version":"2.1.0","tagName":"h3"},{"title":"Flywing HELI405‚Äã","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/setup/led-strip-quick-start#flywing-heli405","content":" You can remap SBUS to LED_STRIP on the Flywing HELI405. To do this, enter the following in the CLI:  resource SERIAL_RX 2 NONE resource LED_STRIP 1 A03 timer A03 AF2 dma pin A03 1 save  ","version":"2.1.0","tagName":"h3"},{"title":"Lua Scripts","type":0,"sectionRef":"#","url":"/docs/setup/lua-scripts","content":"","keywords":"","version":"2.1.0"},{"title":"Introduction‚Äã","type":1,"pageTitle":"Lua Scripts","url":"/docs/setup/lua-scripts#introduction","content":" You can adjust a variety of settings using only your transmitter with the Rotorflight Lua scripts. A Lua script once loaded to your transmitter adds extra pages to the interface. These pages allow you to change things like PIDs, rates, filters, failsafe and governed headspeed on the field. Prerequisites:  OpenTX 2.3.12, EdgeTX 2.5.0 or newer or Ethos 1.4 or newer on the transmitter and: an FrSky SmartPort or F.Port receiver.or a CRSF v2.11 or newer receiver.or an ELRS 3.5.0 or newer receiver.  Examples:  TX16S with a FrSky X4R using the FrSkyX2 protocol.Frsky Ethos Radio (X20, X18, X14 etc) with either SPORT,FPORT receiver or ELRS with an external module.Taranis X9D with a TBS Crossfire TX/RX module.Taranis QX7 and a FrSky R-XSR, using the FrSky D16 protocol (as long as you don't use the ACCST D16 2.1.1 LBT firmware on the R-XSR, because this firmware has telemetry bugs).TX16S with an ELRS 3.5.0 module and receiver.  If you're not using F.Port, start up the Rotorflight Configurator, go to the Configuration tab and enable the TELEMETRY feature. F.Port telemetry does not work without enabling this feature.  If telemetry is working properly on your system, the Lua scripts should work as well.  There are different Lua scripts depending on what radio you are using (edgeTX or Ethos).  Please choose to suit your Radio - EdgeTX or ETHOS Choose TxEdgeTXETHOS Rotorflight has great support for both EdgeTX and Ethos. Please choose your radio. ","version":"2.1.0","tagName":"h2"},{"title":"Profile (Bank) switching example","type":0,"sectionRef":"#","url":"/docs/setup/profile-switching-example","content":"","keywords":"","version":"2.1.0"},{"title":"Purpose‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/setup/profile-switching-example#purpose","content":" info We often configure several flight modes to suit our own flying requirements e.g. (Futaba - Normal, IU1, IU2)(OpenTx - FM1, FM2, FM3). It is quite possible that with each of these flight modes we would want to adjust and tune the model independently. We can do this through the Adjustments tab. This is a similar feature to V-bar 'Bank switching'. The following example is just a suggestion and is one way to go about using the adjustments tab. The same process can be used to switch rates if required.  ","version":"2.1.0","tagName":"h2"},{"title":"Aim‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/setup/profile-switching-example#aim","content":" My helicopter has already been set up to have a 3 position switch (SwE) which selects between 3 headspeeds (I use the governor so my 'curves' are just flat). The following example will add switching of tuning parameters (Profile Tab) for each of these headspeeds.  ","version":"2.1.0","tagName":"h2"},{"title":"Configure the Tx‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/setup/profile-switching-example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwE) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch9 to the SwE in the Mixers tab    ","version":"2.1.0","tagName":"h3"},{"title":"Configure flight controller‚Äã","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/setup/profile-switching-example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux4 is the ninth channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux4,    Step 3:  Go to the Adjustments tab. Enable an adjustment slot by selecting Mapped and select Aux4 as the Enable Channel and Value Channel.Stretch the Enable Channel and Value Channel sliders across the entire channel range. This covers the positions for each of the three switch positions.Select Profile Selection from the dropdown. This means we want to change the 'Profile selection' by the switch position.Stretch the Profile Selection slider from 1 to 3, This means over the defined range a value of 1-3 will be chosen based on the switch position. (e.g. SwE down = 0, SwE middle = 1, SwE up = 2). These values are added to the Profile so will result in (e.g. SwE down = Profile 1, SwE middle = Profile 2, SwE up = Profile 3).    Step 4: Go to the Profiles tab and test and confirm that changing the switch position results in changing of the current Profile.   ","version":"2.1.0","tagName":"h3"},{"title":"Governor","type":0,"sectionRef":"#","url":"/docs/setup/governor","content":"","keywords":"","version":"2.1.0"},{"title":"Governor Mode‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#governor-mode","content":" The governor has multiple operating modes, each using a slightly different method for the throttle control in the PID loop. Select a mode from one of the values below.    ","version":"2.1.0","tagName":"h2"},{"title":"OFF‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#off","content":" The governor is disabled, and the stabilized throttle output ST is taken from the receiver throttle channel.  ","version":"2.1.0","tagName":"h3"},{"title":"PASSTHROUGH‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#passthrough","content":" The governor does not control the headspeed, but provides all the aux functions, like slow spool up, autorotation bailout, and error recovery. In the active state, the receiver throttle channel is directly passed through to the stabilized throttle output ST.  ","version":"2.1.0","tagName":"h3"},{"title":"STANDARD‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#standard","content":" The governor is stabilizing the headspeed with a standard PID control, similar to most ESCs. All aux functions are also active.  ","version":"2.1.0","tagName":"h3"},{"title":"MODE1‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#mode1","content":" Like STANDARD, but with collective/cyclic precompensation. This is similar to governors in most FBL systems.  ","version":"2.1.0","tagName":"h3"},{"title":"MODE2‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#mode2","content":" Like MODE1, but with battery voltage compensation. The PID loop does not need to react to battery voltage fluctuations, as it is taken into account outside the PID loop. This is usually the best choice. Can be used only if the battery voltage is connected to the FC.  ","version":"2.1.0","tagName":"h3"},{"title":"Governor Basic Settings‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#governor-basic-settings","content":"   In order to use the governor you must first configure the ESC/Motor features. This defines the motor telemetry (for RPM feedback) and gear ratios for your helicopter which lets the flight controller know how fast the rotor is spinning.  ","version":"2.1.0","tagName":"h2"},{"title":"Handover throttle‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#handover-throttle","content":" The throttle level above which the governor is activated. Below this level the input throttle is passed to the ESC, above this level the governor is enabled and the input throttle is used for calculating the target headspeed. The motor must be able to start below this throttle level.  ","version":"2.1.0","tagName":"h3"},{"title":"Startup time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#startup-time","content":" startup time is applied before the RPM is detected. Some ESCs require really slow startup ramp to be gentle. Some other ESCs need really rapid start for starting at all.  ","version":"2.1.0","tagName":"h3"},{"title":"Spoolup time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#spoolup-time","content":" This is an acceleration limit (in seconds) used for spooling up (After a valid rpm signal has been detected). It sets the acceleration limit that is equivalent to total time for spooling up from zero to full headspeed. For example, with a value of 10 and full headspeed of 3000rpm, the main rotor would take 10s to reach 3000rpm.  ","version":"2.1.0","tagName":"h3"},{"title":"Tracking time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#tracking-time","content":" Acceleration limit (in seconds) for normal operation. This occurs when the requested headspeed command changes while the governor is in the active state. This parameter limits the rpm change speed (acceleration). For example, when set to a value of 10 (which is 10s to ramp 0-100%). If hovering in Normal mode at 1500rpm (50% throttle) and then switching to Idl3 of 3000rpm (100% throttle) the Governor would ramp over 5s. Typical value is 5..20.  ","version":"2.1.0","tagName":"h3"},{"title":"Recovery time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#recovery-time","content":" Acceleration limit (in seconds) for error recovery. When the governor is recovering from lost headspeed or lost throttle signal, this is the max acceleration for the following (faster) spoolup.  ","version":"2.1.0","tagName":"h3"},{"title":"Autorotation bailout time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#autorotation-bailout-time","content":" Acceleration limit (in seconds) for autorotation bailout. When the governor is spooling up from autorotation, it is limiting the spoolup speed with this parameter.  ","version":"2.1.0","tagName":"h3"},{"title":"Autorotation timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#autorotation-timeout","content":" In the autorotation state, if high throttle returns before this timeout expires, the spoolup is done with bailout acceleration. After the expiration, the governor enters the idle state, and any subsequent spoolup is slow.  ","version":"2.1.0","tagName":"h3"},{"title":"Autorotation minimum entry time‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#autorotation-minimum-entry-time","content":" Minimum flight time before Autorotation can be engaged.  ","version":"2.1.0","tagName":"h3"},{"title":"Zero Throttle Timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#zero-throttle-timeout","content":" When the throttle input (from receiver) goes to zero, the governor enters an intermediate state where it is waiting for the throttle to return. If the throttle returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters off state, and any future spoolup will be slow.  note The purpose of this feature is to allow fast spoolup in case the throttle cut (hold) is hit accidentally. If high throttle is returned very soon after, the heli will spool up quickly and hopefully keep on flying. Unit is 0.1s. Typical value is 5..50.  ","version":"2.1.0","tagName":"h3"},{"title":"Headspeed Signal Timeout‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#headspeed-signal-timeout","content":" If the headspeed rpm signal is lost, the governor enters an intermediate state where it is waiting for the rpm signal to return. If the signal returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters the idle state, and any future spoolup would happen with the default (slow) spoolup acceleration. Unit is 0.1s. Typical value is 5..50.  ","version":"2.1.0","tagName":"h3"},{"title":"Headspeed Filter Cutoff [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#headspeed-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The RPM input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"2.1.0","tagName":"h3"},{"title":"Battery Voltage Filter Cutoff [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#battery-voltage-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The Battery voltage input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"2.1.0","tagName":"h3"},{"title":"TTA Bandwidth [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#tta-bandwidth-hz","content":" Cutoff for the TTA (Torque Tail Assist) lowpass filter.  ","version":"2.1.0","tagName":"h3"},{"title":"Precomp Bandwidth [Hz]‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#precomp-bandwidth-hz","content":" Cutoff for the cyclic/collective precompensation lowpass filter.  ","version":"2.1.0","tagName":"h3"},{"title":"Governor Profiles Settings‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#governor-profiles-settings","content":" These settings are set from the Profiles Tab. If desired, individual Profiles can be configured via the Adjustments Tab. This enables individual flight modes to have separate tuning and configuration set for each flight mode. (similar to 'Bank Switching').    ","version":"2.1.0","tagName":"h2"},{"title":"Full Headspeed‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#full-headspeed","content":" This is the highest headspeed that the governor would ever try to maintain, when the throttle input is at 100%.  ","version":"2.1.0","tagName":"h3"},{"title":"Maximum Throttle‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#maximum-throttle","content":" Maximum output throttle the governor is allowed to use.  ","version":"2.1.0","tagName":"h3"},{"title":"PID Master Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#pid-master-gain","content":" Master gain multiplier  ","version":"2.1.0","tagName":"h3"},{"title":"P-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#p-gain","content":" Governor Proportional gain  ","version":"2.1.0","tagName":"h3"},{"title":"I-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#i-gain","content":" Governor Integral gain  ","version":"2.1.0","tagName":"h3"},{"title":"D-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#d-gain","content":" Governor Derivative gain  ","version":"2.1.0","tagName":"h3"},{"title":"Feedforward-Gain‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#feedforward-gain","content":" Governor Feedforward gain  ","version":"2.1.0","tagName":"h3"},{"title":"Yaw precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#yaw-precompensation","content":" Yaw precompensation weight. Determines how much yaw is mixed into the feed forward. This helps the governor to maintain the headspeed proactively. Usually 20..100  ","version":"2.1.0","tagName":"h3"},{"title":"Cyclic precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#cyclic-precompensation","content":" Cyclic precompensation weight. Increasing the cyclic increases load on the rotor and causes it to slow down. This setting determines how much cyclic is mixed into the governor feedforward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"2.1.0","tagName":"h3"},{"title":"Collective precompensation‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#collective-precompensation","content":" Collective precompensation weight. Increasing the collective increases load on the rotor and causes it to slow down. This setting determines how much collective is mixed into the governor feedfoward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"2.1.0","tagName":"h3"},{"title":"Governor throttle input ranges‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#governor-throttle-input-ranges","content":" With the governor feature activated, the transmitter throttle channel is controlling the governor, rather than the ESC directly.  Depending in which range the throttle value falls into, the governor will function differently.  ","version":"2.1.0","tagName":"h2"},{"title":"THROTTLE < 0%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#throttle--0","content":" This throttle value indicates throttle hold (throttle cut) condition. It's guaranteed that all motors are stopped immediately. The throttle output from the governor is guaranteed to be zero.  note Make sure your transmitter is sending a value lower than 0% when throttle hold is activated. Throttle hold SHOULD NOT be used for autorotation.  ","version":"2.1.0","tagName":"h3"},{"title":"0% < THROTTLE < 5%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#0--throttle--5","content":" In this range, the governor is in idle or autorotation state, and the output is zero - the main motor is stopped.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor stopped, use this range!  ","version":"2.1.0","tagName":"h3"},{"title":"5% < THROTTLE < Handover throttle%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#5--throttle--handover-throttle","content":" In this range, the governor is in idle or autorotation state, and the output is in 0% - H.Thr%, increasing linearly through the range.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor running, use this range!  ","version":"2.1.0","tagName":"h3"},{"title":"Handover throttle% < THROTTLE < 100%‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#handover-throttle--throttle--100","content":" In this range, the governor is in active state, and the requested rpm is Handover throttle%..100% of the gov_headspeed.  ","version":"2.1.0","tagName":"h3"},{"title":"Governor State‚Äã","type":1,"pageTitle":"Governor","url":"/docs/setup/governor#governor-state","content":" The governor internal state can be observed in the blackbox log. It is a good indication on what the governor is trying to do.  OFF The governor is disabled and the throttle output is zero.  IDLE The governor is idle, because the input throttle is in the idle range. The throttle output is as described above - 0..10%.  SPOOLING_UP The input throttle has transitioned from low to high, and the governor is spooling up slowly.  ACTIVE The governor has reached the target headspeed and is actively maintaining it.  LOST_THROTTLE The throttle signal has suddenly dropped from high to low. If the throttle returns quickly, a recovery spoolup is performed. This state is for convenience, when the pilot accidentally hits throttle hold, and then realizes the mistake.  LOST_HEADSPEED The RPM input signal is lost. The governor will wait for a little while for the signal to return, before spooling down. It the signal returns quickly, a recovery spoolup is performed.  RECOVERY The governor is performing a recovery spoolup after one of the conditions above.  AUTOROTATION The throttle has dropped from high to the autorotation range. The governor is expecting the throttle to return once the autorotation has been performed. Once the throttle return, the governor moves to the state below.  AUTOROTATION_BAILOUT Throttle has returned while in AutoRotation state, and the governor is performing an autorotation bailout. ","version":"2.1.0","tagName":"h2"},{"title":"ETX Widget","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-edgetx/widget-etx-bob00","content":"ETX Widget Bob00 has created a custom widget for displaying Rotorflight Telemetry. More details and downloads can be found in the Githup Repository. ETX Widget by Bob00","keywords":"","version":"2.1.0"},{"title":"RF2 Touch Lua Scripts","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-edgetx/lua-RF2-touch","content":"RF2 Touch Lua Scripts By Shmuley These are Lua script's for Rotorflight 2 that provide a touch interface. RF2_Touch github","keywords":"","version":"2.1.0"},{"title":"FrSky Ethos Generic example","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-ethos/ethos-generic-radio-setup","content":"","keywords":"","version":"2.1.0"},{"title":"Coming soon‚Äã","type":1,"pageTitle":"FrSky Ethos Generic example","url":"/docs/setup/radio-setup/radio-setup-ethos/ethos-generic-radio-setup#coming-soon","content":"","version":"2.1.0","tagName":"h2"},{"title":"FrSky Ethos RFStatus LUA Script","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-ethos/ethos-nexus-status","content":"FrSky Ethos RFStatus LUA Script Installation As part of the RFSuite installation detailed above the RFStatus Widget is installed in the background and is ready for configuration. Before proceeding please ensure the Heli, RX and Rotorflight FBL are powered on and connected to your Ethos transmitter, At this point please ensure you have the full list of Telemetry sensors showing in the Model\\Telemetry screen. ##-- PLEASE REMOVE THE BLADES -- Ethos Screen Setup From the main screen press the DISP button and a screen similar to this will be shown. Press the + symbol to add another screen, scroll down and select the full screen icon as shown. Select Change Widget, scroll thru the list and select Rotorflight Status The following screen is shown, select Configure The following screen is the main configuration options for the Rotorflight Status widget TRIGGERS The ARM and IDLE-UP switch positions MUST be entered as per your Rotorflight configurator setup, in this example SE is ARM (Motor) and SD is IDLE-UP or Throttle Enable. Delay before active is the time taken for your motor to reach idle-up RPM. Current measurements will be started after this timeout. TIMER CONFIGURATION This is a count UP timer and will alarm at the set point, you can disable if using another Ethos timer. BATTERY CONFIGURATION Enter your Battery \\ Voltage settings and preferences, the 'Play alert on' can be configured for your preference. SWITCH ANNOUNCEMENTS This section allows you to have the status widget play announcements depending on your TX switch positions. TELEMETRY ANNOUNCEMENTS Similar to the above, allows the status widget to play various Telemetry announcements depending on your TX switch positions, this could include, for example, using the rear panel SJ momentary switch to announce Fuel and/or Voltage. GOVERNOR ANNOUNCEMENTS Similar to the above but recommended to enable as per your preferences.These are primarily intended for use when using the Rotorflight Governor - If using an External ESC governor you will receive basic announcements of ARMED, DISARMED, ACTIVE and THROTTLE OFF. CUSTOMISE DISPLAY This is the main widget display which has 6 pre-defined boxes each of which can display a range of items for your layout preference. The additional display options allow the widget to display the min\\max of the sensors as well as colours to indicate status or low battery. You also have the option to add additional sensors from Telemetry and choose these to display in the main screen. ADVANCED OPTIONS This is where you select Rotorflight Internal or an External governor for the widget, as well as any temp conversion from Centigrade to Fahrenheit. The Voltage section allows you to choose how sensitive the low voltage alarms will be depending on the voltage sag whilst in flight.The sag compensation is a time delay before the alarms are announced. Gimbal monitor effectively monitors your stick positions based on the drop down selection, and alerts if the given value is met. Normally disabled. The Headspeed option allows you to set the announcement which will tell you when the headspeed has changed, 10% default, useful to monitor if the Governor is maintaining the requested headspeed during fast 3D manoeuvres. Could point to Governor PID tuning. Calculate fuel locally can be used in the event your ESC does not send a current measurement.","keywords":"","version":"2.1.0"},{"title":"EdgeTX Generic Radio Setup","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup","content":"","keywords":"","version":"2.1.0"},{"title":"Channels Arrangement‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#channels-arrangement","content":" This following radio model uses 12 channels to get the best of Rotorflight options, the user can add or delete channels depending on his specific application, and required features.  These channels are configured as follows:  Channel #\tFunctionCH1\tAileron CH2\tElevator CH3\tCollective CH4\tRudder CH5\tAUX1 - Arming CH6\tThrottle CH7\tAUX2 - Profile Switching CH8\tAUX3 - Rescue CH9\tAUX4 - Blackbox CH10\tAUX5 - Backup Pack CH11\tAUX6 - Adjustment Enable Channel CH12\tAUX7 - Adjustment Value Channel  note Use the below recommended setting for the ELRS Tx module. Baud Rate: 921kPacket Rate: 500HzTelemetry Ratio: 1:32Switch Mode: WideTx Max Power: 250mW Dynamic Consult ELRS Website for more info.  ","version":"2.1.0","tagName":"h2"},{"title":"Radio Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-setup","content":" This Generic Rotorflight Radio Model Yaml file contain all the options listed above.  ","version":"2.1.0","tagName":"h2"},{"title":"Radio Inputs Page Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-inputs-page-setup","content":" Configure the inputs on the radio as per the below image.    Based on the image above:  The 3-position SB Switch will control Arming as below:  Switch SB-down: DisarmedSwitch SB-middle: DisarmedSwitch SB-up: Armed  The 2-position SF Switch will control Throttle Hold as below:  Switch SF-down: Throttle HoldSwitch SF-up: Throttle Release  The 3-position SE Switch will control Throttle percentage and Profile Switching as below:  Switch SE-down: Throttle 60%, Profile 1, and Rate 1Switch SE-middle: Throttle 70%, Profile 2, and Rate 2Switch SE-up: Throttle 80%, Profile 3, and Rate 2  The 2-position SH Momentary Switch will control Rescue as below:  Switch SH-down: Rescue OFFSwitch SH-up: Rescue ON  The 3-position SA Switch will control Blackbox enable and Blackbox erase as below:  Switch SA-down: Blackbox Logging OFFSwitch SA-middle: Blackbox Logging ONSwitch SA-up: Erase Blackbox Logs  The 3-position SC Switch will control Backup Buffer Pack as below:  Switch SC-down: Buffer OFFSwitch SC-middle: Buffer ONSwitch SC-up: Buffer ON  ","version":"2.1.0","tagName":"h3"},{"title":"Radio Mixer Page Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#radio-mixer-page-setup","content":" Additionally you can use CH11-AUX6 and CH12-AUX7 to perform in flight parameter adjustment using adjustment functions from the Adjustments Tab.    The above settings will allow you to adjust 30 parameters in flight using the radio trim switches with combination of the 6-position buttons.  The below table explain how each parameter can be accessed.    For example when 6-position button 1 is activated, the pitch trim switch will change Pitch P Gain value, and when 6-position button 3 is activated, the throttle trim switch will change Governor D Gain value, and so on.  ","version":"2.1.0","tagName":"h3"},{"title":"Rotorflight Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#rotorflight-setup","content":" After completing the above radio setup, you can proceed to the Rotorflight Configurator to complete the setup on the flight controller side.  ","version":"2.1.0","tagName":"h2"},{"title":"Arming Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#arming-setup","content":" Proceed to Modes Tab and setup arming as per below picture.    Alternatively you can paste and save the below commands in CLI to easily achieve the same result.  aux 0 0 0 1800 2100 0 0   ","version":"2.1.0","tagName":"h3"},{"title":"Profile Switching Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#profile-switching-setup","content":" Proceed to Adjustment Tab and setup Profiles and rates switching as per below picture.    Alternatively in CLI.  adjfunc 0 2 1 900 2100 1 975 2025 975 2025 0 0 3 adjfunc 1 1 1 900 2100 1 975 2025 975 2025 0 0 3   ","version":"2.1.0","tagName":"h3"},{"title":"Rescue Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#rescue-setup","content":" Proceed to Modes Tab and setup Rescue mode as per below picture.    Alternatively in CLI.  aux 1 53 2 1800 2100 0 0   ","version":"2.1.0","tagName":"h3"},{"title":"Blackbox Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#blackbox-setup","content":" Proceed to Modes Tab and setup Blackbox Modes as per below picture.    Alternatively in CLI.  aux 2 26 3 1400 1600 0 0 aux 3 31 3 1800 2100 0 0   ","version":"2.1.0","tagName":"h3"},{"title":"Buffer Pack Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#buffer-pack-setup","content":" Buffer packs like the 1st Buffer-Pack can be switched off from the radio after disconnecting the main pack, this can be done by connecting the buffer pack to a free 1500us PWM Channel on the flight controller.  First you need to assign servo 5 to a free timer pin, you will then see servo 5 in the Servos Tab. Assuming we have a free timer on pin A08. In CLI: Resource Servo 5 A08 Next you assign AUX5 Channel to Servo 5 using a mixer rule. In CLI: mixer rule 1 set AUX5 S5 1000 0   ","version":"2.1.0","tagName":"h3"},{"title":"In-Flight Profile Parameters Setup‚Äã","type":1,"pageTitle":"EdgeTX Generic Radio Setup","url":"/docs/setup/radio-setup/radio-setup-edgetx/edgetx-generic-radio-setup#in-flight-profile-parameters-setup","content":"   Since there is many functions required to perform the In-flight adjustment as per the above table, you can directly copy the below commands to CLI and save.  adjfunc 2 14 5 900 1100 6 1025 1075 1925 1975 5 10 200 adjfunc 3 18 5 900 1100 6 1100 1150 1850 1900 5 10 200 adjfunc 4 22 5 900 1100 6 1175 1225 1775 1825 5 10 200 adjfunc 5 49 5 900 1100 6 1250 1300 1700 1750 5 10 200 adjfunc 6 27 5 900 1100 6 1325 1375 1625 1675 5 10 200 adjfunc 7 26 5 900 1100 6 1400 1450 1550 1600 5 10 200 adjfunc 8 15 5 1100 1300 6 1025 1075 1925 1975 5 10 200 adjfunc 9 19 5 1100 1300 6 1100 1150 1850 1900 5 10 200 adjfunc 10 23 5 1100 1300 6 1175 1225 1775 1825 5 10 200 adjfunc 11 50 5 1100 1300 6 1250 1300 1700 1750 5 10 200 adjfunc 12 28 5 1100 1300 6 1325 1375 1625 1675 5 10 200 adjfunc 13 29 5 1100 1300 6 1400 1450 1550 1600 5 10 200 adjfunc 14 16 5 1300 1400 6 1025 1075 1925 1975 5 10 200 adjfunc 15 20 5 1300 1400 6 1100 1150 1850 1900 5 10 200 adjfunc 16 24 5 1300 1400 6 1175 1225 1775 1825 5 10 200 adjfunc 17 51 5 1300 1400 6 1250 1300 1700 1750 5 10 200 adjfunc 18 39 5 1300 1400 6 1325 1375 1625 1675 5 10 200 adjfunc 19 40 5 1300 1400 6 1400 1450 1550 1600 5 10 200 adjfunc 20 17 5 1550 1700 6 1025 1075 1925 1975 5 10 200 adjfunc 21 21 5 1550 1700 6 1100 1150 1850 1900 5 10 200 adjfunc 22 25 5 1550 1700 6 1175 1225 1775 1825 5 10 200 adjfunc 23 52 5 1550 1700 6 1250 1300 1700 1750 5 10 200 adjfunc 24 59 5 1750 1900 6 1025 1075 1925 1975 5 10 200 adjfunc 25 60 5 1750 1900 6 1100 1150 1850 1900 5 10 200 adjfunc 26 54 5 1750 1900 6 1175 1225 1775 1825 5 10 200 adjfunc 27 55 5 1750 1900 6 1250 1300 1700 1750 5 10 200 adjfunc 28 56 5 1950 2100 6 1025 1075 1925 1975 5 10 200 adjfunc 29 57 5 1950 2100 6 1100 1150 1850 1900 5 10 200 adjfunc 30 58 5 1950 2100 6 1175 1225 1775 1825 5 10 200 adjfunc 31 48 5 1950 2100 6 1250 1300 1700 1750 5 10 200   Consult Rotorflight Adjustments for more info on how to setup the above adjustments. ","version":"2.1.0","tagName":"h3"},{"title":"FrSky Ethos example","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-ethos/ethos-setup","content":"FrSky Ethos example Rotorflight Frsky Setup Instructions for Frsky Ethos Initial Radio and Configurator Setup, this is a generic setup using an Frsky transmitter with an frsky access receiver with a Rotorflight FC. This example shows a Nexus; however, the process is the same for any Rotorflight controller. Please choose the SBUS port related to your FC. Radio Following the manufacturers instructions register and bind your receiver to your newly created model or a clone Once the bind is successful you will see Telmetry items updating in the Model\\Telemetry screen, similar to this And the radio will display signal in the top right similar to this: Enter the Model screen and scroll to RF System, select the receiver, in this example we are using a Frsky Archer GR6Plus, click on the receiver type and select options. Under Telemetry port choose FBUS, and exit the screen. FBUS is the preferred method of connection. Nexus and RF Configurator In the following example the Frsky receiver is connected to Port (A) of a Nexus controller. With the supplied cables you can connect to either Port A, B or C Connect the USB-C cable to the Nexus and connect to the PC\\Laptop with the Configurator installed. The latest Rotorflight configurator can be found HERE One connected this screen will be displayed if a new Nexus is attached. This is a warning the accelerometer is not calibrated, click close and enter the main configurator page. Select SETUP on the left, hold or keep the nexus flat on the bench and click 'Calibrate Accelerometer', the top status bar will show ' Accelerometer calibration finished' Select STATUS on the left and the following page will be displayed Item 1 is showing board firmware and identification. Item 2 is showing battery connection info - At this stage the main battery is not connected. Item 3 is showing the Nexus firmware version and the RF Configurator version. Configurator Initial Setup Select Configuration on the left The screen is described as: Enter your craft nameEnable Accelerometer, Barometer and CMSSet Port (A) or your assigned receiver port to Serial Rx By default the Nexus is setup to be installed horizontal servo pins facing towards the front, if the pins are facing to the rear of the heli enter 180 in the Yaw Degree's box. Click Save and reboot Enter the Receiver tab and select the options as per this view. Under telemetry enable these options Save and Reboot, please ensure your transmitter is switched on and connected to your receiver Return to the receiver tab, you should now see the channel bars moving when the TX joysticks are moved. If not either the TX\\RX are not bound or a step above has been missed.","keywords":"","version":"2.1.0"},{"title":"Futaba example","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-futaba/futaba-setup","content":"","keywords":"","version":"2.1.0"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/setup/radio-setup/radio-setup-futaba/futaba-setup#wiring","content":" The simplest is to use a male to male servo lead to connect from the SBUS port on the FBL to the SBUS2 port on your receiver.    ","version":"2.1.0","tagName":"h2"},{"title":"Configure the FC‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/setup/radio-setup/radio-setup-futaba/futaba-setup#configure-the-fc","content":" Next steps are to configure the fbl to receive the SBUS2 signal.  ","version":"2.1.0","tagName":"h2"},{"title":"Setup UART ports‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/setup/radio-setup/radio-setup-futaba/futaba-setup#setup-uart-ports","content":" Set the SBUS port to be used for serial rx communication    ","version":"2.1.0","tagName":"h3"},{"title":"Setup Receiver‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/setup/radio-setup/radio-setup-futaba/futaba-setup#setup-receiver","content":" Then visit the receiver page and configure as follows    ","version":"2.1.0","tagName":"h3"},{"title":"Setup Radio‚Äã","type":1,"pageTitle":"Futaba example","url":"/docs/setup/radio-setup/radio-setup-futaba/futaba-setup#setup-radio","content":" On the Linkage Menu -&gt; System Type page, make sure you are using a protocol that supports telemetry, like T-FHSS or FASSTest 18ch and that telemetry is enabled.  Once you have activated telemetry, you have to configure the list of sensors in the Linkage Menu -&gt; Sensor page. The slot assignment and sesor types are important, otherwise your radio won't display the telemetry information correctly. Follow the assignment map and example bellow:      Once your sensors are configured correctly, you should be able to customize your telemetry screen to include the data you want. ","version":"2.1.0","tagName":"h3"},{"title":"Jeti example","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup","content":"","keywords":"","version":"2.1.0"},{"title":"Wiring‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#wiring","content":" The simplest is to use a male to male servo lead to connect from the SBUS port on the FBL to the E1 port on your receiver.    ","version":"2.1.0","tagName":"h2"},{"title":"Transmitter Setup‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#transmitter-setup","content":" Once your receiver has been bound to the radio; visit the device explorer page.    ","version":"2.1.0","tagName":"h2"},{"title":"Select Receiver type‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#select-receiver-type","content":" Select the receiver    ","version":"2.1.0","tagName":"h3"},{"title":"Set alternate pin‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#set-alternate-pin","content":" Select the alternative pin configuration    ","version":"2.1.0","tagName":"h3"},{"title":"Select ExBus pin‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#select-exbus-pin","content":" Set the pin to use the ExBus protocol    ","version":"2.1.0","tagName":"h3"},{"title":"Configure the FC‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#configure-the-fc","content":" Next steps are to configure the fbl to receive the Exbus signal.  ","version":"2.1.0","tagName":"h2"},{"title":"Setup UART ports‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#setup-uart-ports","content":" Set the SBUS port to be used for serial rx communication    ","version":"2.1.0","tagName":"h3"},{"title":"Setup Receiver‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#setup-receiver","content":" Then visit the receiver page and configure as follows    ","version":"2.1.0","tagName":"h3"},{"title":"Check sensors‚Äã","type":1,"pageTitle":"Jeti example","url":"/docs/setup/radio-setup/radio-setup-jeti/jeti-setup#check-sensors","content":" You should now have a control link and telemetry with all the sensors available on your radio.   ","version":"2.1.0","tagName":"h3"},{"title":"Other Transmitters","type":0,"sectionRef":"#","url":"/docs/setup/radio-setup/radio-setup-others/others","content":"","keywords":"","version":"2.1.0"},{"title":"Coming Soon‚Äã","type":1,"pageTitle":"Other Transmitters","url":"/docs/setup/radio-setup/radio-setup-others/others#coming-soon","content":"","version":"2.1.0","tagName":"h2"},{"title":"RPM Filters","type":0,"sectionRef":"#","url":"/docs/setup/rpm-filters","content":"","keywords":"","version":"2.1.0"},{"title":"Introduction‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/setup/rpm-filters#introduction","content":" RPM filters clean up the gyro signals by filtering out vibrations that are coming from the rotating parts in a helicopter: the main rotor, tail rotor and motor(s).  The difference between an unfiltered and filtered signal is significant. Here's an example of filtered and unfiltered gyro signals:    RPM filtered gyro signals enable you to tune the helicopter better, for example by being able to use higher gains.  The RPM filters require real time motor speed information to be available to the flight controller. This can be obtained with a Frequency Sensor or by using Bidirectional DSHOT.  Once the FC knows the motor speed, it can calculate the main and tail rotor speeds. For this it needs to know the Main Rotor Gear Ratio and the Tail Rotor Gear Ratio, which you can specify in the Motors tab.  For example, here are the ratios for my Gaui X3.    note Direct drive motors have a ratio of 1:1.  In order to use RPM filters, proceed to the Gyro tab, and enable the filters as shown below.  ","version":"2.1.0","tagName":"h2"},{"title":"Basic RPM Filters Settings‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/setup/rpm-filters#basic-rpm-filters-settings","content":" These settings should be ok for a first flight.      Filters introduce latency. More filters mean more latency. So try to keep the number of filters low.  Double filters provide heavier filtering than single filters, but are also slower. They are sometimes needed on the 1st and/or 2nd harmonic.  tip The Q factor defines how wide the filter is: Lower Q values make the filter widerHigher Q values make the filter smaller  Wider filters are slower than narrow filters, so try to make the filters as small as possible without it being ineffective.  ","version":"2.1.0","tagName":"h2"},{"title":"Filter Tuning‚Äã","type":1,"pageTitle":"RPM Filters","url":"/docs/setup/rpm-filters#filter-tuning","content":" Make a blackbox log of a short flight with constant headspeed. Scroll to the point where the heli has spooled up and is hovering. Mark that point with the I key. Scroll near the end and mark that with the O key. Now bring up the Analyzer Display and enlarge it. It might look like:    This log was made with only a double fundamental filter. As you can see there's some noise around 144Hz. Since the headspeed is 4200 RPM, that must be near the second harmonic (4200/60 = 70*2 = 140Hz). Also note that the gyro signal in the background is also a bit noisy.  Now let's add some single filters for the 2nd (140Hz) and 3rd (210Hz) harmonic. Suddenly the log looks a lot cleaner:   ","version":"2.1.0","tagName":"h2"},{"title":"RPM Measurement","type":0,"sectionRef":"#","url":"/docs/setup/rpm-measurement","content":"RPM Measurement In order to use the Governor or RPM filters (and why wouldn't you!!) you must measure the RPM. There are two options for this: RPM sensorBi-directional D-shot info RPM can sometimes also be read via ESC telemetry. However, this is at a refresh frequency that is too slow to be used for filtering of governing. caution RPM filtering is used to remove frequencies related to the rotating components. This allows a much higher tune; HOWEVER!! If the helicopter is flown in an OverSpeed condition the rotation of the one way bearing means that the RPM measurement will not be correct. If the helicopter is tuned too critically this could mean the helicopter could become out of tune resulting in unwanted oscillations. note RPM SensorBi-directional D-shot Frequency Sensor‚Äã Typically it is used when the RPM is not available via ESC telemetry. Only BLHeli_32, some BLHeli_S and APD F3 ESCs support Dshot/KISS telemetry, so this feature is needed with a wide range of traditional ESCs. The RPM signal is used in multiple places in the FC, e.g. in the PID control, the governor and the RPM-filter. If these features are not needed, then there is no need for the frequency sensor either. An electrical frequency signal is provided by some ESCs, e.g. Hobbywing with the &quot;yellow&quot; wire. Or it can come from an RPM sensor, which is converting the motor three-phase voltages into a frequency signal - e.g. Hobbywing RPM sensor. Please refer to your ESC's or sensor's manuals how to connect them correctly. Note about the Hobbywing RPM sensor: it's safest to power it with 3.3V, as the input voltage of the sensor is also the output voltage of the RPM signal it generates. All inputs on a STM32 MCU tolerate 3.3V, and some will also accept 5V. But if you're using a 8.4V BEC to power the sensor, you'll likely damage the MCU. Up to two frequency sensors are supported, for acquiring motor #1 and motor #2 speed. If both Frequency Sensor and telemetry RPM signals are available, the Frequency Sensor has precedence. Connection‚Äã Plug the ESC RPM wire (often yellow wire) or separate RPM sensor (Hobbywing RPM etc) into the FC RPM input. Configuration‚Äã Then the frequency sensor can be turned ON with the feature flag located on the Motors tab.","keywords":"","version":"2.1.0"},{"title":"Mixer Setup and Calibration","type":0,"sectionRef":"#","url":"/docs/setup/setup-mixer","content":"","keywords":"","version":"2.1.0"},{"title":"Set mixer type‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/setup/setup-mixer#set-mixer-type","content":" Choose the Swashplate type to suit your helicopter swash arrangement.Choose the Main rotor direction. Generally this is clockwise however some scale helicopters are anticlockwise.Check Control directions. With the transmitter on and servos powered. Command a roll to the right on the Tx. Check the swash rolls right. Reverse direction is required.Command the elevator to pitch forward on the Tx. Check the swash pitches forward. Reverse direction is required.Increase collective on the Tx. Check collective angle also increases. Reverse direction is required.    ","version":"2.1.0","tagName":"h2"},{"title":"Calibrating The mixer‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/setup/setup-mixer#calibrating-the-mixer","content":" note The purpose of the mixer calibration is to set the helicopters physical blade angle to the angle commanded by the FC  ","version":"2.1.0","tagName":"h2"},{"title":"Mixer override‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/setup/setup-mixer#mixer-override","content":" Set the mixer override at the bottom of the pages to ON. This will open the override window.    ","version":"2.1.0","tagName":"h3"},{"title":"Level the swashplate and blade pitch to zero‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/setup/setup-mixer#level-the-swashplate-and-blade-pitch-to-zero","content":" With the Mixer override enabled and all set to 0 degrees as above (servo arms should be at 90 deg).Trim the swashplate to level using the ball links.  note If the link arms are not adjustable then use the Roll trim and Pitch trim as required.  Adjust the upper link arms to zero the blade pitch. If the link arms are not adjustable use the Collective trim to zero.    ","version":"2.1.0","tagName":"h3"},{"title":"Collective Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/setup/setup-mixer#collective-calibration","content":" Confirm with a blade pitch tool that with collective mixer at 0 deg the blades are also at 0 deg.Set the collective mixer override to 9 deg. Measure the blade angle.If the Blade angle is different from the Override angle, increase or decrease Collective Calibration % until the bade angle matches.Set collective back to 0 deg.  ","version":"2.1.0","tagName":"h3"},{"title":"Cyclic Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/setup/setup-mixer#cyclic-calibration","content":" Set the pitch override to 9 deg.Measure the blade pitchIncrease or decrease the Cyclic Calibration %  ","version":"2.1.0","tagName":"h3"},{"title":"Variable Pitch Yaw Calibration‚Äã","type":1,"pageTitle":"Mixer Setup and Calibration","url":"/docs/setup/setup-mixer#variable-pitch-yaw-calibration","content":" Set YAW override to 0 deg.Adjust the push rod length so that the rear tail L arm is 90¬∞.If this does not give 0¬∞ blade pitch, adjust Center trim until you have 0¬∞ blade pitch.Set mixer yaw override to 30deg CW/CCW, adjust Yaw Calibration % until you have around 30deg both ways.Set mixer yaw override to 60deg CW/CCW, adjust CW / CCW blade angle limits to the maximum number that does not causing binding.  note The calibration and CW / CCW limits vs. blade pitch is never perfect, because of the geometry asymmetry. It does not matter.The reason for doing the calibration is to make the PID defaults better. Without the calibration, all defaults in PID Profile are probably wrong.The Centre trim is mostly needed for making the CW/CCW blade angle limit numbers to match the blade angles. It also helps the feedforwards to work correctly. ","version":"2.1.0","tagName":"h3"},{"title":"Remapping (for DIY boards)","type":0,"sectionRef":"#","url":"/docs/setup/remapping","content":"","keywords":"","version":"2.1.0"},{"title":"Key concepts‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/setup/remapping#key-concepts","content":" Before you start remapping your drone FC to be used with Rotorflight, keep in mind the following.  1- Although it is not necessary, but it is advised to keep your cyclic servos on the same Timer.  2- If you wish to use a narrow band tail servo, then assign that servo to separate timer.  3- Main motor esc output should on a separate timer.  4- In case you are using a PWM controlled esc then Rotorflight will require an rpm signal for governor and RPM Filtering, RPM input should be on a 32bit separate timer (TIM2 or TIM5).    ","version":"2.1.0","tagName":"h2"},{"title":"Custom defaults remapping spreadsheet‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/setup/remapping#custom-defaults-remapping-spreadsheet","content":" Spreadsheet for remapping Betaflight targets for use with Rotorflight. The spreadsheet re-allocates features for motors and servos and configures associated timers and dma.  Please 'make a copy'.  Rotorflight remapping spreadsheet v1.4.1  Rotorflight remapping spreadsheet v2.0  ","version":"2.1.0","tagName":"h2"},{"title":"Rotorflight Hardware config and remapping video‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/setup/remapping#rotorflight-hardware-config-and-remapping-video","content":"   ","version":"2.1.0","tagName":"h2"},{"title":"Importing new targets‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/setup/remapping#importing-new-targets","content":" Some targets in the betaflight target repository have additional #define lines above board_name. Please do not chose them. In the example below copy only from board_name down. The Board_name MUST be the first line in the spreadsheet.    ","version":"2.1.0","tagName":"h2"},{"title":"Configuring a Motor output‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/setup/remapping#configuring-a-motor-output","content":" ","version":"2.1.0","tagName":"h2"},{"title":"Configuring a Frequency input‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/setup/remapping#configuring-a-frequency-input","content":" The frequency input pin must be connected to a timer with exclusive access. In other words, there must be a free timer, not used by anything else, and one of its positive channels must be available on a pin that is connected to the FC's solder pads. Negative channels, like CH3N, can't be used as inputs. Once we know which timer and pin we can use, it can be configured for frequency sensor use.  note We recommend that Freq inputs are allocated to pins that have Timer 2 or Timer 5 available. If 2 Freq inputs are required (e.g. Motorized tail) then both inputs can share the same timer. In the remapping spreadsheet these pins are indicated by the green box marked Freq.  In this example, we have chosen to use the LED_STRIP pin as our frequency input. We see there is only one option (Timer1) on AF1. We can use this pin but must not allocate any of the Servos or Motors to Timer1. Only the motor pins share this timer so we can choose either AF2 (timer3) or AF3 (timer8).    ","version":"2.1.0","tagName":"h2"},{"title":"The lines which configure the frequency signal‚Äã","type":1,"pageTitle":"Remapping (for DIY boards)","url":"/docs/setup/remapping#the-lines-which-configure-the-frequency-signal","content":" resource LED_STRIP 1 NONE resource Freq 1 A09 timer A09 AF1 # Freq - pin A09: TIM1 CH2 (AF1) dma pin A09 0 # Freq - 0: DMA2 Stream 6 Channel 0  ","version":"2.1.0","tagName":"h3"},{"title":"Servo Setup and Calibration","type":0,"sectionRef":"#","url":"/docs/setup/setup-servos","content":"","keywords":"","version":"2.1.0"},{"title":"Step 1 - set frequency and center‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/setup/setup-servos#step-1---set-frequency-and-center","content":" DO NOT CONNECT THE SERVOS YET!Confirm and set the servo center to your servo manufacturers recommendation. For Cyclic this will usually be 1520us, and for Tail it would be 760us.If a servo's center is 760us, make sure to change the min/max to -350/350 instead of -700/700, and pos/neg scales to 250 instead of 500.Confirm and set the servo rate as specified by your manufacturer. For many digital cyclic servos this is 333Hz and for most tail servos this is 560Hz.  ","version":"2.1.0","tagName":"h3"},{"title":"Step 2 - Set servo directions‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/setup/setup-servos#step-2---set-servo-directions","content":" Connect the servos.Set Servo override to ON.Fit servo arms to as close to 90 degrees as possible.Slide Servo 1 override in the positive direction (i.e. right).Confirm the servo arm travels upwards towards the swashplate. If not toggle the servo reverse.  Repeat with remaining cyclic servos.    ","version":"2.1.0","tagName":"h3"},{"title":"Step 3 - set arms at 90 degrees‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/setup/setup-servos#step-3---set-arms-at-90-degrees","content":" Set each of the override sliders to 0 degrees.Adjust center to level the servo arm (0¬∞ or 90¬∞ depending on servo installation orientation). One quick way is to slide the override bar and copy the output value from the blue bar into the center and press save. Make sure to reset the override to see the correct effect.  Repeat with remaining cyclic servos.    ","version":"2.1.0","tagName":"h3"},{"title":"Step 5 - calibrate range (Optional - recommended)‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/setup/setup-servos#step-5---calibrate-range-optional---recommended","content":" The purpose of servo calibration is so the FC is able to more accurately control its mechanical movements. Not all servos are the same. Sometimes identical servos can have several degrees of difference for the same output. Calibrating the servos can enable each servo to move by the same amount when commanded. Calibration is also required if using the Geometric Correction function.  Set the override to a positive value (e.g. 30¬∞)measure the current servo arm angle and increase or decrease the Scale Pos until the servo arm angle matches the override angle.    ","version":"2.1.0","tagName":"h3"},{"title":"Step 4 - set final limits (Usually Not Required)‚Äã","type":1,"pageTitle":"Servo Setup and Calibration","url":"/docs/setup/setup-servos#step-4---set-final-limits-usually-not-required","content":" With the servos installed in the helicopter, adjust Min/Max so that the arm &amp; ball won't hit anything in the heli frame (servo override @ 80¬∞ / -80¬∞).  Repeat with remaining cyclic/tail servos. ","version":"2.1.0","tagName":"h3"},{"title":"Swashplate Wiggle","type":0,"sectionRef":"#","url":"/docs/setup/swash-wiggle","content":"","keywords":"","version":"2.1.0"},{"title":"FC is ready to Arm‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/setup/swash-wiggle#fc-is-ready-to-arm","content":" If arming is ready to be enabled and there is no prevention flags active (ready to arm) the swashplate will wiggle as an indication. It can be enabled or disabled from the cli: set wiggle_enable_ready = ON or OFF (default ON) save    ","version":"2.1.0","tagName":"h2"},{"title":"FC Armed‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/setup/swash-wiggle#fc-armed","content":" This is just a very brief single collective movement indicating the FC has just armed. This is disabled by default. It can be enabled or disabled from the cli: set wiggle_enable_armed = ON or OFF (default OFF) save  ","version":"2.1.0","tagName":"h2"},{"title":"FC Error‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/setup/swash-wiggle#fc-error","content":" If the flight controller identifies a configuration fault it will do an error movement by cycling collective several times.  Arm switch is active It can be enabled or disabled from the cli: set wiggle_enable_error = ON or OFF (default ON) save  ","version":"2.1.0","tagName":"h2"},{"title":"FC Fatal error‚Äã","type":1,"pageTitle":"Swashplate Wiggle","url":"/docs/setup/swash-wiggle#fc-fatal-error","content":" The following Arm disable flags will trigger a FC fatal error. It can be enabled or disabled from the cli: set wiggle_enable_fatal = ON or OFF (default ON) save  'NOGYRO''LOAD''GOVERNOR''RPMFILTER''REBOOT_REQD''NO_ACC_CAL''MOTOR_PROTO''DSHOT_BBANG'  The 'amount' (strength) of wiggle and 'speed' (frequency) can be modified by changing the values below. set wiggle_strength = 50 set wiggle_frequency = 10 ","version":"2.1.0","tagName":"h2"},{"title":"Cyclic Cross Coupling","type":0,"sectionRef":"#","url":"/docs/Tuning/Cyclic-Cross-Coupling","content":"","keywords":"","version":"2.1.0"},{"title":"What is it?‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/Tuning/Cyclic-Cross-Coupling#what-is-it","content":" During ticktocks, one might observe that the center of the main rotor rotates during stops. Another scenario is during hover, one can shake the elevator stick and observe a tilt in the roll axis and a significant drift in the yaw axis. These are both the symptoms of uncompensated cyclic cross coupling.  Cyclic cross coupling happens mainly due to the pitch axis inputs. When the pitch command is given, due to the high moment of inertia of the helicopter in the pitch axis, the frame would &quot;lag&quot; behind the rotor disks. This difference in position creates a torque on the rotor blade and thus transfer to the roll axis due to gyroscopic precession.  The cross coupling compensation simply take a derivative on the pitch SETPOINT and add it proportionally to the roll axis. This effectively pre-load the roll axis with a input command so that when the above scenario happens, the two effects cancel each other.  ","version":"2.1.0","tagName":"h2"},{"title":"How to tune it?‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/Tuning/Cyclic-Cross-Coupling#how-to-tune-it","content":" Start with a low value and increase when there's no significant coupling is observed or when there is a diminishing return. You might also want to try piroflips because cross-coupling gain changes the corresponding commands at different orientations during piroflips. Try increase the gain slowly so you can get used to the feeling.  From experience, the harder the main rotor dampener is, the lower cross coupling gain is required.  ","version":"2.1.0","tagName":"h2"},{"title":"(Advanced Topic) Constant Cross Coupling‚Äã","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/Tuning/Cyclic-Cross-Coupling#advanced-topic-constant-cross-coupling","content":" The above cross coupling only happens at the moment of pitch (could also be a little bit of roll) input. However, there could be another scenario that a constant cross-coupling might occur. If the main blade flap axis is not centered at the middle commonly due to very hard dampeners, very low headspeed, or rotorhead designs, a constant cross coupling might occur because the phase lag of the rotor blade is no longer perfectly 90deg. In this case, you might want to consider adjusting the phase angle in the Mixer page. Usually a +2 to +10 deg would be a good range to start and more testing is needed. You might also want to make sure that it is doing the right thing. For CW rotor, when pushing the elevator, the swash should tilt slightly right, and when you pull the elevator stick, the swash should tilt slightly left. ","version":"2.1.0","tagName":"h2"},{"title":"Two-Stage Gear Train Ratios","type":0,"sectionRef":"#","url":"/docs/setup/two-stage-gear-train-ratios","content":"","keywords":"","version":"2.1.0"},{"title":"SAB Style Two-Stage Gear Train‚Äã","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/setup/two-stage-gear-train-ratios#sab-style-two-stage-gear-train","content":" The SAB Goblin helis have a two-stage transmission, therefore you have double the amount of gears/pulleys, also the main tail pulley is mounted on the intermediate shaft, which make the tail ratio a little more complicated to determine.    The above pictures shows the configuration of the transmission on the SAB Raw 580, 700, Piuma, Black Thunder 700, etc.  The gears/pulleys tooth count is marked by Z, and is numbered to identify each one.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as (Z3 x Z6) and front pulley value as (Z4 x Z5).  The below table shows some gear/pulley tooth counts for some famous two-stage helicopters.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)SAB Goblin 500 Sport\t15 to 24 ( Std 18T )\t48\t18\t62\t28\t21 SAB Black Thunder 700\t18 to 25 ( Std 21T )\t60\t19\t68\t37\t26 SAB Raw 580\t18 to 26 ( Std 22T )\t50\t14\t58\t27\t23 SAB Raw 580 Nitro\t26 to 28 ( Std 26T )\t50\t14\t58\t27\t23 SAB Raw 700\t18 to 25 ( Std 21T )\t56\t18\t69\t34\t26 SAB Raw 700 Nitro\t26 to 28 ( Std 27T )\t52\t14\t58\t27\t22 SAB Raw Piuma\t18 to 26 ( Std 20T )\t52\t14\t58\t27\t22  For example for the Raw 700 with STD 21T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (21 x 18) = 378.main gear = (Z2 x Z4) = (56 x 69) = 3864.tail pulley = (Z3 x Z6) = (18 x 26) = 468.front pulley = (Z4 x Z5) = (69 x 34) = 2346.  After entering the value the ratios in the configurator motor page should look like this.    ","version":"2.1.0","tagName":"h2"},{"title":"KDS Style Two-Stage Gear Train‚Äã","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/setup/two-stage-gear-train-ratios#kds-style-two-stage-gear-train","content":" The KDS Agile helis also have a two-stage transmission, however the autorotation gear/pulley is mounted on the main shaft, thus the tail ratio calculation will be straightforward.    The above pictures shows the configuration of the transmission on the KDS Agile 5.5, 7.5, A5, and A7.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as Z5 and front pulley value as Z6.  The below table shows some gear/pulley tooth counts for these KDS helis.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)KDS Agile A5\t20 or 21 ( Std 21T )\t54\t17\t66\t54\t14 KDS Agile 7.2\t19 to 21 ( Std 19T )\t54\t20\t66\t57\t12 KDS Agile A7\t19 to 21 ( Std 20T )\t54\t20\t66\t57\t12  For example for the KDS Agile A7 with STD 20T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (20 x 20) = 400.main gear = (Z2 x Z4) = (54 x 66) = 3564.tail pulley = Z6 = 12.front pulley = Z5 = 57.  After entering the value the ratios in the configurator motor page should look like this.   ","version":"2.1.0","tagName":"h2"},{"title":"First Flight & Filter Tuning","type":0,"sectionRef":"#","url":"/docs/Tuning/First-Flight-Filter-Tuning","content":"","keywords":"","version":"2.1.0"},{"title":"Example: A Relatively Well Tuned Filter During 3D Maneuvers‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/Tuning/First-Flight-Filter-Tuning#example-a-relatively-well-tuned-filter-during-3d-maneuvers","content":" ","version":"2.1.0","tagName":"h2"},{"title":"RAW Gyro:‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/Tuning/First-Flight-Filter-Tuning#raw-gyro","content":"   ","version":"2.1.0","tagName":"h3"},{"title":"Filtered Gyro:‚Äã","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/Tuning/First-Flight-Filter-Tuning#filtered-gyro","content":"  ","version":"2.1.0","tagName":"h3"},{"title":"Using Stability Modes (6G)","type":0,"sectionRef":"#","url":"/docs/setup/using-stability-modes-example","content":"","keywords":"","version":"2.1.0"},{"title":"Purpose‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/setup/using-stability-modes-example#purpose","content":" info 6G modes provide self stabilization/leveling of the helicopter when the sticks are moved to the centre. This is the opposite to the standard Acro mode (used for aerobatics and 3D) which will not self level after sticks are centered and thus is inherently unstable. These modes are generally used for beginners or those wanting more of a drone feel to their helicopter. 6G modes do not provide position fixing as found with GPS systems so the heli will drift around in the wind.  ","version":"2.1.0","tagName":"h2"},{"title":"Aim‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/setup/using-stability-modes-example#aim","content":" In this example we will configure a 3 position switch (SwC) to select between Stability modes. With the SwC fully down we will have Acro mode, SwC in the centre will be Horizon Mode and in the fully up position we will enable Angle mode.  ","version":"2.1.0","tagName":"h2"},{"title":"Configure the Tx‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/setup/using-stability-modes-example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwC) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch8 to the SwC in the Mixers tab    ","version":"2.1.0","tagName":"h3"},{"title":"Configure flight controller‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/setup/using-stability-modes-example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux3 is the eight channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux3,    Step 3:  Go to the Modes tab. Disable hide unused modes if nothing is visible.Chose the Horizon Mode. Enter AUX3 in the channel and adjust the range to cover the middle section of the control channel as shown in the picture below.Chose the Angle Mode. Enter Aux3 in the channel and adjust the range to cover the top section of the control range as shown in the pic below.    Step 4: Test and confirm the switch position enables and disables modes as required These values are added to the Profile so will result in (e.g. SwC down = No mode active = Acro, SwC middle = Horizon Mode, SwC up = Angle Mode).    ","version":"2.1.0","tagName":"h3"},{"title":"Calibrating stability modes‚Äã","type":1,"pageTitle":"Using Stability Modes (6G)","url":"/docs/setup/using-stability-modes-example#calibrating-stability-modes","content":" ## Warning ## - do not use your transmitter trims!!‚Äã  Your Roll, Pitch and Yaw should all be trimmed to the stick centre configured in the receiver tab. This will be 1500 or 1520 depending on your radio.  Stability modes will try to stabilize to the calibrated flight controller level. This is rarely perfectly aligned with the actual helicopters attitude where there is no drift (least drift... there will always be some due to wind etc). In order to calibrate this in-flight we have 2 methods:  Using the Rotorflight Lua ScriptsStick controls  Note that it's also possible to adjust accelerometer trim values in the Configuration tab of the Configurator.  Calibration using Lua Scripts‚Äã  Select Accelerometer Trims from the Rotorflight main menu. Test fly the heli tail-in in either Angle or Horizon mode, with sticks at centre. If the heli drifts left, increase roll trim. If it drifts backwards, increase pitch trim. Each time you make a change to the trims long press the wheel/roller. The Page menu should now pop up. Select Save page. Adjust trims until the heli flies hands off without any pronounced drift in any direction.    Calibration using Stick Commands‚Äã  Standard 'Betaflight' stick commands work with Rotorflight. The accelerometer trims can be calibrated using these commands. To do this you must have Angle or Horizon Modes enabled.  You will also need to enable this in the CLI set enable_stick_commands = ON  Function\tCollective\tYaw\tPitch\tRollCalibrate Gyro\tLOW\tLOW\tLOW\tCENTER Calibrate Acc\tHIGH\tLOW\tLOW\tCENTER Trim Acc Left\tHIGH\tCENTER\tCENTER\tLOW Trim Acc Right\tHIGH\tCENTER\tCENTER\tHIGH Trim Acc Forwards\tHIGH\tCENTER\tHIGH\tCENTER Trim Acc Backwards\tHIGH\tCENTER\tLOW\tCENTER    For more details of the stick commands. See the Betaflight Wiki here. ","version":"2.1.0","tagName":"h3"},{"title":"High Speed Integral","type":0,"sectionRef":"#","url":"/docs/Tuning/High-Speed-Integral","content":"","keywords":"","version":"2.1.0"},{"title":"What is it?‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#what-is-it","content":" This is one of the core features of most advanced FBL systems (Vbar, CGY760R, Spirit .etc) The problem it is solving is mainly due to the difference in lift from high airspeed in the x and y directions. For example, as the helicopter is moving forward while having a constant positive collective pitch, the helicopter tends to pull up. If the collective pitch is negative, the imbalance of lift is reversed, and the heli would tend to push down. This is usually not a problem if the collective stays constant because the integral gain will compensate this constant &quot;trim&quot;. However, when changing collective while moving at a high speed (for example, fast moving side tick tocks) the heli would not move axially. It would behave in a snake shape because the I term is constantly charging and discharging in the opposite direction.  The High Speed Integral (HSI) resembles another integral term. However, its output is proportional to the collective input, which reverses when the collective is negative. This is the &quot;arching&quot; effect you might see on FBLs like a vbar, where if one tilt the helicopter at high collective, and move the collective up and down, the swash plate would resemble one side of a seesaw.  ","version":"2.1.0","tagName":"h2"},{"title":"How to tune it?‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#how-to-tune-it","content":" To properly tune the HSI, one has to be able to fly maneuvers comfortably at a relatively high speed. The best maneuver is the fast moving ticktocks. It is advised to start low (about 30) and see if there's snaking at the first few tick tocks. The higher O-gain you use, the faster it reacts to high speed, meaning the amount of time ticktock becomes axial is lowered. Ideally, the O-gain should be just high enough to have no snaking. Too high might result in bobbling during stationary tick tocks because it is essentially an I gain at constant collective.  ","version":"2.1.0","tagName":"h2"},{"title":"(Advanced Topic) Tick tock Optimization‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#advanced-topic-tick-tock-optimization","content":" The problem of naively implementing the HSI is repeated maneuvers like tick tocks. The HSI works the best when the heli needs reversed &quot;trim&quot; when collective is reversed. However, there is another scenario that this could happen: during ticktocks. Assume there's some error that reverses at each stops of the ticktocks, then the HSI would tend to charge up little by little at each end, resulting unwanted bobbling right after each collective change.  Currently, there seems to be three ways to solve this problem. The simplest way is to not deal with the problem at all and use a very fast I-term decay on the normal integral gain to &quot;soothe&quot; the effect. However, the fast I-term decay creates significant drifting problem in other scenarios, making the heli less predictable.  A much more sophisticated way to deal with this issue. From behavior of the pilots, we know that when the cyclic inputs are high, there's a very low chance that the heli would keep the same airspeed at the input direction. Therefore, the HSI would be added to the normal I term (in the input direction) at some cyclic threshold. This preserves the HSI in the orthogonal direction but &quot;deletes&quot; them in the parallel direction.  RF2 follows the previous logic. However, instead of &quot;deleting&quot; the HSI, it &quot;decays&quot; HSI in a set speed (dictated by the offset_bleed_rate_curve and offset_bleed_limit_curve parameter) into the normal-I. Therefore, a extremely fast impulse on the stick would not result in a complete deletion of the HSI.  ","version":"2.1.0","tagName":"h2"},{"title":"(Advanced Topic) HSI Charging Rate‚Äã","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#advanced-topic-hsi-charging-rate","content":" Another problem with HSI is that it behaves like integral gain at constant collective with higher collective having a higher &quot;equivalent I-gain.&quot; This problem could affect the PID balance greatly especially at high collectives. One way to solve this problem is to lower the HSI charging rate at high collective (offset_charge_curve). It effetely lowers the equivalent I-gain at high collective which helps maintain the PID balance. However, the adverse effect is that this assumes no significant airspeed change when collective is high, which in some extreme cases might not be true. Also, snaking might occur if one prefer to use high collective during fast moving ticktocks. Therefore, it is advised to have the charge rate as high as possible at high collective to minimize the effect. ","version":"2.1.0","tagName":"h2"},{"title":"Rescue mode settings","type":0,"sectionRef":"#","url":"/docs/Tuning/Rescue-mode-settings","content":"Rescue mode settings","keywords":"","version":"2.1.0"},{"title":"Motorised Tail and TTA","type":0,"sectionRef":"#","url":"/docs/Tuning/Motorised-Tail-and-TTA","content":"Motorised Tail and TTA info Torque Tail Assist (TTA) - This is a feature used for helicopters with motorised tails. A motorised tail can provide high control authority in one direction. In the other it is greatly reduced as the motor can only turn in one direction. TTA is used to add control authority in the other direction. It does this by rapidly accelerating the main motor. This acceleration provides torque in the opposite direction to the tail motor. Tuning TTA is best performed by pushing your heli into a flight envelope in which you loose tail authority. A simple flight pattern is to fly backwards as fast as possible.. with the tail going into the wind. If you notice the heli suddenly doing a sharp rotation.. sometimes up to 180 degrees; then your TTA needs to be higher. Simply raise the value in increments of 10 until the problem starts to go away. Sometimes you will find that your heli will be find with flying backwards; but flip out in aggressive manoeuvres. For example a 'tail slide' or 'backwards loop' will trigger it. As above.. raise the gain until the issue is largely mitigated. Note. Its possible you will never 100% clear the swing that can occur. The original 'OMP M2' for example will still show the issue at times with even the maximum TTA gain. In the end the issue is that the main motor is not beefy enough to provide enough torque to control the swing that can occasionally occur.","keywords":"","version":"2.1.0"},{"title":"Tune Feedforward","type":0,"sectionRef":"#","url":"/docs/Tuning/Tune-Feedforward","content":"","keywords":"","version":"2.1.0"},{"title":"Steps‚Äã","type":1,"pageTitle":"Tune Feedforward","url":"/docs/Tuning/Tune-Feedforward#steps","content":" If it is the first time, make sure to start low (usually &lt; =100 on the cyclic and 0 on the tail)Do continuous flips, rolls, or pirouetting.Stop the flip/roll or piro, observe the stopping behaviorIf the heli does not stop cleanly and kept moving a little bit, increase the FF gain on its corresponding axisIf the heli stops but bounces back, decrease the FF gain on the corresponding axis  IMPORTANT NOTICE: This parameter is NOT designed to tune the response of the helicopter. DO NOT use it to change how fast the heli reacts to inputs. If you want a sharper reaction, please increase the B(oost)-gain ","version":"2.1.0","tagName":"h2"},{"title":"Tune the Governor","type":0,"sectionRef":"#","url":"/docs/Tuning/Tune-Governor","content":"","keywords":"","version":"2.1.0"},{"title":"Preparation‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#preparation","content":" If you're using TTA, disable it by setting TTA gain to 0 on the Profiles tab. You can enable it again once you're done tuning the governor.Set Blackbox debug mode to Governor and Blackbox logging rate to 1kHz on the Blackbox tab.Start with governor P-gain and I-gain really low, e.g. 10 for P and 20 for I. Spool up might now take a bit longer.  ","version":"2.1.0","tagName":"h2"},{"title":"Tuning steps‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#tuning-steps","content":" When you're using the Rotorflight Lua scripts, you can change all gain values on the field. My routine is to make logs of 3 or 4 different values around the default value for one specific gain. Example: the governor F-gain has a default value of 15, so try 10, 15, 20 and 25. Start with 10, do some pitch pumps (give it full collective for a short period of time) and disarm. Change the value to 15 and save, arm, do some pitch pumps, and so on. The result will be one log file with 4 partial logs, which you can select with the dropdown in the upper-right corner of the Blackbox Explorer. Then look in the Blackbox Explorer to see what gain value works best. If you think you might need higher or lower values for a specific gain, make a new log with adjusted values.  Try increments of 10 for the F-gain, increments of 25 for the I-gain and increments of 10 for the P-gain.  ","version":"2.1.0","tagName":"h2"},{"title":"Tuning your Helicopter","type":0,"sectionRef":"#","url":"/docs/Tuning/Tuning-description","content":"","keywords":"","version":"2.1.0"},{"title":"Tuning Profile PID:‚Äã","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/Tuning/Tuning-description#tuning-profile-pid","content":"   caution Please start by confirming your filters are working correctly before you increase your tuning parameters. If you do not have filters enabled it is particularly important that you do not use Derivative. This can result in hot Motors and Servos.  note What do we mean &quot;wobble&quot;?? When tuning parameters are too high the helicopter will wobble or shake during some movements. Each time we increase a tuning value we need to test fly and see if the new setting is too high. Test this in the following way: Beginner: Tap the stick and see if it shakes/shudders/wobblesAverage: Do some flips with sudden stops, try going fast and tapping the stick, do some TictocsAdvanced: Do crazy high speed high rate stuff that makes the FC sweat and see if it freaks out üòú. Please also see the General Guidelines below for more specific descriptions‚Äã  Increase Derivative (D) on each axis individually, (roll, pitch, yaw) until it wobbles, then back off a bit. (remember!! don't do this if your filters are not working). Increase Proportional (P) on each axis individually, until it wobbles, then back off a bit. Increase Integral (I) on each axis individually, until it wobbles, then back off a bit. Set Feedforward so that you get good response and Integral (I) remains near 0 in full stick flips and rolls (viewed using the blackbox logs). Feedforward can also be tuned by following the description in Tune Feedforward. If necessary, then tweak P:D ratio to tweak stick response damping to your liking. Increase HSI until it wobbles when jabbing elevator at full collective, back off a bit.    Increase Boost (B) if you want sharper/faster response.  ","version":"2.1.0","tagName":"h2"},{"title":"General Guidelines‚Äã","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/Tuning/Tuning-description#general-guidelines","content":" The higher the gains are, the better the heli response to inputs, the more &quot;locked in&quot; heli feels.The pitch axis is the most difficult axis to tune. It is advised to start here.The roll axis is the easiest. Many different gains works on the roll axis. It is advised to tune last.D-gain dampens oscillations caused by P, P-gain dampens oscillations caused by I.I-oscillation are very slow (0.5-1Hz) while P and D oscillations are fast (5-8Hz).If there is I-oscillation, one could lower the I-gain or raise the P-gain.The best maneuver to see I-oscillation is to pirouetting long pitch pumps. If the heli does not stop clean and has a large shake, it is either I-gain being too high or P-gain being too low.It is possible to use the same I-gain on pitch and roll axis.Check tick-tock stops to see if P and D are too high by observing the fast oscillations. If oscillations are mainly slow, I-gain might be too high.The B-gain should be increased incrementally to fit how sharp the response you want. Usually only pitch needs a significant B-gain.Too high on B-gain results in unwanted oscillations at stops if low B-gain did not cause it.One could also experiment the I-relax to tune out the I-oscillations at stops. Lower number means stronger relax. Notice that a extremely low number might make the helicopter feel unpredictable. Low number also hide gain imbalance that could show up during high-demand maneuvers or natural occurring disturbances (like a gust of wind) ","version":"2.1.0","tagName":"h2"},{"title":"1. Tune the F-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#1-tune-the-f-gain","content":" The F-gain determines the feedforward term, together with cyclic and collective precompensation. As stated, the better the F-gain is tuned, the less the PID-loop has to correct. Here's an example where the F-gain is too low, since the headspeed drops quite a bit when doing pitch pumps.    If the F-gain is too high, the headspeed will be temporarily too high.    ","version":"2.1.0","tagName":"h3"},{"title":"2. Tune I-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#2-tune-i-gain","content":" After you have found and set the best value for F-gain you can increase the I-gain until it starts playing up, then reduce it with 1/3. Here you can see an I-gain value which is too high, since there are some slow oscillations during and/or after the pitch pump.    ","version":"2.1.0","tagName":"h3"},{"title":"3. Tune P-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#3-tune-p-gain","content":" After setting the optimal value for I-gain start increasing the P-gain till there are slight oscillations, then reduce it with 1/3. Here is an example of a P-gain that is clearly too high and introduces fast oscillations.    ","version":"2.1.0","tagName":"h3"},{"title":"4. Tune D-gain‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#4-tune-d-gain","content":" Unless you're flying a 500+ heli you probably won't need D, since there's hardly any momentum in the rotor.  ","version":"2.1.0","tagName":"h3"},{"title":"The result‚Äã","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#the-result","content":" This is the result of tuning a Scorpion HKII-2208 3600KV motor in a Gaui X2.    And these are the gain values found for this heli:   ","version":"2.1.0","tagName":"h2"},{"title":"Tuning examples and presets","type":0,"sectionRef":"#","url":"/docs/Tuning/tuning-examples","content":"","keywords":"","version":"2.1.0"},{"title":"How to use these presets?‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#how-to-use-these-presets","content":" There are two options for using these pre-sets.  Follow the screen shots to configure your helicopter.Load from the supplied Diff file. Please note: This method may overwright some of your previously configured settings. Please check and confirm carefully.  ","version":"2.1.0","tagName":"h2"},{"title":"OMP M4‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#omp-m4","content":" OMPHOBBY M4 Jonas Wackershauser - M4‚Äã OMPHOBBY M4View Pre-set  ","version":"2.1.0","tagName":"h2"},{"title":"OMP M4 - max‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#omp-m4---max","content":" OMPHOBBY M4 - Max Jonas Wackershauser - M4 Max‚Äã OMPHOBBY M4 MaxView Pre-set  ","version":"2.1.0","tagName":"h2"},{"title":"OMP M7‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#omp-m7","content":" OMPHOBBY M7 Jonas Wackershauser - M7‚Äã This is a high headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 light Jonas Wackershauser - M7 Light‚Äã This is a low headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 Jiawen Bao - M7‚Äã OMPHOBBY M7View Pre-set  ","version":"2.1.0","tagName":"h2"},{"title":"XLPower Nitro Nimbus‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#xlpower-nitro-nimbus","content":" XLPower Nitro Nimbus Jiawen Bao - Nitro Nimbus.‚Äã Nitro NimbusView Pre-set  ","version":"2.1.0","tagName":"h2"},{"title":"XLPower Specter Nitro‚Äã","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#xlpower-specter-nitro","content":" XLPower Specter Nitro Jiawen Bao - Specter Nitro.‚Äã Specter NitroView Pre-set ","version":"2.1.0","tagName":"h2"}],"options":{"id":"default"}}