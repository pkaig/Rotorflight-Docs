<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Manufacturers/Design-Requirements" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Design Requirements | Rotorflight</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/docs/Manufacturers/Design-Requirements"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Design Requirements | Rotorflight"><meta data-rh="true" name="description" content="This page collects the generic hardware requirements for all Flight Controller designs for Rotorflight."><meta data-rh="true" property="og:description" content="This page collects the generic hardware requirements for all Flight Controller designs for Rotorflight."><link data-rh="true" rel="icon" href="/img/rffavicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/docs/Manufacturers/Design-Requirements"><link data-rh="true" rel="alternate" href="https://github.com/docs/Manufacturers/Design-Requirements" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/docs/Manufacturers/Design-Requirements" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Rotorflight RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Rotorflight Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/announcement/rss.xml" title="Rotorflight RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/announcement/atom.xml" title="Rotorflight Atom Feed"><link rel="stylesheet" href="/assets/css/styles.f78d3ffc.css">
<script src="/assets/js/runtime~main.41f5f675.js" defer="defer"></script>
<script src="/assets/js/main.4e81d771.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#007cc7;color:#000000" role="banner"><div class="content_knG7 announcementBarContent_xLdY">ROTORFLIGHT 2 Official Release 2.0.0 is now available. See Announcements to download</div></div><div class="rfNavbar navbar--fixed-top"><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Rotorflight_outline.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Rotorflight_outline_dark.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Rotorflight</b></a><a class="navbar__item navbar__link" href="/announcement">Announcements</a><a class="navbar__item navbar__link" href="/docs/Tutorial-Quickstart/Introduction">Tutorial</a><a class="navbar__item navbar__link" href="/docs/Controllers/intro">Controllers</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Manufacturers/intro">Manufacturers</a><a class="navbar__item navbar__link" href="/docs/Tuning/First-Flight-Filter-Tuning">Tuning</a><a class="navbar__item navbar__link" href="/docs/Contributing/intro">Contributing</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://paypal.me/rotorflightfc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PayPal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/rotorflight" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_MW0i colorModeToggle_DEke"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_SFTY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_ekgs"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/Manufacturers/intro">Manufacturers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Manufacturers/intro">Manufacturers Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Manufacturers/Developers">Manufacturers stuff?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Manufacturers/Design-Requirements">Design Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Manufacturers/Reference-Design">Reference Design</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Manufacturers</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Design Requirements</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Design Requirements</h1>
<p>This page collects the generic hardware requirements for all Flight Controller designs for Rotorflight.</p>
<p>The actual Reference Designs for Rotorflight-2 can be found <a href="/docs/Manufacturers/Reference-Design">here</a>.</p>
<p><strong>For an FC to be fully supported by Rotorflight-2 (RF2), it must follow one of the Reference Designs.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a class="hash-link" aria-label="Direct link to General" title="Direct link to General" href="/docs/Manufacturers/Design-Requirements#general">​</a></h2>
<p>Rotorflight is based on Betaflight, and thus has the same basic requirements for the hardware.</p>
<p>Please read the Design Guidelines for <a href="https://github.com/betaflight/betaflight/blob/4.4.0-RC5/docs/Manufacturer%20Design%20Guidelines.md" target="_blank" rel="noopener noreferrer">Betaflight</a>
first.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a class="hash-link" aria-label="Direct link to Features" title="Direct link to Features" href="/docs/Manufacturers/Design-Requirements#features">​</a></h2>
<p>The following features and peripherals are mandatory:</p>
<ul>
<li>Gyroscope &amp; Accelerometer</li>
<li>Barometer</li>
<li>Blackbox (flash chip or SD card)</li>
<li>Indicator LEDs (Power, GPIO)</li>
<li>DFU button</li>
<li>USB socket</li>
<li>Regulated +5V for external devices (RPM sensor, GPS, Compass, LED strips, etc.)</li>
<li>Voltage sensor (ADC) for Vx and +5V</li>
</ul>
<p>Optional peripherals and features:</p>
<ul>
<li>Voltage sensor (ADC) for main battery (Vbat)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gyroscope--accelerometer">Gyroscope &amp; Accelerometer<a class="hash-link" aria-label="Direct link to Gyroscope &amp; Accelerometer" title="Direct link to Gyroscope &amp; Accelerometer" href="/docs/Manufacturers/Design-Requirements#gyroscope--accelerometer">​</a></h3>
<p>The supported gyro&amp;acc chips are:</p>
<ul>
<li>BMI270</li>
<li>ICM42688P</li>
<li><del>ICM20689</del> (supported but poor performance)</li>
<li><del>ICM20602</del> (supported but poor performance)</li>
</ul>
<p>Other models are not supported.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="barometer">Barometer<a class="hash-link" aria-label="Direct link to Barometer" title="Direct link to Barometer" href="/docs/Manufacturers/Design-Requirements#barometer">​</a></h3>
<p>The supported barometer chips are:</p>
<ul>
<li>SPL06</li>
<li>DPS310</li>
<li><del>BMP280</del> (supported but poor performance)</li>
<li><del>BMP388</del> (supported but poor performance)</li>
</ul>
<p>Other barometer models - like BMP390 - will be supported in the future.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="blackbox-flash">Blackbox Flash<a class="hash-link" aria-label="Direct link to Blackbox Flash" title="Direct link to Blackbox Flash" href="/docs/Manufacturers/Design-Requirements#blackbox-flash">​</a></h3>
<p>The minimum suggested flash size for the Blackbox is 1Gbit (128Mb x 8).</p>
<p>The supported SPI flash chips are:</p>
<ul>
<li>Winbond W25N01G</li>
<li><del>Winbond W25Q64</del> (supported but not large enough for RF use)</li>
<li><del>Winbond W25Q128</del> (supported but not large enough for RF use)</li>
<li><del>Winbond W25Q256</del> (supported but not large enough for RF use)</li>
</ul>
<p>Larger flash chips - like W25N02 and W25N04 - will be supported in the future.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connectors">Connectors<a class="hash-link" aria-label="Direct link to Connectors" title="Direct link to Connectors" href="/docs/Manufacturers/Design-Requirements#connectors">​</a></h2>
<p>A helicopter Flight Controller typically have two kinds of connectors. The servo and motors are connected to standard 0.1&quot; pin headers, with 6V-8.4V power on the center pin. The power is usually provided by a BEC in the ESC. The other connectors are usually UARTs or multi-function connectors, with 5V power. Most commonly these are JST type connectors (XH,PA,GH,etc).</p>
<p>It is also very useful to have the motor/servo headers on one end of the FC, and the other connectors on the other. This helps to remember that the other side has BEC (&gt;6V) voltage, and the other side has 5V.</p>
<p>The standard &quot;JR&quot; style servo plugs are thicker than 0.1&quot;, usually 2.65mm. If more than 4 headers are located side by side, an extra gap of 0.5mm is required after every 4x3 header block. Otherwise the servo plugs will not fit in properly.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="servo-and-motor-outputs">Servo and Motor Outputs<a class="hash-link" aria-label="Direct link to Servo and Motor Outputs" title="Direct link to Servo and Motor Outputs" href="/docs/Manufacturers/Design-Requirements#servo-and-motor-outputs">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cyclic-servos">Cyclic Servos<a class="hash-link" aria-label="Direct link to Cyclic Servos" title="Direct link to Cyclic Servos" href="/docs/Manufacturers/Design-Requirements#cyclic-servos">​</a></h3>
<p>Three servos are required for cyclic. The reference designs also have a pin for an optional fourth cyclic servo, which can be a solder pad on the PCB.</p>
<p>The servo pins should be selected so that they are <em>on the same timer</em>.
DMA is not required for servos, but the pins should have it available for future use.</p>
<p>The servo header is a standard 0.1&quot; pin header. It&#x27;s common to have the cyclic servos side-by-side, as a 3x3 header block.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tail-servo--esc">Tail servo / ESC<a class="hash-link" aria-label="Direct link to Tail servo / ESC" title="Direct link to Tail servo / ESC" href="/docs/Manufacturers/Design-Requirements#tail-servo--esc">​</a></h3>
<p>The tail servo pin should be selected so that it is on a different timer than the cyclic servos. For ESC/motor use, DMA must also be available without conflicts. The pin and timer selection must allow DShot BitBang.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="main-esc">Main ESC<a class="hash-link" aria-label="Direct link to Main ESC" title="Direct link to Main ESC" href="/docs/Manufacturers/Design-Requirements#main-esc">​</a></h3>
<p>Main ESC/motor pin should be selected so that it is on a different timer than the tail motor/servo. The pin must have DMA available without conflicts. The pin and timer selection must allow DShot BitBang.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="esc-telemetry--rpm">ESC telemetry / RPM<a class="hash-link" aria-label="Direct link to ESC telemetry / RPM" title="Direct link to ESC telemetry / RPM" href="/docs/Manufacturers/Design-Requirements#esc-telemetry--rpm">​</a></h3>
<p>The ESC telemetry pin can be an Rx on any UART.</p>
<p>If a combined ESC telemetry and RPM input pin is preferred, then the pin should be selected so that it can act as a UART Rx, and a timer input, for example PA1 or PA3.</p>
<p>The RPM input requires a free timer. The timer can&#x27;t be shared with other functions.</p>
<p>TIM2 and TIM5 can accommodate 4 RPM inputs, one on each channel. Other timers can accommodate only one RPM input.
It is preferred to use TIM2 or TIM5 for RPM inputs.</p>
<p>The RPM inputs require over-voltage protection diodes. Any pin header that provides the servo power (VX) and can act as an RPM input, must have the protection diode on the signal pin. This is due to a shortcoming in a commonly used HobbyWing RPM sensor.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="extension-ports">Extension Ports<a class="hash-link" aria-label="Direct link to Extension Ports" title="Direct link to Extension Ports" href="/docs/Manufacturers/Design-Requirements#extension-ports">​</a></h2>
<p>The extension ports are for any extra peripherals, including receivers.</p>
<p>The ports are primarily for UARTs, but because of the STM32 flexibility, they can be configured for other functions too.</p>
<p>Possible functions are:</p>
<ul>
<li>UART</li>
<li>I2C</li>
<li>RPM input</li>
<li>LED strip</li>
<li>Extra PWM (servo) output</li>
<li>Extra DShot (motor) output</li>
<li>Camera Control</li>
<li>Voltage and current measurements (ADC)</li>
<li>RSSI input</li>
<li>External OSD</li>
<li>Video Tx Control (VTX)</li>
</ul>
<p>The physical connector should be 4-pin JST-GH [GND, 5V, RX, TX], or other JST style polarised connector.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="uarts">UARTs<a class="hash-link" aria-label="Direct link to UARTs" title="Direct link to UARTs" href="/docs/Manufacturers/Design-Requirements#uarts">​</a></h3>
<p>It is preferable to have as many UARTs available as possible.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="receiver">Receiver<a class="hash-link" aria-label="Direct link to Receiver" title="Direct link to Receiver" href="/docs/Manufacturers/Design-Requirements#receiver">​</a></h3>
<p>Typically, any of the UART connectors can be used for connecting the receiver.</p>
<p>If a dedicated receiver port is preferred, UART3/4 on PC10/PC11 is the best choice due to its flexibility.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dsm">DSM<a class="hash-link" aria-label="Direct link to DSM" title="Direct link to DSM" href="/docs/Manufacturers/Design-Requirements#dsm">​</a></h4>
<p>Spektrum DSM can&#x27;t be connected to a UART socket, as it requires 3.3V.
The DSM socket is a JST-ZH with [3.3V GND DATA] pins.</p>
<p>The options for connecting a DSM receiver are:</p>
<ul>
<li>Provide a standard DSM socket</li>
<li>Connect to a generic UART socket with 3.3V power (instead of 5V)</li>
<li>Connect to a generic UART socket with an adapter, converting 5V to 3.3V</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compass">Compass<a class="hash-link" aria-label="Direct link to Compass" title="Direct link to Compass" href="/docs/Manufacturers/Design-Requirements#compass">​</a></h3>
<p>An external compass connects to an I2C interface, which can be provided by one of the multi-function headers (UART/I2C/...)</p>
<p>Usually a compass is integrated into an external GPS unit.</p>
<p>Note! The external I2C can&#x27;t be shared with the internal barometer, as this would not allow using that pin header for anything else than I2C.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gps">GPS<a class="hash-link" aria-label="Direct link to GPS" title="Direct link to GPS" href="/docs/Manufacturers/Design-Requirements#gps">​</a></h3>
<p>An external GPS connects to any of the UART (multi-function) headers.</p>
<p>If a GPS specific header is preferred, a 6-pin socket with [GND,SDA,SCL,TX,RX,5V] can be added (Pixhawk compatible).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="led-strip">LED STRIP<a class="hash-link" aria-label="Direct link to LED STRIP" title="Direct link to LED STRIP" href="/docs/Manufacturers/Design-Requirements#led-strip">​</a></h3>
<p>The WS2812B LED strip requires a GPIO pin with a timer and DMA capability.</p>
<p>It can be provided on one of the multi-function header (shared with UART etc.)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-features">Other Features<a class="hash-link" aria-label="Direct link to Other Features" title="Direct link to Other Features" href="/docs/Manufacturers/Design-Requirements#other-features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="leds">LEDs<a class="hash-link" aria-label="Direct link to LEDs" title="Direct link to LEDs" href="/docs/Manufacturers/Design-Requirements#leds">​</a></h3>
<p>At least one power LED and one indicator LED (GPIO) are mandatory.</p>
<p>Preferably, a two colour (green+red) indicator LED on two GPIO pins can be used.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bootdfu-button">Boot/DFU button<a class="hash-link" aria-label="Direct link to Boot/DFU button" title="Direct link to Boot/DFU button" href="/docs/Manufacturers/Design-Requirements#bootdfu-button">​</a></h3>
<p>There <em>must</em> be a bootloader DFU button on the PCB, accessible <em>without</em> opening the FC case.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swd">SWD<a class="hash-link" aria-label="Direct link to SWD" title="Direct link to SWD" href="/docs/Manufacturers/Design-Requirements#swd">​</a></h3>
<p>The SWD pins PA13 and PA14 must be exposed on test pads on the PCB, along with the GND and +3.3V pads.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="power">Power<a class="hash-link" aria-label="Direct link to Power" title="Direct link to Power" href="/docs/Manufacturers/Design-Requirements#power">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5v">5V<a class="hash-link" aria-label="Direct link to 5V" title="Direct link to 5V" href="/docs/Manufacturers/Design-Requirements#5v">​</a></h3>
<p>A 5V power must be provided for the external devices.</p>
<p>The regulator should be able to provide at last 1A current, preferably 2A.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vx-bec-power">VX (BEC power)<a class="hash-link" aria-label="Direct link to VX (BEC power)" title="Direct link to VX (BEC power)" href="/docs/Manufacturers/Design-Requirements#vx-bec-power">​</a></h3>
<p>The system is powered from the VX Power bus, which can be provided by a BEC or a 2S LiPo battery.</p>
<p>The VX power is fed into the FC via the ESC pin headers (Throttle, Telem, RPM).</p>
<p>Large ESCs usually have two or three pairs of BEC power wires, for increasing the current capacity. The FC should have input pins for all of them.</p>
<p>For very large helicopters, it may be reasonable to have a separate connector (XT30) for the VX power input.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="esd-protection">ESD Protection<a class="hash-link" aria-label="Direct link to ESD Protection" title="Direct link to ESD Protection" href="/docs/Manufacturers/Design-Requirements#esd-protection">​</a></h2>
<p>The STM32 GPIO pins are <em>NOT</em> protected for over-voltage (details in ST Application Notes).
Thus, any pins exposed on external connectors should be protected by TVS diodes and current limiting resistors.</p>
<p>The signal pins on the sockets with servo power (Vx) should have 470ohm resistors.</p>
<p>The signal pins on the expansion sockets with +5V power should have 22ohm resistors.</p>
<p>The higher resistance (470ohm) on the servo/ESC pins provides protection against accidental polarity reversal (unplugging the ESC/BEC plug wrong way around).</p>
<p>The lower resistance (22ohm) on the expansion sockets is required for the various protocols used.
It is still offering some over-current protection, while not interfering with the signals.</p>
<p>The easiest way to implement the protection is to use an ESD protection IC with integrated steering and TVS diodes:</p>
<p><img decoding="async" loading="lazy" alt="ESD Array" src="/assets/images/ESD-Array-a07888b045e0d6ab9bb09af17af38b93.jpeg" width="2560" height="1920" class="img_ev3q"></p>
<p>Or using discrete components:</p>
<p><img decoding="async" loading="lazy" alt="ESD Diodes" src="/assets/images/ESD-Diodes-82c12788a9df8e735d57e182f737efad.jpeg" width="2560" height="1920" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous-notes">Miscellaneous Notes<a class="hash-link" aria-label="Direct link to Miscellaneous Notes" title="Direct link to Miscellaneous Notes" href="/docs/Manufacturers/Design-Requirements#miscellaneous-notes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tim1-and-tim8">TIM1 and TIM8<a class="hash-link" aria-label="Direct link to TIM1 and TIM8" title="Direct link to TIM1 and TIM8" href="/docs/Manufacturers/Design-Requirements#tim1-and-tim8">​</a></h3>
<p>DShot BitBang requires one &quot;pacing&quot; timer, either TIM1 or TIM8. In the design, one of them must be reserved for BitBang use.</p>
<p>One &quot;pacing&quot; timer channel and one DMA channel is required for each GPIO port (PA,PB,PC,PD) with motor pins. It is preferred to have all motor pins located on the same GPIO port, thus using only one timer and DMA channel.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/pkaig/Rotorflight-Docs/tree/main/docs/Manufacturers/Design-Requirements.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Manufacturers/Developers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Manufacturers stuff?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Manufacturers/Reference-Design"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reference Design</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#general">General</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#features">Features</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#gyroscope--accelerometer">Gyroscope &amp; Accelerometer</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#barometer">Barometer</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#blackbox-flash">Blackbox Flash</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#connectors">Connectors</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#servo-and-motor-outputs">Servo and Motor Outputs</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#cyclic-servos">Cyclic Servos</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#tail-servo--esc">Tail servo / ESC</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#main-esc">Main ESC</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#esc-telemetry--rpm">ESC telemetry / RPM</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#extension-ports">Extension Ports</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#uarts">UARTs</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#receiver">Receiver</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#compass">Compass</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#gps">GPS</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#led-strip">LED STRIP</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#other-features">Other Features</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#leds">LEDs</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#bootdfu-button">Boot/DFU button</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#swd">SWD</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#power">Power</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#5v">5V</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#vx-bec-power">VX (BEC power)</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#esd-protection">ESD Protection</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#miscellaneous-notes">Miscellaneous Notes</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/Manufacturers/Design-Requirements#tim1-and-tim8">TIM1 and TIM8</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Tutorial-Setup/Status">Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Manufacturers/intro">Manufacturers</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Tuning/First-Flight-Filter-Tuning">Tuning</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Contributing/intro">Contributing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/6QUySXdEvd" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.rcgroups.com/forums/showthread.php?4000345-Rotorflight-Flight-Control-%28FBL%29-Software-Official-discussion" target="_blank" rel="noopener noreferrer" class="footer__link-item">RC Groups<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Assist us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://paypal.me/rotorflightfc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PayPal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Video Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/announcement">Announcements</a></li><li class="footer__item"><a href="https://github.com/rotorflight" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/Rotorflight_outline.png" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="90" height="50"><img src="/img/Rotorflight_outline.png" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="90" height="50"></div><div class="footer__copyright">Copyright © 2024 Team Rotorflight. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>