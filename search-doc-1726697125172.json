{"searchDocs":[{"title":"snapshot 2.0.0-20230912","type":0,"sectionRef":"#","url":"/announcement/2023/09/12/snapshot 2.0.0","content":"Rotorflight snapshot 2.0.0-20230912 is ready NOTE! This snapshot is not suitable for end-users. It is intended for beta-testers. The Configurator is available to download here.The Blackbox is available to download here.The LUA scripts is available to download here. Please also read the Snapshots Wiki page for general information about snapshots. Changes to the Firmware: Governor gov_max_throttle parameter addedGovernor tracking_speed fixed in passthrough modeRPM filter fixed if only main rotor RPM availableRPM filter update fixed for lower CPU loadCyclic Cross-Coupling refactoredCollective-to-yaw precomp not used during spoolupTTA Collective correction refactoredTTA not used during spoolupH7 TIMUP configuration bug fixedBlackBox multi-file logging fixed (works on W25N01G too)BlackBox erase refactored - works also while loggingBoost and Offset terms added to BlackBoxPID Test Mode 3 added for HSI testingTail center trim scaling changedTail motor thrust law changed to linearMany new parameters added to MSPMany new parameters added to Adjustment Functions Changes to the Configurator: Chinese translation addedMSP aligned with the firmwarePID Test Mode 3 added to ProfilesBoost gains and cutoffs added to ProfilesOffset gains and limits added to ProfilesCyclic Cross-coupling compensation added to ProfilesGovernor max throttle added to ProfilesTail Center Trim added to Mixer Changes to the Blackbox: Fix a drag&amp;drop bugFix adjustment labelsFix RPM_FILTER debug mode labelsFix collective setpoint scalingChanges to the LUA Scripts: Aligned MSP messages with firmware 20230912 Added Boost cutoffs Added Offset gains Added Cyclic Cross-Coupling Added Governor Max Throttle","keywords":"","version":null},{"title":"snapshot 2.0.0-20231018","type":0,"sectionRef":"#","url":"/announcement/2023/10/18/snapshot 2.0.0","content":"danger This snapshot is not suitable for end-users. It is intended for beta-testers. Please realise that this software is under heavy development and as such there may be bugs or unintended control issues. Please test with care If you wish to become involved in testing these snapshots please contact us on the Discord Rotorflight snapshot 2.0.0-20231018 is ready NOTE! This snapshot is not suitable for end-users. It is intended for beta-testers. Downloads Download The Configurator here.​ Download Blackbox here.​ OpenTX/EdgeTX LUA Scripts​ Ethos LUA Scripts​ Please also read the Snapshots Wiki page for general information about snapshots. Changes to the Firmware: RX subsystem refactoredRX failsafe refactoredDynamic Notch filter adapted for helisESC telemetry implemented for various ESCs Hobbywing Platinum V4Hobbywing Platinum V5Hobbywing FlyFun V5Scorpion UNCKontronikOMP HobbyZTW SkyhawkAPD Pro/HV Servo speed calculation fixed to use ms/60°PID Mode 3 fixed to use P-term on errorPT1 filter cutoff calculation fixedMSP over FrSky telemetry speed improvedRPM calculation accuracy improvedMore CRSF FM reuse options added Changes to the Configurator: Receiver tab refactored to match firmwareReceiver telemetry addedRates tab fixed to use new MSP messagesStatus tab fixed to show correct channel valuesFailsafe refactored - advanced failsafe disabledESC telemetry added to Motors tabGovernor max throttle added to ProfilesGovernor feature handling simplifiedRPM filter feature handling simplifiedDynamic Notch filter added to Gyro tabLocalization improved - most texts are translatedAll locales updated with new english messages Changes to the LUA Scripts: Aligned MSP messages with firmware 20231018Added MSP API version checkAdded dynamic notch filters to the Filters pageAdded LUA version to screen titleRemoved Failsafe pageCleaned up code","keywords":"","version":null},{"title":"snapshot 2.0.0-20231127","type":0,"sectionRef":"#","url":"/announcement/2023/11/27/snapshot 2.0.0","content":"Rotorflight snapshot 2.0.0-20231127 is ready If you wish to become involved in testing these snapshots please contact us on the Discord danger This snapshot is not suitable for end-users. It is intended for beta-testers. Please realize that this software is under heavy development and as such there may be bugs or unintended control issues. Please test with care. note This snapshot is a HotFix for the 20231118 snapshot. There are no new features. Downloads Download The Configurator here.​ Download Blackbox here.​ OpenTX/EdgeTX LUA Scripts​ Ethos LUA Scripts​ Please also read the Snapshots Wiki page for general information about snapshots. Changes to the Firmware: Governor throttle jump fixedMore BB fields enabled by default Changes to the Configurator: Fix MSP_ESC_SENSOR_CONFIG (hw4 parameter corruption)Fix Adjustment slider limits on double-clickFix Arming box size limitsAdd limits to Throttle values in Receiver tabUse reference design port names in Serial port config Changes to the BlackBox: Show frequency with one decimal with Shift-MouseUpdate DYN_NOTCH debug fieldsFix RC Command units Changes to LUA Scripts: N/A","keywords":"","version":null},{"title":"snapshot 2.0.0-20240105","type":0,"sectionRef":"#","url":"/announcement/2024/01/05/snapshot 2.0.0","content":"Rotorflight snapshot 2.0.0-20240105 is ready If you wish to become involved in testing these snapshots please contact us on the Discord danger This snapshot is not suitable for end-users. It is intended for beta-testers. Please realize that this software is under heavy development and as such there may be bugs or unintended control issues. Please test with care. Downloads Download The Configurator here.​ Download Blackbox here.​ OpenTX/EdgeTX LUA Scripts​ Ethos LUA Scripts​ Please also read the Snapshots Wiki page for general information about snapshots. Changes from 2.0.0-20231127 Change default PID mode to 3Change swashplate trims to RPCChange tail trim value limitsRefactor Voltage and Current sensorsUpdate Dynamic Notch debug namesAdd temperature and voltage logging to BlackboxFix Cancel button in Enable Arming dialogFix dark colors in a few placesShow positive yaw limits with both CW &amp; CCWMove Gyro and Beepers tabs lowerAdd Collective geometry correctionAdd dynamic Wiki linksAdd labels to Mixer override slidersFix blade pitch limit maximumFix value limits enforcement in number fieldsHide Rescue Alt HoldHide OSD FeatureUpdate locales for translation","keywords":"","version":null},{"title":"snapshot 2.0.0-20240128","type":0,"sectionRef":"#","url":"/announcement/2024/01/28/snapshot 2.0.0","content":"","keywords":"","version":null},{"title":"A few notes about the 20240128 snapshot​","type":1,"pageTitle":"snapshot 2.0.0-20240128","url":"/announcement/2024/01/28/snapshot 2.0.0#a-few-notes-about-the-20240128-snapshot","content":" New ARMING disable flags​  Arming is now disabled if there is no fast RPM signal available, and the governor or/and RPM filter is enabled. Also, the governor mode 2 requires battery voltage. Arming is disabled if it is not available.  Realtime Load​  There is a new Load figure on the bottom bar in the Configurator. It is showing the peak &quot;real-time load&quot; in the FC. The realtime load is the percentage of CPU time used in real-time tasks after every gyro sample. It must stay below 70% or so for the FC to work at all.  Blackbox logging is the single most CPU intensive task in the FC.​  Once enabled, it can easily double the load. Please check that the FC stays below 70% with logging enabled!  CRSF Voltage telemetry​  There are new options for voltage telemetry in the CRSF reuse. Please set the ratio in EdgeTx to 20.  Setpoint Response time​  This per-axis parameter replaces the old &quot;Setpoint Smoothness&quot;. It does exactly the same thing, but now has a physically meaningful value. It represents the speed the setpoint will converge to the commanded value in ms. It is important not to set much lower than the heli's natural reaction time. The default is 20ms for cyclic and 15ms for tail. Most helis simply can't move faster than this.  Setting this too low will cause unnecessary I-term windup and other PID issues.  Values higher than the heli's reaction time will simply slow it down even more. This is especially neat for scale flying, or just for the pilots preference.  CMS​  CMS is now disabled by default.  There is a Feature flag for enabling it. This will also enable the necessary stick commands - BE AWARE!  Servo limits​  Servo limits have been extended to 70deg, as requested. As before, they need to be adjusted if the default value is not suitable for the heli. ","version":null,"tagName":"h3"},{"title":"snapshot 2.0.0-20240218","type":0,"sectionRef":"#","url":"/announcement/2024/02/18/snapshot 2.0.0","content":"","keywords":"","version":null},{"title":"Changes from 2.0.0-20240128​","type":1,"pageTitle":"snapshot 2.0.0-20240218","url":"/announcement/2024/02/18/snapshot 2.0.0#changes-from-200-20240128","content":" Changes to the Firmware:​  More CRSF reuse optionsFix CRSF headspeed reuse with EdgeTx &gt;= 2.9.3Fix governor autorotation timeout limitsFix battery cell count detection with 10S and 12SAdd OpenYGE ESC telemetryAdd lowpass filter to governor feedforwardRefactor MSP_BATTERY_CONFIGImproved defaults Stick deadband and deflectionRescue gains and collective levelsGovernor filter cutoffsCross-coupling gainPID error limits  Changes to the Configurator:​  Add OpenYGE ESC protocolAdd Battery Cell Count to Power tagAdd Governor Precomp Bandwidth to Motors tabRelax servo parameter checksIncrease max yaw to 60° in MixerImproved code in Status pageRefactor MSP_BATTERY_CONFIG  Changes to the BlackBox:​  Add friendly names for RESCUE_ALTHOLD debug  Changes to the LUA Scripts:​  Aligned with the firmware changes  ","version":null,"tagName":"h3"},{"title":"A few notes about the 20240218 snapshot​","type":1,"pageTitle":"snapshot 2.0.0-20240218","url":"/announcement/2024/02/18/snapshot 2.0.0#a-few-notes-about-the-20240218-snapshot","content":" CRSF Reuse​  EdgeTx 2.9.3 broke the CRSF sensor reuse by changing the sensor scaling. The CRSF reuse has now been refactored for better support for different EdgeTx versions.  There are now more sensors that can be reused. The reusable sensors in the GPS frame are altitude, heading, ground speed, and satellite count.  The reuse options are now selected based on the original sensor scaling, so that the reused value can be expressed correctly.  For most reuse options, the &quot;ratio&quot; in EdgeTx is a variation of 255. E.g. 25.5, 255, 2550, 25500. (including RPM!)  The voltage sensors use 20 or 200.  OpenYGE ESC Telemetry​  There is now telemetry support for YGE ESCs (thanks Bob!). This is a brand new protocol implemented by YGE especially for Rotorflight. It will be available in the next ESC firmware update from YGE.  Default values in the Firmware​  Many defaults have been improved. Please note that you won't get any new defaults if you load a dump all from the previous snapshot. Probably better to use a diff all, which will apply only the parameter values that are not on default values.  Next one will be a Release Candidate, so please report any issues promptly!  Happy tuning (and maybe even flying)! ","version":null,"tagName":"h3"},{"title":"Release Candidate 2 2.0.0 20240415","type":0,"sectionRef":"#","url":"/announcement/2024/04/15/RC2 2.0.0","content":"","keywords":"","version":null},{"title":"NOTE! This is the second public release of Rotorflight-2, suitable for all audiences.​","type":1,"pageTitle":"Release Candidate 2 2.0.0 20240415","url":"/announcement/2024/04/15/RC2 2.0.0#note-this-is-the-second-public-release-of-rotorflight-2-suitable-for-all-audiences","content":" Downloads Download The Configurator here.​ Download Blackbox here.​ OpenTX/EdgeTX LUA Scripts​ Ethos LUA Scripts​  ","version":null,"tagName":"h2"},{"title":"Notes​","type":1,"pageTitle":"Release Candidate 2 2.0.0 20240415","url":"/announcement/2024/04/15/RC2 2.0.0#notes","content":" There is a new website www.rotorflight.org for Rotorflight 2. The old Wiki in github is deprecated, and is for Rotorflight-1 only. Rotorflight 2 is NOT backward compatible with RF1. You MUST NOT load your configuration dump from RF1 into RF2. If coming from RF1, please setup your helicopter from scratch for RF2. Follow the instructions on the website! As always, please double check your configuration on the bench before flying!  ","version":null,"tagName":"h2"},{"title":"Support​","type":1,"pageTitle":"Release Candidate 2 2.0.0 20240415","url":"/announcement/2024/04/15/RC2 2.0.0#support","content":" The main source of Rotorflight information and instructions is now the Website.  Rotorflight has a strong presence on the Discord platform - you can join us here. Discord is the primary location for support, questions and discussions. The developers are all active there, many pro pilots and several manufacturers of RF Flight Controllers. This is a great place to ask for advice or discuss any complicated problems or even new ideas.  There is also a Rotorflight Facebook Group for hanging out with other Rotorflight pilots.  note DONATIONS ARE NOW ACCEPTED! 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 To our surprise, Rotorflight is finally starting to gain momentum 😊 This is really great news, but it also means we need to start taking things a bit more seriously. While preparing for the RF2 release, we have been also setting up the IT infrastructure, like rotorflight.org domain, the website, CI, etc. This is obviously more work, but it is now also requiring money. If you ever wondered what to do with the money you don't need to spend on the commercial FBLs, we can now help with that too! Today we are happy to announce that we are finally accepting donations! A direct link to Paypal is here: https://www.paypal.com/donate/?hosted_button_id=LLP4MT8C8TPVJ You can also find the Donation link in the RC2 Configurator start page. NOW!! Who's going to be the first one? 😆 😆 Thank you for your support!  ","version":null,"tagName":"h3"},{"title":"Release Candidate 3 2.0.0 20240510","type":0,"sectionRef":"#","url":"/announcement/2024/05/10/RC3 2.0.0","content":"","keywords":"","version":null},{"title":"NOTE! This is the third public release of Rotorflight-2, suitable for all audiences.​","type":1,"pageTitle":"Release Candidate 3 2.0.0 20240510","url":"/announcement/2024/05/10/RC3 2.0.0#note-this-is-the-third-public-release-of-rotorflight-2-suitable-for-all-audiences","content":" Downloads Download The Configurator here.​ Download Blackbox here.​ There are no changes to the LUA scripts, so use RC2: OpenTX/EdgeTX LUA Scripts​ Ethos LUA Scripts​  ","version":null,"tagName":"h2"},{"title":"Notes​","type":1,"pageTitle":"Release Candidate 3 2.0.0 20240510","url":"/announcement/2024/05/10/RC3 2.0.0#notes","content":" There is a new website www.rotorflight.org for Rotorflight 2. The old Wiki in github is deprecated, and is for Rotorflight-1 only. Rotorflight 2 is NOT backward compatible with RF1. You MUST NOT load your configuration dump from RF1 into RF2. If coming from RF1, please setup your helicopter from scratch for RF2. Follow the instructions on the website! As always, please double check your configuration on the bench before flying!  ","version":null,"tagName":"h2"},{"title":"Support​","type":1,"pageTitle":"Release Candidate 3 2.0.0 20240510","url":"/announcement/2024/05/10/RC3 2.0.0#support","content":" The main source of Rotorflight information and instructions is now the Website.  Rotorflight has a strong presence on the Discord platform - you can join us here. Discord is the primary location for support, questions and discussions. The developers are all active there, many pro pilots and several manufacturers of RF Flight Controllers. This is a great place to ask for advice or discuss any complicated problems or even new ideas.  There is also a Rotorflight Facebook Group for hanging out with other Rotorflight pilots.  note DONATIONS ARE NOW ACCEPTED! 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 A direct link to Paypal is here: https://paypal.me/rotorflightfc/ You can also find the Donation link in the RC3 Configurator start page. Thank you for your support!  ","version":null,"tagName":"h3"},{"title":"Changes from 2.0.0-RC2​","type":1,"pageTitle":"Release Candidate 3 2.0.0 20240510","url":"/announcement/2024/05/10/RC3 2.0.0#changes-from-200-rc2","content":" There are very few changes, though we decided to add one larger improvement that is improving stability in hover. It should not affect flight performance otherwise.  From now on, only super critical fixes are accepted, plus the missing language translations!  The Release is expected in a week or two.  EVERYBODY please test the Release Candidates best to your capabilities. Your help is appreciated.  Changes to the Firmware:​  Improved stability in hoverExtended throttle PWM pulse limits to allow narrow band servosExtended governor max throttle range to 0..100%Fixed governor passthrough throttle ramp-down in IDLEFixed CMS feature disabling with Spektrum  Changes to the Configurator:​  Add cyclic decay parameters to ProfilesFix saving default Profile and Rates ProfileFix output throttle PWM limitsExtend governor max throttle range to 0..100%Extend rescue rate limit to 1000Show PID gain help iconsDisable unavailable telemetry protocols in ESC telemetry dropdownNew Donate button that works also in ChinaUpdate translated locales  Changes to the Blackbox:​  Minor updates in the Header View  Changes to LUA Scripts:​  Not released this time  Happy tweaking and flying! ","version":null,"tagName":"h3"},{"title":"Release 2.0.0 20240515","type":0,"sectionRef":"#","url":"/announcement/2024/05/15/Release 2.0.0","content":"","keywords":"","version":null},{"title":"Notes​","type":1,"pageTitle":"Release 2.0.0 20240515","url":"/announcement/2024/05/15/Release 2.0.0#notes","content":" There is a new website www.rotorflight.org for Rotorflight 2. The old Wiki in github is deprecated, and is for Rotorflight-1 only. Rotorflight 2 is NOT backward compatible with RF1. You MUST NOT load your configuration dump from RF1 into RF2. If coming from RF1, please setup your helicopter from scratch for RF2. Follow the instructions on the website! As always, please double check your configuration on the bench before flying!  ","version":null,"tagName":"h2"},{"title":"Support​","type":1,"pageTitle":"Release 2.0.0 20240515","url":"/announcement/2024/05/15/Release 2.0.0#support","content":" The main source of Rotorflight information and instructions is now the Website.  Rotorflight has a strong presence on the Discord platform - you can join us here. Discord is the primary location for support, questions and discussions. The developers are all active there, many pro pilots and several manufacturers of RF Flight Controllers. This is a great place to ask for advice or discuss any complicated problems or even new ideas.  There is also a Rotorflight Facebook Group for hanging out with other Rotorflight pilots.  note DONATIONS ARE NOW ACCEPTED! 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 💰 A direct link to Paypal is here: https://paypal.me/rotorflightfc/ You can also find the Donation link in the Configurator start page. Thank you for your support!  ","version":null,"tagName":"h3"},{"title":"Changes from 2.0.0-RC3​","type":1,"pageTitle":"Release 2.0.0 20240515","url":"/announcement/2024/05/15/Release 2.0.0#changes-from-200-rc3","content":" There are very few changes.  Changes to the Firmware:​  Better defaults for baro filteringBetter defaults in rescue  Changes to the Configurator:​  Translations updatedFixed wrong response time defaults in Rates  Changes to the Blackbox:​  None  Changes to LUA Scripts:​  Code improvements in Ethos  Wishing everybody a great flying season with RF2! ","version":null,"tagName":"h3"},{"title":"Release Candidate 1 2.0.0 20240329","type":0,"sectionRef":"#","url":"/announcement/2024/02/29/RC1-2.0.0","content":"","keywords":"","version":null},{"title":"NOTE! This is the first public release of Rotorflight-2, suitable for all audiences.​","type":1,"pageTitle":"Release Candidate 1 2.0.0 20240329","url":"/announcement/2024/02/29/RC1-2.0.0#note-this-is-the-first-public-release-of-rotorflight-2-suitable-for-all-audiences","content":" Two years of hard work, blood and tears, and lost hair has gone into this release. Big thanks to everybody who have helped along the way!  Downloads Download The Configurator here.​ Download Blackbox here.​ OpenTX/EdgeTX LUA Scripts​ Ethos LUA Scripts​  ","version":null,"tagName":"h2"},{"title":"Notes​","type":1,"pageTitle":"Release Candidate 1 2.0.0 20240329","url":"/announcement/2024/02/29/RC1-2.0.0#notes","content":" There is a new website www.rotorflight.org for Rotorflight 2. The old Wiki in github is deprecated, and is for Rotorflight-1 only. Rotorflight 2 is NOT backward compatible with RF1. You MUST NOT load your configuration dump from RF1 into RF2. If coming from RF1, please setup your helicopter from scratch for RF2. Follow the instructions on the website! As always, please double check your configuration on the bench before flying!  ","version":null,"tagName":"h2"},{"title":"Support​","type":1,"pageTitle":"Release Candidate 1 2.0.0 20240329","url":"/announcement/2024/02/29/RC1-2.0.0#support","content":" The main source of Rotorflight information and instructions is now the Website.  Rotorflight has a strong presence on the Discord platform - you can join us here. Discord is the primary location for support, questions and discussions. The developers are all active there, many pro pilots and several manufacturers of RF Flight Controllers. This is a great place to ask for advice or discuss any complicated problems or even new ideas.  There is also a Rotorflight Facebook Group for hanging out with other Rotorflight pilots.  ","version":null,"tagName":"h3"},{"title":"Changes from 2.0.0-20240218​","type":1,"pageTitle":"Release Candidate 1 2.0.0 20240329","url":"/announcement/2024/02/29/RC1-2.0.0#changes-from-200-20240218","content":" Changes to the Firmware:​  Refactor MSP_SERVO_CONFIGURATIONSUse internal pull-up on FREQ inputUse falling edge trigger on FREQ inputChange default yaw precomp parametersChange default governor master gainChange default rates response time to 0 (no limit)Change default dynamic notch count to 4  Changes to the Configurator:​  Fix Zoom functionRelax servo rate limitsRefactor MSP_SERVO_CONFIGURATIONSChange default channel order to AECR1T23Add vendor names in receiver protocolsMany fixes in labels and help textsUpdate locales for translation  Changes to the Blackbox:​  NONE  Changes to LUA Scripts:​  Added Servos pageEthos: added support for dark and normal mode ","version":null,"tagName":"h3"},{"title":"Changes from 2.0.0-RC1​","type":1,"pageTitle":"Release Candidate 2 2.0.0 20240415","url":"/announcement/2024/04/15/RC2 2.0.0#changes-from-200-rc1","content":" Not many changes in this one. Just a few minor bug fixes and some defaults changed. Also, the Configurator is now translated to a few language (pending polishing).  From now on, only critical bug fixes will be accepted!  EVERYBODY please test the Release Candidates best to your capabilities. Your help is appreciated.  Changes to the Firmware:​  Introduce default PID D-gainsChange default motor protocol to PWMSimplify RC frame rate calculationReduce default RC smoothing level to minimumAdd OpenYGE v3 protocolFix Kontronik telemetry protocolAdd github CI workflowsAdd GOV_MODE FrSky telemetry sensorFix TTA headroom calculation in Passthrough modeFix RPM filter error check with DD motorsFix scale lights terminology and documentationImplement Horizon mode inverted self-leveling  Changes to the Configurator:​  Accept all MSP compatible firmwareExtend yaw Mixer override to -60°..60°Adjust RPM filter defaultsAdd GOV_MODE to FrSky telemetry sensorsFix top bar battery gadget to show battery info from the FCUpdate links to point to www.rotorflight.orgAdd a notice for Configurator development versionsUpdate english messagesUpdate translations (de,nl,fr)Hide untranslated localesUpdate startup pageAdd Donation infoHide builtin ChangeLogUpdate README.md and HOWTO.mdRemove old NSIS installer  Changes to the Blackbox:​  Fix installer issue: force installation of all filesAdd friendly names for TTA debugUpdate README.md and HOWTO.md  Changes to LUA Scripts:​  Remove cyclic (swash) ringRemove Rescue Altitude holdRemove PID modeUpdate README.md  Happy tweaking and flying! ","version":null,"tagName":"h3"},{"title":"2023-08-09-August Video","type":0,"sectionRef":"#","url":"/blog/2023/08/09/August Video","content":"Goblin 420 Raw Specter V2 with Rotorflight 2 Snapshot 20230602","keywords":"","version":null},{"title":"2023-09-21-September Video","type":0,"sectionRef":"#","url":"/blog/2023/09/21/September Video","content":"OMP M4 Morning Stick Bang - Rotorflight 2 HARD smack OMP M4 Rotorflight 2","keywords":"","version":null},{"title":"2023-09-19-September Video","type":0,"sectionRef":"#","url":"/blog/2023/09/19/September Video","content":"Smacking XLpower Nimbus 550 - Rotorflight 2 HARD Smacking XLpower Nimbus 550 - Rotorflight 2","keywords":"","version":null},{"title":"2023-09-26-September Video","type":0,"sectionRef":"#","url":"/blog/2023/09/26/September Video","content":"Getting Used to Spector NME - Rotorflight 2 Spector NME Tuning Flight - Rotorflight 2","keywords":"","version":null},{"title":"2023-08-23-August Video","type":0,"sectionRef":"#","url":"/blog/2023/08/23/August Video","content":"Rotorflight 2","keywords":"","version":null},{"title":"2023-10-14-October Video","type":0,"sectionRef":"#","url":"/blog/2023/10/14/October Video","content":"Tingyang Meng Flying RF on Spector NME - AMOS","keywords":"","version":null},{"title":"2023-10-04-October Video","type":0,"sectionRef":"#","url":"/blog/2023/10/04/October Video","content":"Avant Mostro 700 - Rotorflight 2 - Mike Wilson","keywords":"","version":null},{"title":"2024-02-06-February Video","type":0,"sectionRef":"#","url":"/blog/2024/02/06/February Video","content":"Rotorflight 2","keywords":"","version":null},{"title":"2023-10-14-October Video","type":0,"sectionRef":"#","url":"/blog/2023/10/19/October Video","content":"Rotorflight 2 with T-Rex 250 Rotorflight 2 Testing","keywords":"","version":null},{"title":"2024-02-21-February Video","type":0,"sectionRef":"#","url":"/blog/2024/02/21/February Video","content":"Tingyang Meng Playing With Grass On His Brand New OMP M7","keywords":"","version":null},{"title":"2024-02-04-February Video","type":0,"sectionRef":"#","url":"/blog/2024/02/04/February Video","content":"Rotorflight 2 with Goosky RS7 Rotorflight 2 with Goosky RS4","keywords":"","version":null},{"title":"2024-03-06-March Video","type":0,"sectionRef":"#","url":"/blog/2024/03/06/February Video","content":"Rainbowing with Rainbow - OMP M7","keywords":"","version":null},{"title":"2024-03-10-March Video","type":0,"sectionRef":"#","url":"/blog/2024/03/10/February Video","content":"Smacking OMP M7 at Ken's Ranch","keywords":"","version":null},{"title":"Adding a Blog Post","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Adding-a-Blog","content":"Adding a Blog Post To make a new Blog post open the Blog Directory. Click on one of the previous posts to use as a template then chose download. Make the changes you wish using a text editor. Click on the Blog folder and Add File. Upload your new blog file.","keywords":"","version":"Development Snapshots"},{"title":"Editing the Website","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Editing-the-Website","content":"","keywords":"","version":"Development Snapshots"},{"title":"Online Editing​","type":1,"pageTitle":"Editing the Website","url":"/docs/next/Contributing/Editing-the-Website#online-editing","content":" This is probably the easiest and most straightforward way to make changes. At the bottom of each page there is an Edit this page button. Click on this link to take you to the project folder on Github.    In the top righthand corner of the page click on Edit    You can now edit the Markdown file as required. When complete click on the Commit Changes Button on the top Right corner of the page.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Adding pictures​","type":1,"pageTitle":"Editing the Website","url":"/docs/next/Contributing/Editing-the-Website#adding-pictures","content":" To add an immage to your page open the img folder that is located in the same directory as your page. Chose Add file and upload.  info Please do not use Capitals* or Underscore (_) in the image names.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Adding a new page​","type":1,"pageTitle":"Editing the Website","url":"/docs/next/Contributing/Editing-the-Website#adding-a-new-page","content":" Download one of the current pages. Open the Markdown (.MD) file in an Editor. At the top of the file change the Sidebar_Position to position your new page where you wish it to be in the sidebar. The current pages are numbered with a spacing of 10 so there are free spaces for new pages between each.  Once complete add File and upload the new page. ","version":"Development Snapshots","tagName":"h2"},{"title":"Software Developers","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Developers","content":"","keywords":"","version":"Development Snapshots"},{"title":"Process​","type":1,"pageTitle":"Software Developers","url":"/docs/next/Contributing/Developers#process","content":" Fork repositoryCreate a branch from the devel branchMake your changesCheck and confirm the devel branch does not have updates since the branch was created. Rebase if required.Create PR ","version":"Development Snapshots","tagName":"h2"},{"title":"Flow charts/Diagrams","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Flow-Charts","content":"Flow charts/Diagrams Using charts, flow diagrams etcMermaid Maybe we can use this somewhere. PID Tuning NO FilteringFiltering is working :::caution help ::: caution P\tI\tD\tO\tB\tFF2\t4\t5\t6\t9\t8 Use tabs in admonitions AppleOrangeBanana This is an apple 🍎","keywords":"","version":"Development Snapshots"},{"title":"Diy board - Betaflight FC","type":0,"sectionRef":"#","url":"/docs/next/Controllers/betaflight-diy","content":"","keywords":"","version":"Development Snapshots"},{"title":"Flashing Rotorflight​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#flashing-rotorflight","content":" Flashing Rotorflight firmware  ","version":"Development Snapshots","tagName":"h3"},{"title":"Remap Betaflight board​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#remap-betaflight-board","content":" Remapping servos and motors  ","version":"Development Snapshots","tagName":"h3"},{"title":"Servo Breakout boards​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#servo-breakout-boards","content":" ","version":"Development Snapshots","tagName":"h3"},{"title":"OMP M1​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#omp-m1","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"OMP M2​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#omp-m2","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"16mm x 16mm​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#16mm-x-16mm","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"20mm x 20mm​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#20mm-x-20mm","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Whoop boards​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#whoop-boards","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"32mm x 32mm​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/next/Controllers/betaflight-diy#32mm-x-32mm","content":"","version":"Development Snapshots","tagName":"h2"},{"title":"Modeling Cross Coupling","type":0,"sectionRef":"#","url":"/docs/next/Contributing/Modeling-Cross-Coupling","content":"","keywords":"","version":"Development Snapshots"},{"title":"The problem​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#the-problem","content":" When the helicopter experience high disturbance in the pitch axis, it would wobble to the roll axis. Similarly, when the helicopter experience disturbance in the roll axis, it would transfer to the pitch axis, but to a lesser degree.   (Thanks to Jonas for the picture)  ","version":"Development Snapshots","tagName":"h2"},{"title":"To explain the coupling​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#to-explain-the-coupling","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Theory 1​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-1","content":" It might be due to the fact that the rotor and motors are spinning disks. Due to gyroscopic precession, there must be some coupling between pitch and roll axis. (Not true, perfect spinning disks does not have coupling) Instead, if theory 3 dominates, conventional motor would provide the same motion. However, direct drive motor would actually counter the tilting motion.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Theory 2​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-2","content":" The transient coupling is likely due to the change of phase lag of the main rotor during sudden change of roll/pitch rate. At high acceleration, the blades flex and introduce a much smaller phase lag ( &lt; 90 degrees).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Theory 3​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-3","content":" The rotor and body can be modeled as a rigid spinning disk and a body coupled by a spring and a damper. When commanded to pitch forward, the disk tilts forward first and the body stays the same attitude. Since there is a difference in angles, the spring loads up, giving the body a torque in positive pitch. However, by Newton's third law, the disk would &quot;feel&quot; a positive pitch force, which turns 90 degree and gives a torque on the roll axis.    ","version":"Development Snapshots","tagName":"h3"},{"title":"To explain the different magnitudes​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#to-explain-the-different-magnitudes","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Theory 1​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-1-1","content":" There is a large difference in inertia between pitch and roll axis.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Theory 2​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-2-1","content":" Tennis Racket theorem. The pitch axis is the second principal axis which is unstable.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Proposed controller design​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#proposed-controller-design","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Theory 3​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/next/Contributing/Modeling-Cross-Coupling#theory-3-1","content":" If theory 3 is the main contributor of the coupling effect, one simple idea is to make the disk rolling forward at all time. To know that the disk has a force on it, we need to take derivative of the gyro signal (i.e. D-term) and add that to the roll axis. There is no need for this on the Roll-to-pitch since there is not much coupling. ","version":"Development Snapshots","tagName":"h3"},{"title":"Contributing to Rotorflight","type":0,"sectionRef":"#","url":"/docs/next/Contributing/intro","content":"","keywords":"","version":"Development Snapshots"},{"title":"Translations​","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/next/Contributing/intro#translations","content":" There are heaps of opportunities to translate the language files to provide the Configurator in your language. This can be both to update current languages or to add a new language.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Flight testing/Crashing​","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/next/Contributing/intro#flight-testingcrashing","content":" Rotorflight gets better due to beta-testing code. Lots of things have to be tested and are constantly changing. Some things are not working yet. Sometimes bugs are creeping into the code.  ANYBODY INVOLVED MUST UNDERSTAND THAT CRASHING IS UNAVOIDABLE.  Maybe it's a bug, maybe it's a misconfiguration - it happens.  If you are still interested, we are currently looking for people with:  a spare collective pitch helicoptergood building skill, especially with electronicsgood enough flying skill to judge if things are working or notexperience with drones and Betaflight is a major pluspatience  ","version":"Development Snapshots","tagName":"h2"},{"title":"Documentation​","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/next/Contributing/intro#documentation","content":" Updating the website. Things are constantly changing, so the website has to update to match. If you have developed your skills to the point where you can assist in telling others how it all works then we would love assistance in keeping this resource up to date. ","version":"Development Snapshots","tagName":"h2"},{"title":"Flywing Heli405","type":0,"sectionRef":"#","url":"/docs/next/Controllers/flywingf405heli","content":"","keywords":"","version":"Development Snapshots"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Flywing Heli405","url":"/docs/next/Controllers/flywingf405heli#rotorflight-target","content":" Servo Tail: Use the FLYWING_HELI405 target for a servo tail Heli.  Motorised Tail: Use the FLYWING_HELI405M target for a Motorised tail. The 'M' is Motorised.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Flywing Heli405","url":"/docs/next/Controllers/flywingf405heli#wiring","content":"   ","version":"Development Snapshots","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Flywing Heli405","url":"/docs/next/Controllers/flywingf405heli#uart-ports","content":" UART 1 - GPS ConnectorUART 2 - Top JST-GH portUART 6 - DSM and SBUS       ","version":"Development Snapshots","tagName":"h3"},{"title":"Flydragon V2.2","type":0,"sectionRef":"#","url":"/docs/next/Controllers/flydragon2.2","content":"","keywords":"","version":"Development Snapshots"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/Controllers/flydragon2.2#rotorflight-target","content":" When updating Rotorflight firmware. Please use the FLYDRAGONF722_V2_2 target.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Motorised Tail​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/Controllers/flydragon2.2#motorised-tail","content":" To use the Flydragon with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 C09 save    ","version":"Development Snapshots","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/Controllers/flydragon2.2#wiring","content":"   caution WARNING: The RPM-S Port is powered via the internal 5V supply which is also powered during USB connection. If you have any power supplies connected or innapropriate loads you are likely to damage your board. DO NOT plug in your ESCs BEC wire into here, many BECs act like a deadshort if you attempt to backfeed them and you WILL blow out the 5V supply on your board when you connect USB if you do this. Power to the rest of the ports is all common power you can connect whatever to.  ","version":"Development Snapshots","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/Controllers/flydragon2.2#uart-ports","content":" UART 1 - Internal ELRS Receiver - (disable as shown below if not used)UART 2 - SBUS or FPORT connectorUART 3 - Rx and Tx on Extension portUART 5 - Rx and Tx on GPS port (can also be used for the Receiver)    ","version":"Development Snapshots","tagName":"h3"},{"title":"Can I use a receiver other than ELRS?​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/Controllers/flydragon2.2#can-i-use-a-receiver-other-than-elrs","content":" External receivers can be connected to the SBUS, FPORT or any of the Extension UART ports (UART 3 or 5). If not using the inbuilt ELRS receiver it should be disabled.  How to Enable/Disable the Internal Receiver:​  The internal receiver is default turned on. When using external receivers, we need to turn it off. Connect the Flydragon F722 V2 to the Rotorflight Configurator. Go to CLI (command line) page: Command to DISABLE the receiver: set pinio_config = 1,1,1,1    Command to ENABLE the receiver: set pinio_config = 1,1,1,1    ","version":"Development Snapshots","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/next/Controllers/flydragon2.2#manuals","content":" Flydragon V2.2 Flight Controller Manual Flydragon V2 Flight Controller Manual Flydragon V2 internal ELRS Manual ","version":"Development Snapshots","tagName":"h3"},{"title":"Controllers","type":0,"sectionRef":"#","url":"/docs/next/Controllers/intro","content":"Controllers There are several flight controllers specifically made for Rotorflight. Radiomaster NEXUSFlydragon V2.2Flywing F405HELIMatek G474HeliMatek G474-HLITEDIY - from a Betaflight FC","keywords":"","version":"Development Snapshots"},{"title":"Matek G474-HLite","type":0,"sectionRef":"#","url":"/docs/next/Controllers/matek_hlite","content":"","keywords":"","version":"Development Snapshots"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/Controllers/matek_hlite#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Motorised Tail​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/Controllers/matek_hlite#motorised-tail","content":" The H-Lite FC is configured with 4 servos and 1 motor. If you wish to use this board for a motorised tail it can be added in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource motor 2 A06 save    ","version":"Development Snapshots","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/Controllers/matek_hlite#wiring","content":"   ","version":"Development Snapshots","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/Controllers/matek_hlite#uart-ports","content":"     ","version":"Development Snapshots","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/next/Controllers/matek_hlite#manuals","content":" Detail specifications and doccumentation available at the Matek website. Matek G474-HLite website ","version":"Development Snapshots","tagName":"h3"},{"title":"Matek G474Heli","type":0,"sectionRef":"#","url":"/docs/next/Controllers/matek_heli","content":"","keywords":"","version":"Development Snapshots"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/Controllers/matek_heli#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/Controllers/matek_heli#wiring","content":"   ","version":"Development Snapshots","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/Controllers/matek_heli#uart-ports","content":"     ","version":"Development Snapshots","tagName":"h3"},{"title":"Onboard BEC​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/Controllers/matek_heli#onboard-bec","content":" The Matec G474Heli contains a 5A-8A peak, Variable voltage (5v or 7.2v) BEC to supply the servos. The BEC will supply 5v by default and 7.2 v when the solder bridge is connected. THis is powered by the VBat connection.  caution If using an external BEC the internal BEC MUST be disabled via the [Vx Off] solder bridge.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/next/Controllers/matek_heli#manuals","content":" Detail specifications and doccumentation available at the Matek website. Matek G474-HELI website ","version":"Development Snapshots","tagName":"h3"},{"title":"Radiomaster NEXUS","type":0,"sectionRef":"#","url":"/docs/next/Controllers/rm-nexus","content":"","keywords":"","version":"Development Snapshots"},{"title":"Release Video​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#release-video","content":"   Specifications Hardware Specifications：​ NEXUS Heli Flight Controller MCU: STM32F722RET6 Gyro (IMU): ICM-42688-P Flash Memory (Black Box. IC): 128MB (W25N01GVZEIG) Barometer: SPL06-001 Uart: 6 - DSM[UART1], S.BUS[UART2], A-CRSF[UART4], PORT-B[UART6], PORT-C[UART3] Servo: 4 - S1, S2, S3, TAIL Rpm Sensor: 1 - FROM ESC FREQUENCY SENSOR Receiver Support: CRSF, ELRS, GHOST, S.BUS, SUMD, IBUS, XBUS, EXBUS, PPM, MSP, DSM2, DSMX Voltage Supply(DC): 5 - 12.6V A-B-C Serial Port Power Output: 5V - 2.0A DSM Serial Port Power Output: 3.3V - 0.5A Telemetry: S.BUS, HoTT, S.Port, MSP, EDGETX, ELRS ESC: PWM, Oneshot, Multishot, Dshot Support Tail ESC: 760μs/1520μs Servo Support Tail Motor: Yes Demensions: 41.3 X 25.4 X 13.1mm Weight: 16.8g  ","version":"Development Snapshots","tagName":"h2"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#rotorflight-target","content":" When updating Rotorflight firmware. Please use the NEXUS_F7.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Matching RP3-H ELRS receiver​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#matching-rp3-h-elrs-receiver","content":" Any of the Rotorflight receiver protocols can be used with the NEXUS. Radiomaster does have the RP3-H receiver which is a direct plug and play ELRS receiver.    ","version":"Development Snapshots","tagName":"h3"},{"title":"F-Port​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#f-port","content":" Nexus supports F.Port on: The 'TX' pin of Port A, B or C or by remapping the SBUS to a TX for F.Port.   F.Port is an Unverted protocol over a single wire so must configured with both of these options enabled.   ","version":"Development Snapshots","tagName":"h3"},{"title":"Motorised Tail​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#motorised-tail","content":" To use the NEXUS with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 B03 save    ","version":"Development Snapshots","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#wiring","content":"   ","version":"Development Snapshots","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#uart-ports","content":" All the UARTS on the NEXUS are labeled to match each port. Just enter the function you wish to use for each port such as SerialRx (receiver), ESC Telemetry, blackbox, GPS etc.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/next/Controllers/rm-nexus#manuals","content":" Radiomaster NEXUS website ","version":"Development Snapshots","tagName":"h3"},{"title":"What is Rotorflight?","type":0,"sectionRef":"#","url":"/docs/next/DIY-corner/Quickstart 1","content":"","keywords":"","version":"Development Snapshots"},{"title":"What's next?​","type":1,"pageTitle":"What is Rotorflight?","url":"/docs/next/DIY-corner/Quickstart 1#whats-next","content":"","version":"Development Snapshots","tagName":"h2"},{"title":"Manufacturers Intro","type":0,"sectionRef":"#","url":"/docs/next/Manufacturers/intro","content":"Manufacturers Intro","keywords":"","version":"Development Snapshots"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/docs/next/intro","content":"","keywords":"","version":"Development Snapshots"},{"title":"Latest Rotorflight 2 Version​","type":1,"pageTitle":"Introduction","url":"/docs/next/intro#latest-rotorflight-2-version","content":" The Rotorflight 2 Snapshots for testing can be found on the Announcements page. Please join the Rotorflight Discord discussion to ask questions and get assistance from the links at the bottom of this page.   ","version":"Development Snapshots","tagName":"h2"},{"title":"Design Requirements","type":0,"sectionRef":"#","url":"/docs/next/Manufacturers/Design-Requirements","content":"","keywords":"","version":"Development Snapshots"},{"title":"Betaflight Guidlines​","type":1,"pageTitle":"Design Requirements","url":"/docs/next/Manufacturers/Design-Requirements#betaflight-guidlines","content":" Rotorflight is based on Betaflight, and thus has the same basic requirements for the hardware.  Please read the Design Guidelines for Betaflightfirst.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Rotorflight Design​","type":1,"pageTitle":"Design Requirements","url":"/docs/next/Manufacturers/Design-Requirements#rotorflight-design","content":" Rotorflight Design Requirements Github ","version":"Development Snapshots","tagName":"h2"},{"title":"Manufacturers stuff?","type":0,"sectionRef":"#","url":"/docs/next/Manufacturers/Developers","content":"","keywords":"","version":"Development Snapshots"},{"title":"What's next?​","type":1,"pageTitle":"Manufacturers stuff?","url":"/docs/next/Manufacturers/Developers#whats-next","content":"","version":"Development Snapshots","tagName":"h2"},{"title":"Reference Design","type":0,"sectionRef":"#","url":"/docs/next/Manufacturers/Reference-Design","content":"Reference Design Design Please read the page Rotorflight FC Design Requirements first. It is explaining the generic requirements for all Rotorflight designs. For an FC to be fully supported by Rotorflight-2, it must follow one of the reference designs. RF2 will offer more features and easier configurability for designs that are fully compatible. Lots of effort has been put into these designs for making sure they are as flexible as possible, while not imposing any hardware limitations on the functionality. The manufacturer can choose not to implement any features that are marked optional. All other features must be implemented. The reference designs are considering only the aspects that have effect on the software support, mostly the STM32 resource allocation and the minimum set of supported features. The rest - like size, form factor, connector locations - are left for the manufacturer to decide. Rotorflight Reference Design Github Reference Design F7AReference Design F7B","keywords":"","version":"Development Snapshots"},{"title":"Rotorflight Configurator","type":0,"sectionRef":"#","url":"/docs/next/rotorflight-configurator","content":"Rotorflight Configurator [[#tabStatus|Status Page] [[#tabAdjustments|Adjustments]","keywords":"","version":"Development Snapshots"},{"title":"Cyclic Cross Coupling","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Cyclic-Cross-Coupling","content":"","keywords":"","version":"Development Snapshots"},{"title":"What is it?​","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/next/Tuning/Cyclic-Cross-Coupling#what-is-it","content":" During ticktocks, one might observe that the center of the main rotor rotates during stops. Another scenario is during hover, one can shake the elevator stick and observe a tilt in the roll axis and a significant drift in the yaw axis. These are both the symptoms of uncompensated cyclic cross coupling.  Cyclic cross coupling happens mainly due to the pitch axis inputs. When the pitch command is given, due to the high moment of inertia of the helicopter in the pitch axis, the frame would &quot;lag&quot; behind the rotor disks. This difference in position creates a torque on the rotor blade and thus transfer to the roll axis due to gyroscopic precession.  The cross coupling compensation simply take a derivative on the pitch SETPOINT and add it proportionally to the roll axis. This effectively pre-load the roll axis with a input command so that when the above scenario happens, the two effects cancel each other.  ","version":"Development Snapshots","tagName":"h2"},{"title":"How to tune it?​","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/next/Tuning/Cyclic-Cross-Coupling#how-to-tune-it","content":" Start with a low value and increase when theres no significant coupling is observed or when there is a dimishing return. You might also want to try piroflips because cross-coupling gain changes the corresponding commands at different orientations during piroflips. Try increase the gain slowly so you can get used to the feeling.  From experience, the harder the main rotor dampener is, the lower cross coupling gain is required.  ","version":"Development Snapshots","tagName":"h2"},{"title":"(Advanced Topic) Constant Cross Coupling​","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/next/Tuning/Cyclic-Cross-Coupling#advanced-topic-constant-cross-coupling","content":" The above cross coupling only happens at the moment of pitch (could also be a little bit of roll) input. However, there could be another scenario that a constant cross-coupling might occur. If the main blade flap axis is not centered at the middle commonly due to very hard dampeners, very low headspeed, or rotorhead designs, a constant cross coupling might occur because the phase lag of the rotor blade is no longer perfectly 90deg. In this case, you might want to consider adjusting the phase angle in the Mixer page. Usually a +2 to +10 deg would be a good range to start and more testing is needed. You might also want to make sure that it is doing the right thing. For CW rotor, when pushing the elevator, the swash should tilt slightly right, and when you pull the elevator stick, the swash should tilt slightly left. ","version":"Development Snapshots","tagName":"h2"},{"title":"First Flight & Filter Tuning","type":0,"sectionRef":"#","url":"/docs/next/Tuning/First-Flight-Filter-Tuning","content":"","keywords":"","version":"Development Snapshots"},{"title":"Example: A Relatively Well Tuned Filter During 3D Maneuvers​","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/next/Tuning/First-Flight-Filter-Tuning#example-a-relatively-well-tuned-filter-during-3d-maneuvers","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"RAW Gyro:​","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/next/Tuning/First-Flight-Filter-Tuning#raw-gyro","content":"   ","version":"Development Snapshots","tagName":"h3"},{"title":"Filtered Gyro:​","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/next/Tuning/First-Flight-Filter-Tuning#filtered-gyro","content":"  ","version":"Development Snapshots","tagName":"h3"},{"title":"Motorised Tail and TTA","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Motorised-Tail-and-TTA","content":"Motorised Tail and TTA info Torque Tail Assist (TTA) - This is a feature used for helicopters with motorised tails. A motorised tail can provide high control authority in one direction. In the other it is greatly reduced as the motor can only turn in one direction. TTA is ised to add control authority in the other direction. It does this by rapidly accelerating the main motor. This acceleration provides torque in the oposite direction to the tail motor. Tuning TTA is best performed by pushing your heli into a flight envelope in which you loose tail authority. A simple flight pattern is to fly backawards as fast as possible.. with the tail going into the wind. If you notice the heli suddently doing a sharp rotation.. sometimes up to 180 degrees; then your TTA needs to be higher. Simply raise the value in increments of 10 until the problem starts to go away. Sometimes you will find that your heli will be find with flying backwards; but flip out in agressive manouvers. For example a 'tail slide' or 'backwards loop' will trigger it. As above.. raise the gain until the issue is largely mitigated. Note. Its possible you will never 100% clear the swing that can occur. The original 'OMP M2' for example will still show the issue at times with even the maximum TTA gain. In the end the issue is that the main motor is not beefy enough to provide enough torque to control the swing that can occationally occur.","keywords":"","version":"Development Snapshots"},{"title":"High Speed Integral","type":0,"sectionRef":"#","url":"/docs/next/Tuning/High-Speed-Integral","content":"","keywords":"","version":"Development Snapshots"},{"title":"What is it?​","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#what-is-it","content":" This is one of the core features of most advanced FBL systems (Vbar, CGY760R, Spirit .etc) The problem it is solving is maiinly due to the difference in lift from high airspeed in the x and y directions. For example, as the helicoper is moving forward while having a constant positive collective pitch, the helicopter tends to pull up. If the collective pitch is negaive, the imbalance of lift is reversed, and the heli would tend to push down. This is usually not a problem if the collective stays constant because the integral gain will compensate this constant &quot;trim&quot;. However, when changing collective while moving at a high speed (for example, fast moving side tick tocks) the heli would not move axially. It would behave in a snake shape because the I term is constantly charging and discharging in the opposite direction.  The High Speed Integral (HSI) resembles another integral term. However, its output is proportional to the collecive input, which reverses when the collective is negative. This is the &quot;arching&quot; effect you might see on FBLs like a vbar, where if one tilt the helicotper at high collective, and move the collective up and down, the swash plate would resemble one side of a seesaw.  ","version":"Development Snapshots","tagName":"h2"},{"title":"How to tune it?​","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#how-to-tune-it","content":" To properly tune the HSI, one has to be able to fly maneuvers comfortably at a relatively high speed. The best maneuver is the fast moving ticktocks. It is advised to start low (about 30) and see if theres snaking at the first few tick tocks. The higher O-gain you use, the faster it reacts to high speed, meaning the amount of time ticktock becomes axial is lowered. Ideally, the O-gain should be just high enough to havo no snaking. Too high might result in bobbling during stationary tick tocks because it is essentially an I gain at constant collective.  ","version":"Development Snapshots","tagName":"h2"},{"title":"(Advanced Topic) Tick tock Optimization​","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#advanced-topic-tick-tock-optimization","content":" The problem of naively implementing the HSI is repeated maneuvers like tick tocks. The HSI works the best when the heli needs reversed &quot;trim&quot; when collective is reversed. However, there is another scenario that this could happen: during ticktocks. Assume there's some error that reverses at each stops of the ticktocks, then the HSI would tend to charge up little by little at each end, resuling unwanted bobbling right after each collective change.  Currently, there seems to be three ways to solve this problem. The simplest way is to not deal with the problem at all and use a very fast I-term decay on the normal integral gain to &quot;soothe&quot; the effect. However, the fast I-term decay creates significant drifting problem in other scenarios, making the heli less predictable.  A much more sophisicated way to deal with this issue. From behavior of the pilots, we know that when the cyclic inputs are high, theres a very low chance that the heli would keep the same airspeed at the input direction. Therefore, the HSI would be added to the normal I term (in the input direction) at some cyclic threshold. This preserves the HSI in the orthogonal direction but &quot;deletes&quot; them in the parallel direction.  RF2 follows the previous logic. However, instead of &quot;deleting&quot; the HSI, it &quot;decays&quot; HSI in a set speed (dictated by the offset_bleed_rate_curve and offset_bleed_limit_curve parameter) into the normal-I. Therefore, a extremely fast impulse on the stick would not result in a complete deletion of the HSI.  ","version":"Development Snapshots","tagName":"h2"},{"title":"(Advanced Topic) HSI Charging Rate​","type":1,"pageTitle":"High Speed Integral","url":"/docs/next/Tuning/High-Speed-Integral#advanced-topic-hsi-charging-rate","content":" Another problem with HSI is that it behaves like integral gain at constant collective with higher collective having a higher &quot;equivalent I-gain.&quot; This problem could affect the PID balance greatly especially at high collectives. One way to solve this problem is to lower the HSI charging rate at high collective (offset_charge_curve). It effectly lowers the equivalent I-gain at high collective which helps maintain the PID balance. However, the adverse effect is that this assumes no significant airspeed change when collective is high, which in some extreme cases might not be true. Also, snaking migh occur if one prefer to use high collective during fast moving ticktocks. Therefore, it is advised to have the charge rate as high as possible at high collective to minimize the effect. ","version":"Development Snapshots","tagName":"h2"},{"title":"Rescue mode settings","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Rescue-mode-settings","content":"Rescue mode settings","keywords":"","version":"Development Snapshots"},{"title":"Tune Feedforward","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Tune-Feedforward","content":"","keywords":"","version":"Development Snapshots"},{"title":"Steps​","type":1,"pageTitle":"Tune Feedforward","url":"/docs/next/Tuning/Tune-Feedforward#steps","content":" If it is the first time, make sure to start low (usually &lt; =100 on the cyclic and 0 on the tail)Do continuous flips, rolls, or pirouetting.Stop the flip/roll or piro, observe the stopping behaviorIf the heli does not stop cleanly and kept moving a little bit, increase the FF gain on its corresponding axisIf the heli stops but bounces back, decrease the FF gain on the corresponding axis  IMPORTANT NOTICE: This parameter is NOT designed to tune the response of the helicopter. DO NOT use it to change how fast the heli reacts to inputs. If you want a sharper reaction, please increase the B(oost)-gain ","version":"Development Snapshots","tagName":"h2"},{"title":"Tune the Governor","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Tune-Governor","content":"","keywords":"","version":"Development Snapshots"},{"title":"Preparation​","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#preparation","content":" If you're using TTA, disable it by setting TTA gain to 0 on the Profiles tab. You can enable it again once you're done tuning the governor.Set Blackbox debug mode to Governor and Blackbox logging rate to 1kHz on the Blackbox tab.Start with governor P-gain and I-gain really low, e.g. 10 for P and 20 for I. Spool up might now take a bit longer.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Tuning steps​","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#tuning-steps","content":" When you're using the Rotorflight Lua scripts, you can change all gain values on the field. My routine is to make logs of 3 or 4 different values around the default value for one specific gain. Example: the governor F-gain has a default value of 15, so try 10, 15, 20 and 25. Start with 10, do some pitch pumps (give it full collective for a short period of time) and disarm. Change the value to 15 and save, arm, do some pitch pumps, and so on. The result will be one log file with 4 partial logs, which you can select with the dropdown in the upper-right corner of the Blackbox Explorer. Then look in the Blackbox Explorer to see what gain value works best. If you think you might need higher or lower values for a specific gain, make a new log with adjusted values.  Try increments of 10 for the F-gain, increments of 25 for the I-gain and increments of 10 for the P-gain.  ","version":"Development Snapshots","tagName":"h2"},{"title":"1. Tune the F-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#1-tune-the-f-gain","content":" The F-gain determines the feedforward term, together with cyclic and collective precompensation. As stated, the better the F-gain is tuned, the less the PID-loop has to correct. Here's an example where the F-gain is too low, since the headspeed drops quite a bit when doing pitch pumps.    If the F-gain is too high, the headspeed will be temporarily too high.    ","version":"Development Snapshots","tagName":"h3"},{"title":"2. Tune I-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#2-tune-i-gain","content":" After you have found and set the best value for F-gain you can increase the I-gain until it starts playing up, then reduce it with 1/3. Here you can see an I-gain value which is too high, since there are some slow oscillations during and/or after the pitch pump.    ","version":"Development Snapshots","tagName":"h3"},{"title":"3. Tune P-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#3-tune-p-gain","content":" After setting the optimal value for I-gain start increasing the P-gain till there are slight oscillations, then reduce it with 1/3. Here is an example of a P-gain that is clearly too high and introduces fast oscillations.    ","version":"Development Snapshots","tagName":"h3"},{"title":"4. Tune D-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#4-tune-d-gain","content":" Unless you're flying a 500+ heli you probably won't need D, since there's hardly any momentum in the rotor.  ","version":"Development Snapshots","tagName":"h3"},{"title":"The result​","type":1,"pageTitle":"Tune the Governor","url":"/docs/next/Tuning/Tune-Governor#the-result","content":" This is the result of tuning a Scorpion HKII-2208 3600KV motor in a Gaui X2.    And these are the gain values found for this heli:   ","version":"Development Snapshots","tagName":"h2"},{"title":"Help - Frequent questions?","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Quickstart/Help-Common-Questions","content":"","keywords":"","version":"Development Snapshots"},{"title":"Motor won't start​","type":1,"pageTitle":"Help - Frequent questions?","url":"/docs/next/Tutorial-Quickstart/Help-Common-Questions#motor-wont-start","content":" Is ARM mode configured? Please check your Arm Mode has been enabled. See details in the ModesNote!! Arm and Throttle hold need to be on different switches. The FC must see minimum throttle before Arm is enabled; therefore, if Arm activates at the same time as throttle hold is removed, it will fail the minimum check.Check status page for Arming disables Using a Governor? Does the Motor spool in Governor 'passthrough'. If not this could indicate a pin or timer allocation issue. Also please check your Receiver is connected and has the correct channel order.Does the Motor spool in Governor 'Mode 1'. Please confirm you have either Frequency input or Bi-directional Dshot enabled and functioning. Using the Motor override run the motor at minimum speed and confirm there an RPM signal presentGovernor mode 'Mode 2'. If the motor is able to spool in the other modes but not Mode 2 it means the Battery Voltage is not available. Please update this in the Power tab.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Servo don't respond​","type":1,"pageTitle":"Help - Frequent questions?","url":"/docs/next/Tutorial-Quickstart/Help-Common-Questions#servo-dont-respond","content":" Are servos visible in the servo Tab? Review the remapping and add servos From the servo override does the servo move? Confirm connection of the servosConfirm servos are poweredCheck all servos. Servo moves in override but not Confirm miser has been chosen from the Mixer tab. ","version":"Development Snapshots","tagName":"h2"},{"title":"Tuning your Helicopter","type":0,"sectionRef":"#","url":"/docs/next/Tuning/Tuning-description","content":"","keywords":"","version":"Development Snapshots"},{"title":"Tuning Profile PID:​","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/next/Tuning/Tuning-description#tuning-profile-pid","content":"   caution Please start by confirming your filters are working correctly before you increase your tuning parameters. If you do not have filters enabled it is particularly important that you do not use Derivative. This can result in hot Motors and Servos.  note What do we mean &quot;wobble&quot;?? When tuning parameters are too high the helicopter will wobble or shake during some movements. Each time we increase a tuning value we need to test fly and see if the new setting is too high. Test this in the following way: Beginner: Tap the stick and see if it shakes/shudders/wobblesAverage: Do some flips with sudden stops, try going fast and tapping the stick, do some TictocsAdvanced: Do crazy high speed high rate stuff that makes the FC sweat and see if it freaks out 😜. Please also see the General Guidlines below for more specific descriptions​  Increase Derivative (D) on each axis individually, (roll, pitch, yaw) until it wobbles, then back off a bit. (remember!! don't do this if your filters are not working). Increase Proportional (P) on each axis individually, until it wobbles, then back off a bit. Increase Integral (I) on each axis individually, until it wobbles, then back off a bit. Set Feedforward so that you get good response and Integral (I) remains near 0 in full stick flips and rolls (viewed using the blackbox logs). Feedforward can also be tuned by following the desctiption in Tune Feedforward. If necessary, then tweak P:D ratio to tweak stick response damping to your liking. Increase HSI until it wobbles when jabbing elevator at full collective, back off a bit.    Increase Boost (B) if you want sharper/faster response.  ","version":"Development Snapshots","tagName":"h2"},{"title":"General Guidelines​","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/next/Tuning/Tuning-description#general-guidelines","content":" The higher the gains are, the better the heli response to inputs, the more &quot;locked in&quot; heli feels.The pitch axis is the most difficult axis to tune. It is advised to start here.The roll axis is the easiest. Many different gains works on the roll axis. It is advised to tune last.D-gain dampens oscillations caused by P, P-gain dampens oscillations caused by I.I-oscillation are very slow (0.5-1Hz) while P and D oscillations are fast (5-8Hz).If there is I-oscillation, one could lower the I-gain or raise the P-gain.The best maneuver to see I-oscillation is to pirouetting long pitch pumps. If the heli does not stop clean and has a large shake, it is either I-gain being too high or P-gain being too low.It is possible to use the same I-gain on pitch and roll axis.Check tick-tock stops to see if P and D are too high by observing the fast oscillations. If oscillations are mainly slow, I-gain might be too high.The B-gain should be increased incrementally to fit how sharp the response you want. Usually only pitch needs a significant B-gain.Too high on B-gain results in unwanted oscillations at stops if low B-gain did not cause it.One could also experiment the I-relax to tune out the I-oscillations at stops. Lower number means stronger relax. Notice that a extremely low number might make the helicopter feel unpredictable. low number also hide gain imbalance that could show up during high-demand maneuvers or natural occuring disturbances (like a gust of wind) ","version":"Development Snapshots","tagName":"h2"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Quickstart/Introduction","content":"","keywords":"","version":"Development Snapshots"},{"title":"Latest Rotorflight 2 Version​","type":1,"pageTitle":"Introduction","url":"/docs/next/Tutorial-Quickstart/Introduction#latest-rotorflight-2-version","content":" The Rotorflight 2 Snapshots for testing can be found on the Announcements page.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Discussion & Help​","type":1,"pageTitle":"Introduction","url":"/docs/next/Tutorial-Quickstart/Introduction#discussion--help","content":" Get in touch with fellow Rotorflight users and the developers on social media platforms:  Rotorflight Discord Chat Invitation Official Rotorflight RCGroups Thread Rotorflight Facebook Group  There's a lot of in-depth information available in this Website. The most important pages are shown in the sidebar on the right. ","version":"Development Snapshots","tagName":"h2"},{"title":"What board should I get?","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Quickstart/What-Board","content":"","keywords":"","version":"Development Snapshots"},{"title":"Processors​","type":1,"pageTitle":"What board should I get?","url":"/docs/next/Tutorial-Quickstart/What-Board#processors","content":" We recommend use of a board that has an H743, F7 (F745, F722 etc) or F405 processor for best results. An F411 can (and has) been used but may not be able to run all of the newer features. The newest H7 processors are yet to be supported/fully tested. Please avoid these (or help us with the testing!!)  ","version":"Development Snapshots","tagName":"h2"},{"title":"Gyros​","type":1,"pageTitle":"What board should I get?","url":"/docs/next/Tutorial-Quickstart/What-Board#gyros","content":" Rotorflight 2.xx is built on the Betaflight 4.3 platform. This is several releases behind the current Betaflight version so as a result there may be some new hardware additions that are not yet supported. Currently the gyros on all common boards designed for Betaflight are supported. These include:  MPU6000, MPU6050, MPU6500BMI270ICM42688  ","version":"Development Snapshots","tagName":"h2"},{"title":"Size​","type":1,"pageTitle":"What board should I get?","url":"/docs/next/Tutorial-Quickstart/What-Board#size","content":" How large is the space available for the flight controller? The amount of space may affect the size of boards you choose to use. Standard sizes are 16mmx16mm, 20mmx20mm, 25.5mm.25.5mm (whoop), 30.5mmx30.5mm. There are also AIO (All in one) boards which contain the flight controller and 4x ESC's on the one board.  ","version":"Development Snapshots","tagName":"h2"},{"title":"How many pads are available?​","type":1,"pageTitle":"What board should I get?","url":"/docs/next/Tutorial-Quickstart/What-Board#how-many-pads-are-available","content":" We need to have pads available on the board to connect to our devices such as Servos, Motors, Frequency input, External logger, Receiver etc (GPS in the future).  Receiver: This will require a UART RX and TX if we want to use telemetry (this will be documented by the manufacturer)  Servos, Motor, Frequency: These items can be allocated to any free UART RX, UART TX, SDA, SCL, LED or Motor pad.  Logger: OpenLager requires one free UART TX  You will need to choose a board that has enough pins to enable all of your connections. ","version":"Development Snapshots","tagName":"h2"},{"title":"Backup and restore","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Backup-and-restore","content":"","keywords":"","version":"Development Snapshots"},{"title":"Back up the configuration​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#back-up-the-configuration","content":" Backups of your Rotorflight configuration can be taken in order to restore a controller to a previous state, in the event of a failure, or to duplicate your controller to use on another helicopter. Also it is advised that a backup is taken of the original Betaflight pre-loaded configuration before loading Rotorflight.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Step 1.​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#step-1","content":"   Open Rotorflight Configurator and [Connect]. If the board is new and as supplied with Betaflight a warning message will pop up saying the &quot;firmware version is not supported&quot;. This means that the board currently does not have Rotorflight loaded so it can be safely ignored. Rotorflight configurator will now open in CLI mode. If you are backing up your config after having already configured your helicopter you will need to click on the CLI tab from the left hand side of the page to open the CLI interface.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 2.​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#step-2","content":" Choose what you want to back up. There are several options.  dumpThis command dumps all of the hardware and software configuration.diffdiff will download any configuration that is not equal to the custom defaults for that board. Things like your ESC protocol, RX type etc. This file is very small.dump allDump all downloads all hardware and software the same as the dump command; however, it also includes all rate profiles.dump hardwareDump hardware will download all of the hardware config. This is information like the pin assignments and board specific information (gyro bus address etc).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 3.​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#step-3","content":"   Click on [Clear output window].Type the backup command (from step 2) in the window and click [ENTER].  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 4.​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#step-4","content":"   After the command is complete click [Save to File] and store on your computer.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Load/Restore Config​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#loadrestore-config","content":" Use this process to load remapping config files for your specific flight controller if available. You can also restore config files to your flight controller you have previously saved or have been shared by other users.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Step 1.​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#step-1-1","content":"   Open the CLI tab and click [Load from File] and select the file on your computer.Click on the [Execute] from the pop up.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 2.​","type":1,"pageTitle":"Backup and restore","url":"/docs/next/Tutorial-Setup/Backup-and-restore#step-2-1","content":"   Once the backup is loaded type save in the command line and [ENTER]. The flight controller will now reboot. ","version":"Development Snapshots","tagName":"h3"},{"title":"Beepers","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Beepers","content":"Beepers To Do","keywords":"","version":"Development Snapshots"},{"title":"Tuning examples and presets","type":0,"sectionRef":"#","url":"/docs/next/Tuning/tuning-examples","content":"","keywords":"","version":"Development Snapshots"},{"title":"How to use these presets?​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#how-to-use-these-presets","content":" There are two options for using these pre-sets.  Follow the screen shots to configure your helicopter.Load from the supplied Diff file. Please note: This method may overwright some of your previously configured settings. Please check and confirm carefully.  ","version":"Development Snapshots","tagName":"h2"},{"title":"OMP M4​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#omp-m4","content":" OMPHOBBY M4 Jonas Wackershauser - M4​ OMPHOBBY M4View Pre-set  ","version":"Development Snapshots","tagName":"h2"},{"title":"OMP M4 - max​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#omp-m4---max","content":" OMPHOBBY M4 - Max Jonas Wackershauser - M4 Max​ OMPHOBBY M4 MaxView Pre-set  ","version":"Development Snapshots","tagName":"h2"},{"title":"OMP M7​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#omp-m7","content":" OMPHOBBY M7 Jonas Wackershauser - M7​ This is a high headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 light Jonas Wackershauser - M7 Light​ This is a low headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 Jiawen Bao - M7​ OMPHOBBY M7View Pre-set  ","version":"Development Snapshots","tagName":"h2"},{"title":"XLPower Nitro Nimbus​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#xlpower-nitro-nimbus","content":" XLPower Nitro Nimbus Jiawen Bao - Nitro Nimbus.​ Nitro NimbusView Pre-set  ","version":"Development Snapshots","tagName":"h2"},{"title":"XLPower Specter Nitro​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/next/Tuning/tuning-examples#xlpower-specter-nitro","content":" XLPower Specter Nitro Jiawen Bao - Specter Nitro.​ Specter NitroView Pre-set ","version":"Development Snapshots","tagName":"h2"},{"title":"Blackbox logging","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Blackbox","content":"","keywords":"","version":"Development Snapshots"},{"title":"Adjustments","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Adjustments","content":"","keywords":"","version":"Development Snapshots"},{"title":"Example - Select a Profile In-Flight​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#example---select-a-profile-in-flight","content":" Being able to switch between profiles in-flight allows you to use different headspeeds with differently tuned PIDs. It can also help with PID tuning, since it makes A/B testing possible with the flick of a switch.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Simple example​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#simple-example","content":" Here we use only one channel -AUX4- for PID and Rates Profiles Selection. Assign AUX4 to a 3-position switch on the TX, so that the switch outputs 1000/1500/2000us. Profile Switching Example.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Adjustment Types​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#adjustment-types","content":" There are two ways the how the control AUX channel is affecting the configuration parameter.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Step Adjustment​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#step-adjustment","content":" The control AUX channel can be a three position switch or a trim switch on the transmitter. While in up position, it will cause the adjustment to increase by step size, and vice versa. The min and max limits are adhered.  Step adjustment is enabled by setting the step size to non-zero value.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Continuous Adjustment​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#continuous-adjustment","content":" The control AUX channel is a full resolution RC channel, and is controlling the configuration parameter directly. The RC channel range 1000us..2000us is stretched to cover the parameter range min..max.  Continuous adjustment is enabled by setting the step size to zero.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Adjustment Functions​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#adjustment-functions","content":" The adjustment function assigns the control AUX channel to a configuration parameter or a special function. The supported functions are listed below.  Profile change   Rates   PID   Gyro cutoffs   Dterm cutoffs   Rescue   Leveling   Governor   Boost gains   Offset gains   Cross-coupling   Accelerometer trims   ","version":"Development Snapshots","tagName":"h2"},{"title":"Parameter Change Functions​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#parameter-change-functions","content":" The parameter change functions are adjusting the associated configuration parameters, taking effect immediately. This allows changing the fundamental tuning parameter inflight.  Each parameter has a min and max limit that the user can set to safeguard against unreasonable or unsafe values. In addition, the system has absolute limits for each parameter.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Profile Change Functions​","type":1,"pageTitle":"Adjustments","url":"/docs/next/Tutorial-Setup/Adjustments#profile-change-functions","content":" The special functions to change configuration profiles works exactly the same as the parameter functions, except that the possible values are limited to the number of profiles. Both step and continuous adjustments can be used.  For example, there are six Rate Profiles available, thus the parameter limits should be min = 0 and max = 5. Narrower range is also possible, if so desired. ","version":"Development Snapshots","tagName":"h3"},{"title":"What is Blackbox​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#what-is-blackbox","content":" Blackbox is a flight data recording feature in Rotorflight. A Blackbox log contains a lot of data, such as the attitude of the heli, gyro sensor measurements, PID data, RC commands, motor outputs etc. It’s an extremely powerful tool for tuning and troubleshooting the heli.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Blackbox data can be logged to:​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#blackbox-data-can-be-logged-to","content":" A flash chip on the FC. Logging is fast, but storage is limited, unless you are using a dedicated RF controller(FlyDragon F7 has 128MByte Flash), and copying log files can be slow.An SD card on the FC, it's fast and storage is only limited by the capacity of the SD card.An external logging device: OpenLager. These devices write the log to a micro SD card.  A flash chip or an SD card on the FC are nice, but if your FC doesn't have that you can connect an OpenLager logging device.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Blackbox Configuration​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#blackbox-configuration","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"Logging Device​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#logging-device","content":" Here you can select the device type.  No Logging: Disable Logging.Onboard Flash: Log to the onboard flash chip (if available).SD Card: Log to the onboard SD Card (if available).Serial Port: Log to an external logging device (eg. OpenLager).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Logging Mode​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#logging-mode","content":" Select the preferred logging mode.  No Logging: Disable Logging.Normal: Start logging when both ARM and BLACKBOX switches are active.Armed: Start logging when ARM switch is active.Switch: Start logging when BLACKBOX switch is active.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Logging Rate​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#logging-rate","content":" The log data is saved to the logging device with this rate. For logging to an external device, lower speed may be required.  Set it to 2kHz for OpenLager.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Debug Mode​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#debug-mode","content":" Choose what extra data is being logged, eight extra debug items are added to the Blackbox Log.  note Under Blackbox debug mode you can specify what should be logged. There are a lot of choices, but you can select GYRO_SCALED for PID tuning, GOVERNOR for analyzing the governor or CYCLETIME if you're interested in CPU time.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Debug Axis​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#debug-axis","content":" Choose which axis is being debugged. Applies to some of the debug modes.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Blackbox Logging Options​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#blackbox-logging-options","content":"   Here you activate the parameters that you want to log.  For general use activate the following options Command Setpoint Mixer PID Raw Gyro Gyro Battery RSSI RPM Motors Servos.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Onboard dataflash chip​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#onboard-dataflash-chip","content":"   Erase - Erase Blackbox Data.Save to file - Download Blackbox Data.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Mass Storage Mode​","type":1,"pageTitle":"Blackbox logging","url":"/docs/next/Tutorial-Setup/Blackbox#mass-storage-mode","content":"   Blackbox Explorer  The log files can be read with the Rotorflight Blackbox Explorer. ","version":"Development Snapshots","tagName":"h2"},{"title":"Command Line Interface (CLI)","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/CLI","content":"","keywords":"","version":"Development Snapshots"},{"title":"Accessing the CLI.​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/next/Tutorial-Setup/CLI#accessing-the-cli","content":" The CLI can be accessed via the configurator CLI tab.  ","version":"Development Snapshots","tagName":"h2"},{"title":"CLI Usage​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/next/Tutorial-Setup/CLI#cli-usage","content":" To save your settings type in save, saving will reboot the flight controller.  To exit the CLI without saving power off the flight controller or type in exit.  To see a list of other commands type in help and press return.  To dump your configuration (including the current profile), use the dump command.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Diff Backup Using CLI​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/next/Tutorial-Setup/CLI#diff-backup-using-cli","content":" This method shows all user-modified settings but avoids saving values left as default or values that are part of the board targets  Note that diff only shows the current Rate and PID profiles, whereas diff all will show all profiles that have been changed  diff all   This data should be sufficient to replicate the heli configuration on a new or erased flight controller board. Use the save to file function to create a backup.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Dump Using CLI​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/next/Tutorial-Setup/CLI#dump-using-cli","content":" Note that the dump command will output every setting and their current values. Many of these will be firmware defaults and are not needed to backup heli configuration changes.  rateprofile 0 profile 0 dump   ","version":"Development Snapshots","tagName":"h3"},{"title":"Dump Profiles Using CLI if You Use Them​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/next/Tutorial-Setup/CLI#dump-profiles-using-cli-if-you-use-them","content":" profile 1 dump profile profile 2 dump profile   ","version":"Development Snapshots","tagName":"h3"},{"title":"Dump Rate Profiles Using CLI if You Use Them​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/next/Tutorial-Setup/CLI#dump-rate-profiles-using-cli-if-you-use-them","content":" rateprofile 1 dump rates rateprofile 2 dump rates   copy screen output to a file and save it.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Backup/Restore via CLI​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/next/Tutorial-Setup/CLI#backuprestore-via-cli","content":" Go to Backup and Restore ","version":"Development Snapshots","tagName":"h3"},{"title":"Configuration","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Configuration","content":"","keywords":"","version":"Development Snapshots"},{"title":"Personalization​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#personalization","content":" Allows you to set your heli name to be shown in the OSD, blackbox logs and diff/dump outputs.    ","version":"Development Snapshots","tagName":"h2"},{"title":"System Configuration​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#system-configuration","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"Gyro Update Frequency​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#gyro-update-frequency","content":" This indicates the current gyro update frequency.  ","version":"Development Snapshots","tagName":"h3"},{"title":"PID Loop Frequency​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#pid-loop-frequency","content":" This is the frequency that the control loop operates at. Set to between 1kHz and 2kHz.  There is limited or no benefit in higher rates and will result in high loads for your flight controller. This could be an issue for F405 and F411 boards.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Accelerometer​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#accelerometer","content":" This must be selected if you wish to use stability (6G modes) such as Angle, Horizon or Rescue modes.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Barometer​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#barometer","content":" This is used for Altitude hold Rescue which is currently still being developed  ","version":"Development Snapshots","tagName":"h3"},{"title":"Magnetometer​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#magnetometer","content":" Currently this does not provide any control functionality, however, it can be used for telemetry.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Features​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#features","content":" This section is used to enable or disable features.    tip Features such as the GPS must be selected in the Serial ports section before selecting the Feature here.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Serial Ports​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#serial-ports","content":" Please choose the functions you wish to assign to your UART.    ","version":"Development Snapshots","tagName":"h2"},{"title":"MSP​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#msp","content":" As the name suggests, usually only used for lower-level communication using the MSP (MultiWii Serial Protocol) for configuration done by external devices, or to allow a more direct way of control. You can also set a specific baud rate.  ","version":"Development Snapshots","tagName":"h3"},{"title":"GPS​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#gps","content":" GPS is not currently used for Rotorflight for any flight controls. This can be used for telemetry purposes.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Serial Rx​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#serial-rx","content":" Check Receiver page for detailed info.  ","version":"Development Snapshots","tagName":"h3"},{"title":"ESC Telemetry​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#esc-telemetry","content":" Check ESC Telemetry page for detailed info.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Blackbox Logging​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#blackbox-logging","content":" This enables a UART for an external logging device such as OpenLager.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Telemetry: FrSky SmartPort​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#telemetry-frsky-smartport","content":" This is used when connecting an FrSky SmartPort receiver pin to this UART.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Board and Sensor alignment​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#board-and-sensor-alignment","content":" Change the roll, pitch and yaw gyro alignment value until the model on the status page moves in the same direction as the gyro board.  A method of determining what settings to use:  set Roll, Pitch and Yaw values to 0 degrees.set Gyro alignment to CW-0 degrees.Move the FC around until the movement of the FC matches the movement of the helicopter on the &quot;Status&quot; page. You may have to &quot;reset Z axis&quot;.Now take note of how you have to rotate/flip the board in order to get the FC oriented in the way you wish to mount it in the helicopter. An example would be that you have to rotate the board 180 and flip. You would chose 'CW180 Flip' in the Gyro alignment dropdown.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Accelerometer Trim​","type":1,"pageTitle":"Configuration","url":"/docs/next/Tutorial-Setup/Configuration#accelerometer-trim","content":" This section is used to trim the roll and pitch axis while the helicopter is in Stability mode (e.g Angle, horizon or Rescue).  The Transmitter trims for each cyclic axis must be at neutral when using Rotorflight (at 1500us). This will usually result in the helicopter drifting while in a stable hover. To correct for this drift the Accelerometer roll and pitch trims are to be used.  This can be done either directly by the configurator or via the transmitter with Lua or Adjustments.   ","version":"Development Snapshots","tagName":"h2"},{"title":"Failsafe","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Failsafe","content":"Failsafe In the event of receiver failsafe the flight controller will set Roll, Pitch, Yaw, and Collective commands to 0, and it will shut off the throttle. You can set other failsafe options for auxiliary channels, (Default is HOLD).","keywords":"","version":"Development Snapshots"},{"title":"Getting Started","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Getting-Started","content":"Getting Started Install the latest RF2 releaseRemap your servos and motors if you are using a Betaflight FC, otherwise, skip this step.Calibrate the Accelerometer.Check you Board alignment setting and adjust if necessary.Connect Receiver to a free UART and select corresponding receiver settings.Select Battery Voltage and Current Source as per you setup, and Set Battery Capacity and Cell Count.Select ESC Throttle protocol, and Optional: ESC Telemetry protocol, Set Gear Ratios, and Motor Pole Count.Optional: Select and Setup the Governor.Setup Servos.Setup and Calibrate the Mixer.Setup the Gyro RPM Filters.Set the Rates as per flying style.Set the PID Values.Setup ARMING, and other required modes.Setup Profile Switching and other Adjustments if required.Setup BLACKBOX Logging.Optional: Setup LUA Script on radio.","keywords":"","version":"Development Snapshots"},{"title":"Flashing the firmware","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware","content":"","keywords":"","version":"Development Snapshots"},{"title":"Install Rotorflight Configurator​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#install-rotorflight-configurator","content":" Start by downloading and installing the latest Rotorflight Configurator release.  This walk-through uses Windows, but it should also work on Linux or macOS.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Install Drivers​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#install-drivers","content":" On Windows, install the STM USB VCP Drivers from the links on the Rotorflight Configurator page.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Back up Betaflight Config​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#back-up-betaflight-config","content":" Rotorflight is based on Betaflight and uses the Betaflight configuration as its base. You should make a copy of the configuration that the flight controller (FC) shipped with. Back up the Betaflight configuration as shown in Back up and restore.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Flash Firmware to FC​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#flash-firmware-to-fc","content":" Connect the FC to your computer with an USB data cable. Now you are ready to install the Rotorflight firmware to your FC. There are five different versions of the firmware, each version targeting a specific microprocessor: F405, F411, F7X2, F745, and H743. Your FC must use one of those processors. Besides firmware, each FC has it's own configuration. The configuration specifies the FC board, e.g. what pads are used for what.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Step 1.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#step-1","content":" Identify the Betaflight target. This can be found in the dump file specified by board_name saved in your backup or on the manufacturers website.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 2.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#step-2","content":" Open the Rotorflight configurator and click on Update Firmware.  Choose All release and Snapshots from the dropdown. Note: Snapshots are for development and testing purposes. They may contain bugs!! We recommend using snapshot firmware with care and to assist the project with testing. Choose &quot;Releases&quot; if you would rather use the latest stable firmwareSelect the Target you identified in Step 1. You can also click on the &quot;detect&quot; buton to auto detect the target.Select Full chip Erase, this will remove all previous configurations.Click on Load firmware[online]    ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 3.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#step-3","content":" Check and confirm the target board is correct.Click on Flash Firmware.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 4.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#step-4","content":" When the programming is successful click on Connect.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 5.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#step-5","content":" Configure the pin remapping. If you are using a commercial Rotorflight controller (NEXUS, Flydragon, Flywing, MatekG474 etc) this step is not required. These boards are configured with the required servos etc already.  If building a custom controller you will need to apply the remapping config to add your servos and motors. Please see the Remapping page for details on how to use the Custom defaults remapping spreadsheet.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Troubleshooting​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/next/Tutorial-Setup/Flashing-the-firmware#troubleshooting","content":" 'Initiating reboot to bootloader' hangs If you're on Windows and it hangs while displaying Initiating reboot to bootloader, you'll need to install the proper driver for the STM32 BOOTLOADER device.  Make sure the device STM32 BOOTLOADER is installed and showing up in the Device Manager, either under Other Devices or under Universal Serial Bus devices. Select View &gt; Show Hidden Devices in order to see all installed devices.  You might need to uninstall all STM Device in DFU Mode devices under Universal Serial Bus Controllers before Windows will install the STM32 BOOTLOADER device. Make sure to check Delete the driver software for this device.  In the Configurator, go to the CLI and type dfu. This puts the FC in Device Firmware Update mode.  Start Zadig (see download link on the Welcome tab in the Configurator), select Options &gt; List all Devices, select STM32 BOOTLOADER and change the driver to WinUSB. Flash firmware should now work.    Error 'Rebooting device to bootloader: FAILED' If you receive the error Rebooting device to bootloader: FAILED then you will need to manually place the FC into bootloader mode. Do this by holding down the BOOT button while connecting it to your computer.  Help... that didn't work. Its bricked! Ok, so after rebooting you are no longer able to connect to the FC via USB. This can happen if your configuration file is not correct (USB becomes unallocated) or if you have loaded the incorrect firmware for the processor type. Don't worry: the bootloader can't be bricked, it's in ROM. You can always reload the firmware via the DFU (device firmware update) mode. Most flight controllers have a 'boot' button or pins which are used to enter DFU mode. Generally you can just enter DFU mode by pushing the button or bridging the boot pins as you plug the USB in (while the Rotorflight Configurator is open).    Rotorflight Configurator will display DFU - STM32 BOOTLOADER at the top of the page after a successful DFU connection. Click on the Update Firmware and follow the steps above to re-flash the firmware as required.    If you still having problem connecting to the MCU, install the Impulse-RC Driver Fixer. ","version":"Development Snapshots","tagName":"h2"},{"title":"ESC Telemetry","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/ESC-Telemetry","content":"","keywords":"","version":"Development Snapshots"},{"title":"Select Serial Port​","type":1,"pageTitle":"ESC Telemetry","url":"/docs/next/Tutorial-Setup/ESC-Telemetry#select-serial-port","content":" The ESC telemetry pin TX needs to be connected to a spare UART RX.  Select the UART from the Configuration page.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Select the Protocol​","type":1,"pageTitle":"ESC Telemetry","url":"/docs/next/Tutorial-Setup/ESC-Telemetry#select-the-protocol","content":" Select the correct ESC telemetry protocol based on the one you are using.    For Hobbywing V4Additional parameters are provided for the voltage and current gains, and zero offsets.  set esc_sensor_hw4_voltage_gain = 0set esc_sensor_hw4_current_gain = 0set esc_sensor_hw4_current_offset = 0  These parameters are set to zero by default to enable the Auto-Calculation within the firmware. If you wish to fine tune the voltage and current you can use the below values as a starting point.  Model\tVoltage gain\tCurrent gain\tCurrent offsetPlatinum LV 60A\t109\t0\t0 Platinum LV 80A\t109\t146\t409 Platinum LV 120A\t109\t110\t377 Platinum HV 130A\t210\t157\t0 Platinum HV 200A\t210\t157\t477 FlyFun HV 160A\t210\t66\t381  ","version":"Development Snapshots","tagName":"h3"},{"title":"Power Config​","type":1,"pageTitle":"ESC Telemetry","url":"/docs/next/Tutorial-Setup/ESC-Telemetry#power-config","content":" Enable the Voltage and Current from the Power Tab.   ","version":"Development Snapshots","tagName":"h3"},{"title":"GPS","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Gps","content":"GPS To Do","keywords":"","version":"Development Snapshots"},{"title":"Governor","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Governor","content":"","keywords":"","version":"Development Snapshots"},{"title":"Governor Mode​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#governor-mode","content":" The governor has multiple operating modes, each using a slightly different method for the throttle control in the PID loop. Select a mode from one of the values below.    ","version":"Development Snapshots","tagName":"h2"},{"title":"OFF​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#off","content":" The governor is disabled, and the stabilized throttle output ST is taken from the receiver throttle channel.  ","version":"Development Snapshots","tagName":"h3"},{"title":"PASSTHROUGH​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#passthrough","content":" The governor does not control the headspeed, but provides all the aux functions, like slow spool up, autorotation bailout, and error recovery. In the active state, the receiver throttle channel is directly passed through to the stabilized throttle output ST.  ","version":"Development Snapshots","tagName":"h3"},{"title":"STANDARD​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#standard","content":" The governor is stabilizing the headspeed with a standard PID control, similar to most ESCs. All aux functions are also active.  ","version":"Development Snapshots","tagName":"h3"},{"title":"MODE1​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#mode1","content":" Like STANDARD, but with collective/cyclic precompensation. This is similar to governors in most FBL systems.  ","version":"Development Snapshots","tagName":"h3"},{"title":"MODE2​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#mode2","content":" Like MODE1, but with battery voltage compensation. The PID loop does not need to react to battery voltage fluctuations, as it is taken into account outside the PID loop. This is usually the best choice. Can be used only if the battery voltage is connected to the FC.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Governor Basic Settings​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#governor-basic-settings","content":"   In order to use the governor you must first configure the ESC/Motor features. This defines the motor telemetry (for RPM feedback) and gear ratios for your helicopter which lets the flight controller know how fast the rotor is spinning.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Handover throttle​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#handover-throttle","content":" The throttle level above which the governor is activated. Below this level the input throttle is passed to the ESC, above this level the governor is enabled and the input throttle is used for calculating the target headspeed. The motor must be able to start below this throttle level.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Startup time​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#startup-time","content":" startup time is applied before the RPM is detected. Some ESCs require really slow startup ramp to be gentle. Some other ESCs need really rapid start for starting at all.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Spoolup time​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#spoolup-time","content":" This is an acceleration limit (in seconds) used for spooling up (After a valid rpm signal has been detected). It sets the acceleration limit that is equivalent to total time for spooling up from zero to full headspeed. For example, with a value of 10 and full headspeed of 3000rpm, the main rotor would take 10s to reach 3000rpm.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Tracking time​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#tracking-time","content":" Acceleration limit (in seconds) for normal operation. This occurs when the requested headspeed command changes while the governor is in the active state. This parameter limits the rpm change speed (acceleration). For example, when set to a value of 10 (which is 10s to ramp 0-100%). If hovering in Normal mode at 1500rpm (50% throttle) and then switching to Idl3 of 3000rpm (100% throttle) the Governor would ramp over 5s. Typical value is 5..20.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Recovery time​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#recovery-time","content":" Acceleration limit (in seconds) for error recovery. When the governor is recovering from lost headspeed or lost throttle signal, this is the max acceleration for the following (faster) spoolup.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Autorotation bailout time​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#autorotation-bailout-time","content":" Acceleration limit (in seconds) for autorotation bailout. When the governor is spooling up from autorotation, it is limiting the spoolup speed with this parameter.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Autorotation timeout​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#autorotation-timeout","content":" In the autorotation state, if high throttle returns before this timeout expires, the spoolup is done with bailout acceleration. After the expiration, the governor enters the idle state, and any subsequent spoolup is slow.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Autorotation minimum entry time​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#autorotation-minimum-entry-time","content":" Minimum flight time before Autorotation can be engaged.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Zero Throttle Timeout​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#zero-throttle-timeout","content":" When the throttle input (from receiver) goes to zero, the governor enters an intermediate state where it is waiting for the throttle to return. If the throttle returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters off state, and any future spoolup will be slow.  note The purpose of this feature is to allow fast spoolup in case the throttle cut (hold) is hit accidentally. If high throttle is returned very soon after, the heli will spool up quickly and hopefully keep on flying. Unit is 0.1s. Typical value is 5..50.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Headspeed Signal Timeout​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#headspeed-signal-timeout","content":" If the headspeed rpm signal is lost, the governor enters an intermediate state where it is waiting for the rpm signal to return. If the signal returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters the idle state, and any future spoolup would happen with the default (slow) spoolup acceleration. Unit is 0.1s. Typical value is 5..50.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Headspeed Filter Cutoff [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#headspeed-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The RPM input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Battery Voltage Filter Cutoff [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#battery-voltage-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The Battery voltage input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"Development Snapshots","tagName":"h3"},{"title":"TTA Bandwidth [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#tta-bandwidth-hz","content":" Cutoff for the TTA (Torque Tail Assist) lowpass filter.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Precomp Bandwidth [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#precomp-bandwidth-hz","content":" Cutoff for the cyclic/collective precompensation lowpass filter.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Governor Profiles Settings​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#governor-profiles-settings","content":" These settings are set from the Profiles Tab. If desired, individual Profiles can be configured via the Adjustments Tab. This enables individual flight modes to have separate tuning and configuration set for each flight mode. (similar to 'Bank Switching').    ","version":"Development Snapshots","tagName":"h2"},{"title":"Full Headspeed​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#full-headspeed","content":" This is the highest headspeed that the governor would ever try to maintain, when the throttle input is at 100%.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Maximum Throttle​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#maximum-throttle","content":" Maximum output throttle the governor is allowed to use.  ","version":"Development Snapshots","tagName":"h3"},{"title":"PID Master Gain​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#pid-master-gain","content":" Master gain multiplier  ","version":"Development Snapshots","tagName":"h3"},{"title":"P-Gain​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#p-gain","content":" Governor Proportional gain  ","version":"Development Snapshots","tagName":"h3"},{"title":"I-Gain​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#i-gain","content":" Governor Integral gain  ","version":"Development Snapshots","tagName":"h3"},{"title":"D-Gain​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#d-gain","content":" Governor Derivative gain  ","version":"Development Snapshots","tagName":"h3"},{"title":"Feedforward-Gain​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#feedforward-gain","content":" Governor Feedforward gain  ","version":"Development Snapshots","tagName":"h3"},{"title":"Yaw precompensation​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#yaw-precompensation","content":" Yaw precompensation weight. Determines how much yaw is mixed into the feed forward. This helps the governor to maintain the headspeed proactively. Usually 20..100  ","version":"Development Snapshots","tagName":"h3"},{"title":"Cyclic precompensation​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#cyclic-precompensation","content":" Cyclic precompensation weight. Increasing the cyclic increases load on the rotor and causes it to slow down. This setting determines how much cyclic is mixed into the governor feedforward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"Development Snapshots","tagName":"h3"},{"title":"Collective precompensation​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#collective-precompensation","content":" Collective precompensation weight. Increasing the collective increases load on the rotor and causes it to slow down. This setting determines how much collective is mixed into the governor feedfoward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"Development Snapshots","tagName":"h3"},{"title":"Governor throttle input ranges​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#governor-throttle-input-ranges","content":" With the governor feature activated, the transmitter throttle channel is controlling the governor, rather than the ESC directly.  Depending in which range the throttle value falls into, the governor will function differently.  ","version":"Development Snapshots","tagName":"h2"},{"title":"THROTTLE < 0%​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#throttle--0","content":" This throttle value indicates throttle hold (throttle cut) condition. It's guaranteed that all motors are stopped immediately. The throttle output from the governor is guaranteed to be zero.  note Make sure your transmitter is sending a value lower than 0% when throttle hold is activated. Throttle hold SHOULD NOT be used for autorotation.  ","version":"Development Snapshots","tagName":"h3"},{"title":"0% < THROTTLE < 5%​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#0--throttle--5","content":" In this range, the governor is in idle or autorotation state, and the output is zero - the main motor is stopped.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor stopped, use this range!  ","version":"Development Snapshots","tagName":"h3"},{"title":"5% < THROTTLE < Handover throttle%​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#5--throttle--handover-throttle","content":" In this range, the governor is in idle or autorotation state, and the output is in 0% - H.Thr%, increasing linearly through the range.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor running, use this range!  ","version":"Development Snapshots","tagName":"h3"},{"title":"Handover throttle% < THROTTLE < 100%​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#handover-throttle--throttle--100","content":" In this range, the governor is in active state, and the requested rpm is Handover throttle%..100% of the gov_headspeed.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Governor State​","type":1,"pageTitle":"Governor","url":"/docs/next/Tutorial-Setup/Governor#governor-state","content":" The governor internal state can be observed in the blackbox log. It is a good indication on what the governor is trying to do.  OFF The governor is disabled and the throttle output is zero.  IDLE The governor is idle, because the input throttle is in the idle range. The throttle output is as described above - 0..10%.  SPOOLING_UP The input throttle has transitioned from low to high, and the governor is spooling up slowly.  ACTIVE The governor has reached the target headspeed and is actively maintaining it.  LOST_THROTTLE The throttle signal has suddenly dropped from high to low. If the throttle returns quickly, a recovery spoolup is performed. This state is for convenience, when the pilot accidentally hits throttle hold, and then realizes the mistake.  LOST_HEADSPEED The RPM input signal is lost. The governor will wait for a little while for the signal to return, before spooling down. It the signal returns quickly, a recovery spoolup is performed.  RECOVERY The governor is performing a recovery spoolup after one of the conditions above.  AUTOROTATION The throttle has dropped from high to the autorotation range. The governor is expecting the throttle to return once the autorotation has been performed. Once the throttle return, the governor moves to the state below.  AUTOROTATION_BAILOUT Throttle has returned while in AutoRotation state, and the governor is performing an autorotation bailout. ","version":"Development Snapshots","tagName":"h2"},{"title":"Mixer","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Mixer","content":"","keywords":"","version":"Development Snapshots"},{"title":"Main Rotor Settings​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#main-rotor-settings","content":" Swashplate type​  Choose the swash type that suits your helicopter.    Rotor direction​  Choose the direction of rotation for the main rotor. This is looking down from on the top of the rotor.  Elevator Control direction​  With the helicopter servos powered, tilt the heli forward (pitch down). The swash should now pitch up towards the tail of the helicopter. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Aileron Control direction​  Roll the heli to the right (right Aileron). The swash should pitch towards the left. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Collective Control direction​  Push the collective stick forward (Increasing collective). The swash should now rise up towards the rotor head (to increase collective). If the swash goes down change the control direction from [NORMAL] to [REVERSE].  ","version":"Development Snapshots","tagName":"h3"},{"title":"Swashplate Link Trims​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#swashplate-link-trims","content":"   Ideally the swashplate should be set with all 3 Collective servos at 90 deg while the blade angle is at 0 degrees. Some helicopters have fixed length swash links which means in order to get 0 degrees for blade centre the servo arms need to be raised or lowered. Use these link trims to provide that function.  For helicopters with adjustable swash links this should remain at 0 and the links adjusted to get a 0 degree blade angle.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Main Rotor Geometry​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#main-rotor-geometry","content":"   Cyclic and Collective calibration​  These settings are used to calibrate the mixer so that the blade angle matches the commanded angle for both the cyclic and collective. See the calibration procedure for details.  Collective geometry correction​  Adjust until the collective positive and negative deflections are equal.  Collective blade pitch limit​  Ideally, one should use this option to set the maximum allowed collective blade pitch. Therefore, if the person wants to change the collective pitch down the line, they should be able to adjust in the &quot;rates&quot; page confidently without worrying about servos binding. Practically, for most 3D helicopters, this is set to the maximum collective you will ever need (15-16deg) if the helicopter is physically capable of doing it  Cyclic blade pitch limit​  This is NOT the same as the cyclic calibration on other FBLs (it's NOT the 8 deg cyclic on vbar for example)This is designed to let the FBL know how much cyclic travel the helicopter is PHYSICALLY capable ofUsually adjust it so that around zero collective there is no physical interference anywhere. You might want to temporally increase the I gains (to around 200) on cyclic and move the cyclic stick to find the limits. MAKE SURE TO TURN THEM BACKSome 550+ size helicopter might be able to achieve 16+ degree of cyclic pitch, you could set it to the absolutely maximum but it is advised to limit around 16degree since practically it should never hit that much cyclic.  Total blade pitch limit​  This is probably the most difficult limit to understand and setup properlyTo find the total blade pitch limit, make sure the collective blade pitch limit and cyclic blade pitch limit are set up correctly. You might want to use the I-gain trick mentioned aboveSet the collective pitch to max, then move the cyclic. Increase the limit until either there is a physical limit or the fish-eye bearing (the ball) in the center of the swash drops at the max cyclic due to one servo reaching its limit.Repeat at lowest collective pitchYou could also increase cyclic servo travels to gain more total blade pitch. However, nothing should be interferingDouble check that theres NO binding or interference at ANY combination of collective and cyclic in their whole range.Make sure to turn the I-gains back to default in the end if the I-gain trick is used.  Swashplate phase angle​  Usually set it per manufacture recommendation. One could consider if theres bobbling that could not be resolved from changing the cross coupling gains or it is known that the rotor head design requires a non-zero phase angle.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Tail Rotor Settings​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#tail-rotor-settings","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"Tail rotor type​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#tail-rotor-type","content":" Variable Pitch​  This is a variable pitch tail controlled by a servo (Servo#4).  Motorized​  The tail has separate motor(M2) for controlling the yaw.  Bidirectional​  Motorized tail operating in bi-directional mode.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Yaw Control Direction​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#yaw-control-direction","content":" With the helicopter tail servo powered, move Rudder stick to the right. The tail slider should move to the inside (toward the tail case). If this is not the case, change the control direction from [NORMAL] to [REVERSE].  ","version":"Development Snapshots","tagName":"h3"},{"title":"Center Trim For Tail Rotor [°]​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#center-trim-for-tail-rotor-","content":" Set tail rotor trim for zero yaw command.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Calibrating The mixer​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#calibrating-the-mixer","content":" note The purpose of the mixer calibration is to set the helicopters physical blade angle to the angle commanded by the FC  ","version":"Development Snapshots","tagName":"h2"},{"title":"Mixer override​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#mixer-override","content":" Set the mixer override at the bottom of the pages to ON. This will open the override window.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Collective Calibration​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#collective-calibration","content":" Confirm with a blade pitch tool that with collective mixer at 0 deg the blades are also at 0 deg.Set the collective mixer override to 9 deg. Measure the blade angle.If the Blade angle is different from the Override angle, increase or decrease Collective Calibration % until the bade angle matches.Set collective back to 0 deg.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Cyclic Calibration​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#cyclic-calibration","content":" Set the pitch override to 9 deg.Measure the blade pitchIncrease or decrease the Cyclic Calibration %  ","version":"Development Snapshots","tagName":"h3"},{"title":"Variable Pitch Yaw Calibration​","type":1,"pageTitle":"Mixer","url":"/docs/next/Tutorial-Setup/Mixer#variable-pitch-yaw-calibration","content":" Set YAW override to 0 deg.Adjust the push rod length so that the rear tail L arm is 90°.If this does not give 0° blade pitch, adjust Center trim until you have 0° blade pitch.Set mixer yaw override to 30deg CW/CCW, adjust Yaw Calibration % until you have around 30deg both ways.Set mixer yaw override to 60deg CW/CCW, adjust CW / CCW limits to the maximum number that does not causing binding.  note The calibration and CW / CCW limits vs. blade pitch is never perfect, because of the geometry assymmetry. It does not matter.The reason for doing the calibration is to make the PID defaults better. Without the calibration, all defaults in PID Profile are probably wrong.The Centre trim is mostly needed for making the CW/CCW limit numbers to match the blade angles. It also helps the feedforwards to work correctly. ","version":"Development Snapshots","tagName":"h3"},{"title":"Lua Scripts","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/LUA-Scripts","content":"","keywords":"","version":"Development Snapshots"},{"title":"Introduction​","type":1,"pageTitle":"Lua Scripts","url":"/docs/next/Tutorial-Setup/LUA-Scripts#introduction","content":" You can adjust a variety of settings using only your transmitter with the Rotorflight Lua scripts. They allow you to change things like PIDs, rates, filters, failsafe and governed headspeed on the field. Prerequisites:  OpenTX 2.3.12, EdgeTX 2.5.0 or newer or Ethos 1.4 or newer on the transmitter and: an FrSky SmartPort or F.Port receiver.or a CRSF v2.11 or newer receiver.or an ELRS 2.0.1 or newer receiver.  Examples:  TX16S with a FrSky X4R using the FrSkyX2 protocol.Frsky Ethos Radio (X20, X18, X14 etc) with either SPORT,FPORT receiver or ELRS with an external module.Taranis X9D with a TBS Crossfire TX/RX module.Taranis QX7 and a FrSky R-XSR, using the FrSky D16 protocol (as long as you don't use the ACCST D16 2.1.1 LBT firmware on the R-XSR, because this firmware has telemetry bugs).TX16S with an ELRS 2.0.1 module and receiver.  If you're not using F.Port, start up the Rotorflight Configurator, go to the Configuration tab and enable the TELEMETRY feature. F.Port telemetry does work without enabling this feature.  If telemetry is working properly on your system, the Lua scripts should work as well.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Installation​","type":1,"pageTitle":"Lua Scripts","url":"/docs/next/Tutorial-Setup/LUA-Scripts#installation","content":" Download the latest release and copy the contents of the SCRIPTS folder to your transmitter. See also the readme.  and copy the contents of the SCRIPTS folder to your transmitter.  You will know if you did this correctly if the rf2.lua file shows up in the /SCRIPTS/TOOLS directory. Also Rotorflight 2 should now show up in the Tools menu of your transmitter.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Usage​","type":1,"pageTitle":"Lua Scripts","url":"/docs/next/Tutorial-Setup/LUA-Scripts#usage","content":" On your transmitter, go to the Tools menu of your transmitter and select Rotorflight 2.    The first time you do this all scripts will be compiled and the Tools menu will be displayed again. Select Rotorflight conf again. Now the script will wait for a connection with the receiver.    Power up the receiver. The script will retrieve the API version used by Rotorflight and the device ID of the flight controller. After this you will see the main menu.    Here you can select what you want to change. For example, select PIDs.    Now you can change the values of your PIDs. If you want to save your changes, long press the wheel/roller. The Page menu should now pop up. Select Save page to send your changes to the flight controller. Or press Exit to exit the Page menu.    There's quite a lot of settings you can adjust on the field. Here's an overview of all the pages:    Feel free to have a look at any page. As long as you don't select Save page, nothing will be changed.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Background script​","type":1,"pageTitle":"Lua Scripts","url":"/docs/next/Tutorial-Setup/LUA-Scripts#background-script","content":" This optional background script offers RTC synchronization and RSSI through MSP.  RTC synchronization will send the time of the transmitter to the flight controller. The script will beep if RTC synchronization has been completed.  Blackbox logs and files created by the FC will now have the correct timestamp.  The background script can be setup as a special or global function in EdgeTX.  The image below shows how to configure the background script as a special function.  By doing this, the script will automatically run as soon as the model is selected.     ","version":"Development Snapshots","tagName":"h2"},{"title":"Power","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Power","content":"","keywords":"","version":"Development Snapshots"},{"title":"Power State​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#power-state","content":" Connected - Yes/No, if Yes, also shows cell countVoltage - Voltage of the batteryCurrent - Current drawmAh Used - Capacity used in mAhCharge Level - Battery charge percentage  ","version":"Development Snapshots","tagName":"h2"},{"title":"Battery​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#battery","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Battery Voltage Source​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#battery-voltage-source","content":" Select the source for the voltage measurements  None - No voltage measurements will be availableBattery ADC - Use the ADC on the flight controller to get the voltage measurementsESC Telemetry - Use the ESC telemetry to get the voltage measurements  ","version":"Development Snapshots","tagName":"h3"},{"title":"Battery Current Source​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#battery-current-source","content":" Select the source for the current measurements  None - No current measurements will be availableBattery ADC - Use the ADC on the flight controller to get the current measurementsESC Sensor - Use the ESC telemetry to get the current measurements  ","version":"Development Snapshots","tagName":"h3"},{"title":"Min/Max/Warning Cell Voltage​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#minmaxwarning-cell-voltage","content":" Minimum Cell Voltage - The voltage that is considered critically low, and will trigger the corresponding warnings Maximum Cell Voltage - The voltage of a fully charged Cell Warning Cell Voltage - The voltage that is considered low, and will trigger the corresponding warnings  danger The warning voltage should be set to a value where you can still land safely, usually 3.6-3.5V. The minimum voltage should be set to a value where damage is imminent, usually 3.3V. If you fly a battery to less than 3.3V, it will start to be damaged and will not be able to hold a charge anymore, and can even be dangerous.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Capacity​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#capacity","content":" The capacity of the battery in mAh. This is used to calculate the remaining battery capacity in percent.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Cell Count​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#cell-count","content":" Force cell count to avoid confusion between full 11S and flat 12S for example.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Voltage Meters​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#voltage-meters","content":" Settings for the voltage meter to measure the battery voltage correctly.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Battery​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#battery-1","content":" Main Pack voltage.  ","version":"Development Snapshots","tagName":"h3"},{"title":"BEC​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#bec","content":" Servo Bus voltage.  ","version":"Development Snapshots","tagName":"h3"},{"title":"5V​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#5v","content":" VBus voltage.  ","version":"Development Snapshots","tagName":"h3"},{"title":"EXT​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#ext","content":" External voltage input voltage.  ","version":"Development Snapshots","tagName":"h3"},{"title":"MCU​","type":1,"pageTitle":"Power","url":"/docs/next/Tutorial-Setup/Power#mcu","content":" MCU voltage.  Scale​  The scale of the voltage meter. This is used to calculate the correct voltage from the ADC value. If the battery voltage is not displayed correctly, you can adjust this value up/down to fix it  Divider / Multiplier Value​  This defines how the value read by the ICs ADC converts into a voltage value that makes sense to the pilot. In easy terms this sets how the ratio difference between the two voltage divider resistors are used in the voltage calculation formula.  Example:​  Scale: 110 = 10:1 voltage divider (10k:1k ohm resistors) Divider: 10 = sets the direct resistor to resistor ratio Multiplier: 1 = this is to fine tune the outcome of the calculation, a value of 1 is &quot;no correction&quot;. ","version":"Development Snapshots","tagName":"h3"},{"title":"Modes","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Modes","content":"","keywords":"","version":"Development Snapshots"},{"title":"ARM​","type":1,"pageTitle":"Modes","url":"/docs/next/Tutorial-Setup/Modes#arm","content":" ELRS If using an ELRS receiver you must configure the ARM switch to AUX1 (1000 = Disarmed, 2000 = Armed). This channel is sent every cycle. Please see the ELRS switch config documentation  ARM &amp; throttle hold ARM and throttle hold are not the same. Do not configure the ARM and throttle hold on the same channel. The Flight controller needs to see minimum throttle before it can arm and if they are both on the same channel it will fail the minimum throttle check and will not ARM.    All flight controllers need to be ARMED before the motors are able to spool up. Once the Arming mode is configured (as shown above) the flight controller can be Armed ready for flight. If the flight controller detects an unsafe condition Arming will be disabled. If this occurs you can look at the Arming flag status on the Status Tab to identify what is preventing Arming being enabled.    You can find out a description of these flags from the List of Arming prevention flags  This function can also provide the ability to prevent arming of the heli unless the correct model has been selected on your transmitter (if your RX does not have this functionality). This is done by adjusting the endpoint of your AUX channel to a different value for each model and setting the ARM range to enable the FC only for that model.  ","version":"Development Snapshots","tagName":"h2"},{"title":"RESCUE​","type":1,"pageTitle":"Modes","url":"/docs/next/Tutorial-Setup/Modes#rescue","content":" Enable Rescue mode from the tabs. Allocate the AUX channel and range to suit.    info The purpose of the rescue mode is to arrest any decent, then put the helicopter at a safe altitude in a stable attitude. It does this in stages. Immediately levels in current orientation (upright or inverted)Applies a pull up collective to rapidly stop any decentApplies a climb Collective to gain some heightif it is still inverted (and the flip toggle enabled) it will flip to upright.Hover collective is now applied.  After enabling Rescue mode configure the rescue settings from the Profiles Tab.  ","version":"Development Snapshots","tagName":"h2"},{"title":"6G flight modes​","type":1,"pageTitle":"Modes","url":"/docs/next/Tutorial-Setup/Modes#6g-flight-modes","content":" There are 3 types of self leveling stabilization modes available in Rotorflight. 6G modes (unlike the normal Acro) will auto level when the transmitter sticks are released. These modes make the heli fly more like a drone.  ","version":"Development Snapshots","tagName":"h2"},{"title":"ANGLE​","type":1,"pageTitle":"Modes","url":"/docs/next/Tutorial-Setup/Modes#angle","content":" Angle mode provides similar functionality to Horizon mode with the addition of limiting the helicopter attitude to the angle specified.  ","version":"Development Snapshots","tagName":"h3"},{"title":"HORIZON​","type":1,"pageTitle":"Modes","url":"/docs/next/Tutorial-Setup/Modes#horizon","content":" Horizon mode provides attitude stabilization which will level the helicopter when the transmitter sticks are let go. Constant stick input is required to keep the helicopter moving.  ","version":"Development Snapshots","tagName":"h3"},{"title":"TRAINER​","type":1,"pageTitle":"Modes","url":"/docs/next/Tutorial-Setup/Modes#trainer","content":" Acro trainer mode does not provide self leveling of the helicopter. It does however limit the angle the helicopter can reach.  Enable ANGLE/HORIZON/TRAINER modes from the tabs. Allocate the AUX channel and range to suit.    In the example above AUX3, and AUX6 are each assigned to a separate 3 position switches on the TX.  Horizon mode has been assigned to the AUX3 Range when the middle position of AUX3 switch.Angle mode is assigned to AUX3 at full up position of the AUX3 switch.Nothing is assigned when AUX3 switch fully down. This means the Heli is in Normal or 3D mode.Trainer mode is assigned to AUX6 at full up position of the AUX6 switch.  After enabling 3G modes you can configure their settings from the Profiles Tab.  ","version":"Development Snapshots","tagName":"h3"},{"title":"BLACKBOX​","type":1,"pageTitle":"Modes","url":"/docs/next/Tutorial-Setup/Modes#blackbox","content":" When you select Normal logging mode, you need to activate the blackbox switch in the Modes Tab.  Enable Blackbox from the tabs. Allocate an AUX channel and range to suit.    Now in this example the blackbox logging will start when the heli is armed and AUX5 is at full up position. ","version":"Development Snapshots","tagName":"h2"},{"title":"Motor and ESC","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Motor-and-Esc","content":"","keywords":"","version":"Development Snapshots"},{"title":"ESC/Motor Features​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#escmotor-features","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"ESC Throttle Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#esc-throttle-protocol","content":" Set the ESC protocol required for your ESC under ESC/Motor protocol. Usually this would be PWM or DSHOT300.    ","version":"Development Snapshots","tagName":"h3"},{"title":"ESC Telemetry Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#esc-telemetry-protocol","content":" Set the ESC Telemetry protocol if your esc supports it.    ","version":"Development Snapshots","tagName":"h3"},{"title":"ESC Forward Programming​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#esc-forward-programming","content":" Forward programming is a feature used to access and program your ESC via your Transmitter via your Rotorflight FC. Currently there are several ESC types that are compatible with Forward programming  EdgeTX​  Edge Tx Tools (Bob00)  YGEScorpionHobbywing V5FLYROTOR (comming)ZTW (comming)  Please go to the ETX-tools Github to download  Frsky Ethos​  ** Info to go here??  note A correct RPM measurment is crucial to the operation of RPM_FILTER and GOVERNOR features, therefore ensure that you have a correct RPM measurment setup. The FC also needs to know the RPM of the main rotor, and the tail rotor. For this you have to exactly specify the Motor pole count and the Gear ratios. With this info, the FC can calculate the: Main motor RPM = eRPM / (motor pole count / 2)Main rotor RPM = Main motor RPM / ( main gear tooth count / main motor pinion tooth count )  ","version":"Development Snapshots","tagName":"h3"},{"title":"PWM Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#pwm-protocol","content":" Most RC helicopter ESCs manufacturers (e.g. Hobbywing, YGE, Scorpion ,or Castle) use PWM, an analog protocol.    RPM Sensor: Activate the RPM Sensor input for motor RPM, you can connect an RPM signal from the ESC, or from an external RPM sensor device.  ESC Update Frequency: the PWM update frequency for your ESC. Usually between 50-400Hz.  Disarm Throttle PWM value: the value that is sent to the ESC when the craft is disarmed. It should stop the motors. Usually 1000µs.  0% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at 0% throttle. Usually 1070µs.  100% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at full throttle. Usually 2000µs.  ","version":"Development Snapshots","tagName":"h3"},{"title":"DSHOT Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#dshot-protocol","content":" Most drone ESCs support DSHOT, a digital protocol.    If you use DSHOT, use either DSHOT150 or DSHOT300. DSHOT600 is not recommended. Also make sure that the main motor isn't actively being braked by the ESC, especially if you don't have a one way bearing on the main shaft.  BLHeli_32: set Non Damped Mode to On on the main motor ESCBluejay: set Maximum Breaking Strength to 0  DShot RPM Telemetry​  This switch is only visible when the ESC/Motor protocol is DSHOTxxx. It enables motor eRPM telemetry on supported ESCs via bidirectional DSHOT and can be used to facilitate the GOVERNOR and/or RPM_FILTER features. If you use bidirectional DSHOT you don't have to use a frequency sensor for obtaining the eRPM of the motor(s).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Gear Ratio Configuration​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#gear-ratio-configuration","content":"   Enter the number of teeth for the main rotor gearing [Teeth on Pinion gear]/[Teeth on Main Gear]. For a direct drive Main rotor this is just set to 1 / 1.  Enter the number of teeth for the Tail rotor gearing [Teeth on Tail gear]/[Teeth on Autorotation Gear]. For a direct drive tail this is just set to 1 / 1.  tip If the gear tooth count is not known, you can approximate the gear ratio instead. For example if the main gear ratio is 11.8 then you set [Teeth on Pinion gear =10]/[Teeth on Main Gear =118]. Similarly if the tail gear ratio is 4.8 then you set [Teeth on Tail gear =10]/[Teeth on Autorotation Gear =48]. note that counting the gear tooth is preferable because an accurate gear ratio is essential to the operation of the RPM Filters.  note For Helicopters with two-stage reduction, kindly read the Two-Stage Gear Train WalkTrough  ","version":"Development Snapshots","tagName":"h3"},{"title":"Motor Pole Count​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#motor-pole-count","content":" Determine the number of magnetic poles for each motor. Count the number of magnets on the motors rotor. In the example below the magnets (circled) are fixed to the outer bell which in total has 14. This allows the flight controller to know how many electrical phase rotations are required to complete one physical motor revolution.      ","version":"Development Snapshots","tagName":"h3"},{"title":"Governor Features​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#governor-features","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Motor Override​","type":1,"pageTitle":"Motor and ESC","url":"/docs/next/Tutorial-Setup/Motor-and-Esc#motor-override","content":" Motor Override functionality is provided to test the operation of each motor directly. This functionality will make the motors spool up. Do this WITHOUT the main or tail rotors fitted!    Throttle - This is the command being sent from the flight controller to the ESC.  RPM - The measured RPM telemetry feedback. As the motor spins this should read a value related to the current speed.  Errors (only with DSHOT) - This shows the status of the RPM telemetry signal. This should be 0%.  Slider If you use the slider, make sure you release the mouse button. Nothing changes as long as you hold the mouse button down!  BLHeliSuite32 The Test motors function in BLHeliSuite32 doesn't work when using Rotorflight. It will give an error like 'Initialization of Motor Test Mode failed! Please check current Unknown rev 4.3.0 support for this application function!'. ","version":"Development Snapshots","tagName":"h2"},{"title":"LED Strip","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/LED-Strip","content":"","keywords":"","version":"Development Snapshots"},{"title":"LED Strip Profiles​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#led-strip-profiles","content":" The LED strip feature supports 4 LED Strip profiles: RACE, BEACON, STATUS and STATUS_ALT. The selected profile can be changed from the Configurator, CLI, OSD LED strip menu or from an adjustment channel, i.e. switch on your radio. Take note that the adjustment channel from your radio overrides all other LED strip profile selection options.  ","version":"Development Snapshots","tagName":"h2"},{"title":"STATUS Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#status-profile","content":" The STATUS profile is used to display all the information mentioned below, i.e. warning indications, Larson scanner, positional lights, ACL, etc.  Addressable LEDs can be used to show information from the flight controller system and supports:  Up to 32 LEDs.User definable blink patterns.AUX operated switching between LED profiles.Indicators showing pitch/roll stick positions.Heading/Orientation lights.Flight mode specific color schemes.Low battery warning.GPS state.RSSI level.Battery level.  ","version":"Development Snapshots","tagName":"h3"},{"title":"STATUS_ALT Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#status_alt-profile","content":" The STATUS_ALT profile works just like the STATUS profile, except for LEDs with the Fade overlay. LEDs with the Fade overlay will use their alternate color when the STATUS_ALT profile is active.  ","version":"Development Snapshots","tagName":"h3"},{"title":"RACE Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#race-profile","content":" The RACE profile is used to set ALL LEDs to the selected color for racing, i.e. to identify helis based on LED color. The LED color is fixed and no other information is displayed.  ","version":"Development Snapshots","tagName":"h3"},{"title":"BEACON Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#beacon-profile","content":" The BEACON profile is used to find a lost heli, it flashes all LEDs white once per second. Again in this profile no other information is displayed on the LEDs.  ","version":"Development Snapshots","tagName":"h3"},{"title":"LED Profile Selection​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#led-profile-selection","content":" OPTION 1: Use the Configurator​  Go to the LED Strip tabSelect the profile under LED Strip Global Settings  OPTION 2: Configure an adjustment range to change the LED strip profile from your radio​  The LED strip profile selection is performed using an adjustment configured via the Adjustments tab. Enable an adjustment by selecting Mapped.Select the AUX channel to be used to change the LED strip profile under Enable channel and set the range to 900-2100usSet the same AUX channel and range under Value channelFor the adjustment select LED Profile Selection and set the range to 1-4.Save Configure the AUX channel on your radio. When this channel is changed the selected LED strip profile will change between RACE, BEACON, STATUS and STATUS_ALT. You should see the LED function change as you do this.  OPTION 3: Use the CLI to select the LED strip profile (i.e. not selecting the LED strip profile with your radio)​  Open the CLI.Type get ledstrip_profile followed by enter to display the currently selected LED strip profile.Type set ledstrip_profile=x where x is the profile STATUS, STATUS_ALT, RACE or BEACON and press enter.Type save followed by enter to save the selected LED strip profile.  OPTION 4: By using the OSD​  Open the OSD menu by yawing left and pitching forward on your radio.Using the pitch stick, move down to the LED Strip menu and roll right to enter the menu.The profile and race color can be configured using the left stick to go back and the right stick to navigate up/down and to change the selected value.Use the left stick to go to the top level menu and select save &amp; reboot to complete.  RACE COLOR: The Race color can be configured using the CLI:​  Open the CLI.Type get ledstrip_race_color followed by enter to display the currently selected race color number.Type set ledstrip_race_color=x where x is the required color.Type save followed by enter to save the race color to be used.  BRIGHTNESS: The overall brightness can be configured using the CLI:​  Open the CLI.Type get ledstrip_brightness followed by enter to display the current brightness.Type set ledstrip_brightness=x where x is the brightness in percentage between 5 and 100.Type save followed by enter to save the brightness level to be used.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Supported hardware​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#supported-hardware","content":" Up to 32 WS2811/WS2812 LEDs are currently supported.  WS2812 LEDs require an 800khz signal and precise timings and thus requires the use of a dedicated hardware timer.  Note: Not all WS2812 ICs use the same timings, some batches use different timings.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Tested Hardware​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#tested-hardware","content":" Adafruit NeoPixel Jewel 7 (preliminary testing) Measured current consumption in all white mode ~ 350 mA.Fits well under motors on mini 250 quads. Adafruit NeoPixel Stick (works well) Measured current consumption in all white mode ~ 350 mA. Aliexpress SK6812 RBGWW strip (works well) Alternative Adafruit NeoPixel Stick RGBW  ","version":"Development Snapshots","tagName":"h3"},{"title":"WS2811 vs WS2812​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#ws2811-vs-ws2812","content":" The WS2811 is a LED driver IC which is connected to an RGB LED. It accepts data in the form of 8 bits each of Red-Green-Blue.  The WS2812 is integrated into the package of a 50:50 LED rather than as a separate device. It accepts data in the form of 8 bits each of Green-Red-Blue.  With the SK6812 also GRBW variants are supported, which have a fourth (white) channel and such provide a much cleaner white color.  It is thus possible, depending on the LED board/strip being used that either Red-Green-Blue or Green-Red-Blue encoding may be required. This may be controlled by setting the following.  set ledstrip_grb_rgb = RGB   or  set ledstrip_grb_rgb = GRB   or  set ledstrip_grb_rgb = GRBW   Then confirm the required setting by simply setting an LED to be green. If it lights up red, you have the wrong setting. Afterwards check if the second LED also lights up red - if not, you might have 4-color SK6812 LEDs and would have to select GRBW.  Combining RGB and GBR(W) LEDs​  If you're using both WS2811 and WS2812/SK6812 LEDs, set ledstrip_grb_rgb to GRB or GRBW. The colors of the WS2811 LEDs will then be incorrect. To correct this, indicate which LEDs use RGB by specifying those LEDs in ledstrip_inverted_format - a 32 bit bitmask. For example, if LED 1 and 4 use RGB, specify 1 + 8 = 9:  set ledstrip_inverted_format = 9   ","version":"Development Snapshots","tagName":"h3"},{"title":"Connections​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#connections","content":" WS2812 LED strips generally require a single data line, 5V and GND.  WS2812 LEDs on full brightness can consume quite a bit of current. It is recommended to verify the current draw and ensure your supply can cope with the load. It's also possible to power one half of the LEDs from one BEC and the other half from another BEC. Just ensure that the GROUND is the same for all BEC outputs and LEDs.  LED Strip pin should be:  on a separate timerwith DMA enabled  If you have LEDs that are intermittent, flicker or show the wrong colors then drop the VIN to less than 4.7v, e.g. by using an inline diode on the VIN to the LED strip. The problem occurs because of the difference in voltage between the data signal and the power signal. The WS2811 LED's require the data signal (Din) to be between 0.3 * Vin (Max) and 0.7 * VIN (Min) to register valid logic low/high signals. The LED pin on the CPU will always be between 0v to ~3.3v, so the Vin should be 4.7v (3.3v / 0.7 = 4.71v). Some LEDs are more tolerant of this than others.  The datasheet can be found here: WS2812  ","version":"Development Snapshots","tagName":"h2"},{"title":"Configuration​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#configuration","content":" The LED strip feature can be configured via the Configurator or the CLI.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Configurator​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#configurator","content":" First enable the LED_STRIP feature in the Configuration tab. The LED Strip tab should now become visible.  Now go to the LED Strip tab and configure the LEDs. First setup how the LEDs are laid out so that you can visualize it later as you configure and so the flight controller knows how many LEDs there are available.  There is a step by step guide on how to use the Configurator to configure the Led Strip feature which was published in 2018 by Oscar Liang.  ","version":"Development Snapshots","tagName":"h3"},{"title":"CLI​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#cli","content":" Enable the LED_STRIP feature via the cli:  feature LED_STRIP   If you enable LED_STRIP feature and the feature is turned off again after a reboot then check your config does not conflict with other features, as above.  Configure the LEDs using the led command.  The led command takes either zero or two arguments - an zero-based LED number and a sequence which indicates pair of coordinates, direction flags and mode flags and a color.  If used with zero arguments it prints out the LED configuration which can be copied for future reference.  Each LED is configured using the following template: x,y:direction:mode:color:blinkpattern:blinkpause:alternatecolor  x and y are grid coordinates of a 0 based 16x16 grid, north west is 0,0, south east is 15,15direction specifies the directions, since an LED can face in any direction it can have multiple directions. Directions are:  N - NorthE - EastS - SouthW - WestU - UpD - Down  For instance, an LED that faces South-east at a 45 degree downwards angle could be configured as SED.  Note: It is perfectly possible to configure an LED to have all directions NESWUD but probably doesn't make sense.  mode specifies the modes that should be applied an LED. A mode consists of a base function and zero or more overlays.  Each LED has one base function:  C - Color.F - Flight mode &amp; OrientationA - Armed state.R - Ring thrust state.G - GPS state.S - RSSSI level.L - Battery Level.  And each LED can have one ore more overlays:  W - Wwarnings.I - Indicator.T - Thrust state.B - Blink mode.O - LarsOn Scanner (Cylon Effect).V - VTX Frequency.K - FlicKer.D - FaDe.  color specifies the color number (0 based index). This color has a black border in the Configurator.  blinkpattern specifies a 16 bit bitmask which indicates when a LED should blink. Example: two fast blinks would be 5 (binary 101), two slow blinks 3855 (binary 111100001111). The alternatecolor is used for blinking.  blinkpause specifies whether blinking should pause after the blink pattern has been finished. A value of 0 doesn't pause blinking, a value of 3 pauses the blinking for three subsequent rounds.  alternatecolor specifies the color for: a. blinking; b. fading between color and alternatecolor if the LED profile is switched from STATUS to STATUS_ALT. The alternatecolor can be black if you want to turn a light off in in the STATUS_ALT profile. The alternate color has a red border in the Configurator.  Example:  led 0 0,15:SD:AWI:0:0:0:0 led 1 15,0:ND:AWI:0:0:0:0 led 2 0,0:ND:AWI:0:0:0:0 led 3 0,15:SD:AWI:0:0:0:0 led 4 7,7::C:1:0:0:0 led 5 8,8::C:2:0:0:0 led 6 8,9::CB:1:3855:0:2   To erase an LED, and to mark the end of the chain, use 0,0:: as the second argument, like this:  led 4 0,0:::   It is best to erase all LEDs that you do not have connected.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Modes​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#modes","content":" Note: though this section does apply to Rotorflight, it mainly stems form Betaflight and is thus very quad oriented.  Warning​  This mode simply uses the LEDs to flash when warnings occur.  Warning\tLED Pattern\tNotesArm-lock enabled\tflash between green and off\toccurs during calibration or when unarmed and the aircraft is tilted too much Low Battery\tflash red and off\tbattery monitoring must be enabled. May trigger temporarily under high-throttle due to voltage drop Failsafe\tflash between light blue and yellow\tFailsafe must be enabled  Flash patterns appear in order, so that it's clear which warnings are enabled.  GPS state​  This mode shows the GPS state and satellite count.  No fix = red LED 3D fix = green LED  The LEDs will blink as many times as the satellite count, then pause and start again.  RSSI level​  This mode binds the LED color to RSSI level.  Color\tRSSIGreen\t100% Lime green\t80% Yellow\t60% Orange\t40% Red\t20% Deep pink\t0%  When RSSI is below 50% is reached, LEDs will blink slowly, and they will blink fast when under 20%.  Battery level​  This mode binds the LED color to remaining battery capacity.  Color\tCapacityGreen\t100% Lime green\t80% Yellow\t60% Orange\t40% Red\t20% Deep pink\t0%  When Warning or Critical voltage is reached, LEDs will blink slowly or fast. Note: this mode requires a current sensor. If you don't have the actual device you can set up a virtual current sensor.  Blink​  This overlay makes the LED blink from the current active color to the alternate color. You can set the blink rate using ledstrip_blink_period_ms.  Flicker​  This overlay makes the LED flicker, a bit like a candle. Set the flicker rate using ledstrip_flicker_rate.  Fade to alt color​  A LED with this overlay will fade to the alternate color in the profile STATUS_ALT. Specify Black as the alternate color to turn LEDs off (e.g. for switching off landing lights). You can set the fade rate with ledstrip_fade_rate.  Larson Scanner (Cylon Effect)​  The Larson Scanner replicates the scanning &quot;eye&quot; effect seen on the mechanical Cylons and on Kitt from Knight Rider. This overlay dims all of the LEDs it is assigned to and brightens certain ones at certain times in accordance with the animation. The animation is active regardless of arm state.  VTX Frequency​  This overlay makes the LED color dependent on the current channel of the VTX, in case it is equipped with SmartAudio or IRC Tramp. The color is selected according to the following table:  Frequency range\tDefault color\tColor index&lt; = 5672\tWhite\t1 &gt; 5672 &lt; = 5711\tRed\t2 &gt; 5711 &lt; = 5750\tOrange\t3 &gt; 5750 &lt; = 5789\tYellow\t4 &gt; 5789 &lt; = 5829\tGreen\t6 &gt; 5829 &lt; = 5867\tBlue\t10 &gt; 5867 &lt; = 5906\tDark violet\t11 &gt; 5906\tDeep pink\t13  The default color can be changed by double-clicking the color and moving the Hue slider or by using the color command in the CLI.  Flight Mode &amp; Orientation​  This mode shows the flight mode and orientation.  When flight modes are active then the LEDs are updated to show different colors depending on the mode, placement on the grid and direction.  LEDs are set in a specific order:  LEDs that marked as facing up or down.LEDs that marked as facing west or east AND are on the west or east side of the grid.LEDs that marked as facing north or south AND are on the north or south side of the grid.  That is, south facing LEDs have priority.  The mapping between modes LED placement and colors is currently fixed and cannot be changed.  Indicator​  This mode flashes LEDs that correspond to roll and pitch stick positions. i.e. they indicate the direction the craft is going to turn.  Mode\tDirection\tLED ColorOrientation\tNorth\tWHITE Orientation\tEast\tDARK VIOLET Orientation\tSouth\tRED Orientation\tWest\tDEEP PINK Orientation\tUp\tBLUE Orientation\tDown\tORANGE Head Free\tNorth\tLIME GREEN Head Free\tEast\tDARK VIOLET Head Free\tSouth\tORANGE Head Free\tWest\tDEEP PINK Head Free\tUp\tBLUE Head Free\tDown\tORANGE Horizon\tNorth\tBLUE Horizon\tEast\tDARK VIOLET Horizon\tSouth\tYELLOW Horizon\tWest\tDEEP PINK Horizon\tUp\tBLUE Horizon\tDown\tORANGE Angle\tNorth\tCYAN Angle\tEast\tDARK VIOLET Angle\tSouth\tYELLOW Angle\tWest\tDEEP PINK Angle\tUp\tBLUE Angle\tDown\tORANGE Mag\tNorth\tMINT GREEN Mag\tEast\tDARK VIOLET Mag\tSouth\tORANGE Mag\tWest\tDEEP PINK Mag\tUp\tBLUE Mag\tDown\tORANGE Baro\tNorth\tLIGHT BLUE Baro\tEast\tDARK VIOLET Baro\tSouth\tRED Baro\tWest\tDEEP PINK Baro\tUp\tBLUE Baro\tDown\tORANGE  Armed state​  This mode toggles LEDs between green and blue when disarmed and armed, respectively. If arming is disabled the LED will be set to the background color, which usually is black.  Note: Armed State cannot be used with Flight Mode.  Thrust state​  This mode fades the current LED color to the previous/next color in the HSB color space depending on throttle stick position. When the throttle is in the middle position the color is unaffected, thus it can be mixed with orientation colors to indicate orientation and throttle at the same time. Thrust should normally be combined with Color or Mode/Orientation.  Thrust ring state​  This mode is allows you to use one or multiple LED rings (e.g. NeoPixel ring) for an afterburner effect. LEDs with this mode will light up with their assigned color in a repeating sequence. Assigning the color black to an LED with the ring mode will prevent the LED from lighting up.  A better effect is achieved when LEDs configured for thrust ring have no other functions.  LED direction and X/Y positions are irrelevant for thrust ring LED state. The order of the LEDs that have the state determines how the LED behaves, and the throttle value determines the animation rate. The animation is only active while armed.  Each LED of the ring can be a different color. The color can be selected between the 16 colors available.  For example, LED 0 is set as a Ring thrust state LED in color 13 as follow.  led 0 2,2::R:13   LED strips and rings can be combined.  Solid Color​  The mode allows you to set an LED to be permanently on and set to a specific color.  x,y position and directions are ignored when using this mode.  Other modes will override or combine with the color mode.  For example, to set LED 0 to always use color 10 you would issue this command.  led 0 0,0::C:10   ","version":"Development Snapshots","tagName":"h3"},{"title":"Colors​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#colors","content":" Colors can be configured using the cli color command.  The color command takes either zero or two arguments - an zero-based color number and a sequence which indicates pair of hue, saturation and value (HSV).  See HSL and HSV  If used with zero arguments it prints out the color configuration which can be copied for future reference.  The default color configuration is as follows:  Index\tColor0\tblack 1\twhite 2\tred 3\torange 4\tyellow 5\tlime green 6\tgreen 7\tmint green 8\tcyan 9\tlight blue 10\tblue 11\tdark violet 12\tmagenta 13\tdeep pink 14\tblack 15\tblack  color 0 0,0,0 color 1 0,255,255 color 2 0,0,255 color 3 30,0,255 color 4 60,0,255 color 5 90,0,255 color 6 120,0,255 color 7 150,0,255 color 8 180,0,255 color 9 210,0,255 color 10 240,0,255 color 11 270,0,255 color 12 300,0,255 color 13 330,0,255 color 14 0,0,0 color 15 0,0,0   ","version":"Development Snapshots","tagName":"h3"},{"title":"Mode Colors Assignement​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#mode-colors-assignement","content":" Mode Colors can be configured using the cli mode_color command.  No arguments: lists all mode colorsarguments: mode, function, color  First 8 groups of ModeIndexes are :  mode\tname0\torientation 1\theadfree 2\thorizon 3\tangle 4\tmag 5\tbaro 6\tspecial 7\tchannel  Modes 0 to 5 functions:  function\tname0\tnorth 1\teast 2\tsouth 3\twest 4\tup 5\tdown  Mode 6 use these functions:  function\tname0\tdisarmed 1\tarmed 2\tanimation 3\tbackground 4\tblink background 5\tgps: no satellites 6\tgps: no fix 7\tgps: 3D fix  The ColorIndex is picked from the colors array (&quot;palette&quot;).  Mode 7 is used along with Thrust state to make the LED color dependent on a channel different from the throttle.  Examples (using the default colors):  set armed color to red: mode_color 6 1 2set disarmed color to yellow: mode_color 6 0 4set Headfree mode 'south' to Cyan: mode_color 1 2 8set color dependent on AUX 1 in Thrust state: mode_color 7 0 4  ","version":"Development Snapshots","tagName":"h3"},{"title":"Positioning​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#positioning","content":" Cut the strip into sections as per diagrams below. When the strips are cut ensure you reconnect each output to each input with cable where the break is made. e.g. connect 5V out to 5V in, GND to GND and Data Out to Data In.  Orientation is when viewed with the front of the aircraft facing away from you and viewed from above.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Example 12 LED config​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#example-12-led-config","content":" The default configuration is as follows  led 0 15,15:ES:IA:0 led 1 15,8:E:WF:0 led 2 15,7:E:WF:0 led 3 15,0:NE:IA:0 led 4 8,0:N:F:0 led 5 7,0:N:F:0 led 6 0,0:NW:IA:0 led 7 0,7:W:WF:0 led 8 0,8:W:WF:0 led 9 0,15:SW:IA:0 led 10 7,15:S:WF:0 led 11 8,15:S:WF:0 led 12 7,7:U:WF:0 led 13 8,7:U:WF:0 led 14 7,8:D:WF:0 led 15 8,8:D:WF:0 led 16 8,9::R:3 led 17 9,10::R:3 led 18 10,11::R:3 led 19 10,12::R:3 led 20 9,13::R:3 led 21 8,14::R:3 led 22 7,14::R:3 led 23 6,13::R:3 led 24 5,12::R:3 led 25 5,11::R:3 led 26 6,10::R:3 led 27 7,9::R:3 led 28 0,0:::0 led 29 0,0:::0 led 30 0,0:::0 led 31 0,0:::0   Which translates into the following positions:   6 3 \\ / \\ 5-4 / \\ FRONT / 7,8 | 12-15 | 1,2 / BACK \\ / 10,11 \\ / \\ 9 0 RING 16-27   LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle LEDs 16-27 should be placed in a ring and positioned at the rear facing south.  This is the default so that if you don't want to place LEDs top and bottom in the middle just connect the first 12 LEDs.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Example 16 LED config​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#example-16-led-config","content":" led 0 15,15:SD:IA:0 led 1 8,8:E:FW:0 led 2 8,7:E:FW:0 led 3 15,0:ND:IA:0 led 4 7,7:N:FW:0 led 5 8,7:N:FW:0 led 6 0,0:ND:IA:0 led 7 7,7:W:FW:0 led 8 7,8:W:FW:0 led 9 0,15:SD:IA:0 led 10 7,8:S:FW:0 led 11 8,8:S:FW:0 led 12 7,7:D:FW:0 led 13 8,7:D:FW:0 led 14 7,7:U:FW:0 led 15 8,7:U:FW:0   Which translates into the following positions:   6 3 \\ / \\ 5-4 / 7 \\ FRONT / 2 | 12-15 | 8 / BACK \\ 1 / 10-11 \\ / \\ 9 0   LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle  ","version":"Development Snapshots","tagName":"h3"},{"title":"Example 28 LED config​","type":1,"pageTitle":"LED Strip","url":"/docs/next/Tutorial-Setup/LED-Strip#example-28-led-config","content":" #right rear cluster led 0 9,9:S:FWT:0 led 1 10,10:S:FWT:0 led 2 11,11:S:IA:0 led 3 11,11:E:IA:0 led 4 10,10:E:AT:0 led 5 9,9:E:AT:0 # right front cluster led 6 10,5:S:F:0 led 7 11,4:S:F:0 led 8 12,3:S:IA:0 led 9 12,2:N:IA:0 led 10 11,1:N:F:0 led 11 10,0:N:F:0 # center front cluster led 12 7,0:N:FW:0 led 13 6,0:N:FW:0 led 14 5,0:N:FW:0 led 15 4,0:N:FW:0 # left front cluster led 16 2,0:N:F:0 led 17 1,1:N:F:0 led 18 0,2:N:IA:0 led 19 0,3:W:IA:0 led 20 1,4:S:F:0 led 21 2,5:S:F:0 # left rear cluster led 22 2,9:W:AT:0 led 23 1,10:W:AT:0 led 24 0,11:W:IA:0 led 25 0,11:S:IA:0 led 26 1,10:S:FWT:0 led 27 2,9:S:FWT:0    16-18 9-11 19-21 \\ / 6-8 \\ 12-15 / \\ FRONT / / BACK \\ / \\ 22-24 / \\ 3-5 25-27 0-2   All LEDs should face outwards from the chassis in this configuration. ","version":"Development Snapshots","tagName":"h3"},{"title":"Profiles","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Profiles","content":"","keywords":"","version":"Development Snapshots"},{"title":"Main Tuning Parameters​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#main-tuning-parameters","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"PID Controller Gains​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#pid-controller-gains","content":"   Proportional​  The gain factor that is proportional to the rate error. High proportional gain increase response speed of the helicopter. Low proportional gain results in overall slow system response. Too high results in fast oscillation (~20hz). It also helps reduce the slow oscillation due to high Integral gain.  Integral​  The gain factor that is proportional to the accumulated error. Low integral gain results in drift when hovering, and uneven roll or flip rate during continuous roll / flips. It also results in the helicopter not &quot;wanting&quot; to finish maneuvers. Integral too high results in slow oscillation (1-3hz) during cyclic input stops and/or during high disturbance scenarios such as stops of (piro) pitch pumps and tick-tock stops.  Derivative​  The gain factor proportional to the change of error. It is responsible for &quot;dampening&quot; the overshoot caused by proportional gain. The Derivative gain is particularly sensitive to noise. Ideally, high derivative gain dampens the system too much results in slow response. However, in practice, noise-induced fast oscillation would occur first. Too low results in fast oscillation during stops due to high proportional gain.  Feedforward​  The gain factor proportional to the input. In practice, feedforward gain is used to eliminate I-term windup, which occurs after continuous flips and rolls. If the helicopter does not stop immediately and continue moving in the rolling / flipping direction, feedforward gain needs to be increased. If FF gain is set to be too high, the helicopter may overshoot during such maneuver. Thus it is advised to start tuning from low.  Boost​  The setpoint boost - or B-term will increase the stick reaction speed. In case the heli is not reacting fast enough, the reaction can be boosted with this new B-gain on each axis separately. This seems to be in the range of 20..50  This provides a rapid short term increase in your command. This parameter is used in conjunction with the time B-Cutoff.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Advanced Settings​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#advanced-settings","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"PID Controller Settings​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#pid-controller-settings","content":"   Error Rotation​  If turned on, the I-term can transfer between pitch and roll axis during pirouetting. Increase the performance of overall piro related maneuvers. This is sometimes referred to as Piro compensation.  Ground Error Decay​  A safety feature. This is to prevent the helicopter from tilting during takeoff.  I-term Relax Type​  The axis that I-term relax is applied to. Generally this is Roll, Pitch and Yaw (RPY)  I-term Relax Cutoff Points​  The I-term relax corresponds to the speed of control input for a given axis. When the control input exceed a certain speed, I-term would stop charging. This partially solved the slow overshoot at cyclic input stops due to I-gain charging at fast stick input. The cutoff value corresponds to the input FREQUENCY. A lower value gives more I-term relax, and a higher value provides less I-term relax. It is advised to start high and decrease until bounce back disappears.  Error Limits​  The limit of how much I-term can be charged. During normal flights, it would not reach this limit. (More info needed)  ","version":"Development Snapshots","tagName":"h3"},{"title":"Offset Limit/Gain​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#offset-limitgain","content":" The offset gains are used for the High Speed Integral feature.  note Offset feature is still being tested. It is currently only available if PID mode is set to 3 from the CLI set pid_mode = 3     Offset Limits​  This is a hard limit for the offset angle in the PID loop. The absolute offset and thus the O-term will never go above these limits.  Offset Gains​  Gain for offset term,(Integral for high speed flight).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Main Rotor Settings​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#main-rotor-settings","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"Collective To Pitch Feedforward Gain​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#collective-to-pitch-feedforward-gain","content":" The pre-compensation for pitch axis when collective is high. Since there is drag-induced pitching motion (there is more drag on the tail thus the helicopter would want to have nose-up tendency when climbing), increasing this gain would compensate that. High gain push the nose down during climb ups. However, it is also advised to select a relatively low value to be conservative.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Cyclic Cross Coupling​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#cyclic-cross-coupling","content":" Cyclic cross coupling compensation removes the aileron wobble when only elevator is applied.  Cross-Coupling Gain​  Amount of compensation applied for Pitch-to-Roll decoupling.  Cross-Coupling Ratio​  Amount of Roll-to-Pitch compensation needed, vs. Pitch-to-Roll.  Cross-Coupling Cutoff Frequency​  Frequency limit for the compensation, higher value will make the compensation action faster.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Tail Rotor Settings​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#tail-rotor-settings","content":"   CW/CCW Stop Gain​  The increase of yaw (what) gain during stops. Higher gain results in crisper stops. Too high may cause fast oscillations.  Cyclic Feedforward Gain​  Since cyclic input creates more torque on the main rotor, this gain aims to pre-compensate the tail motion due to cyclic inputs. a high cyclic value results CW motion on tail when starting pitching/rolling, a low value results CCW motion. (for CW main rotor)  Collective Feedforward Gain​  The pre-compensation due to the increase of collective pitch. It is advised to tune it based on the immediate response after a the beginning of a climb up. Higher gain results in CW response, lower gain results in CCW response. It is advised to use a lower value since it may affect tail performance during other maneuvers.  Collective Impulse Feedforward Gain​  The pre-compensation due to the sudden change of collective. Ideally it is designed to clean up any tail movement in small pitch pumps, however, the compensation is generally overcompensating. Thus it is suggested to turn it off for now.  Collective Impulse Feedforward Decay Time​  Decay time for collective impulse feedforward mixed into yaw.  ","version":"Development Snapshots","tagName":"h2"},{"title":"PID Controller Bandwidth​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#pid-controller-bandwidth","content":"   Row/Pitch/Yaw Bandwidth​  An extra low pass filter for each axis. It is specifically designed to preserve a weaker filter on the yaw axis to increase tail performance. High value corresponding to weaker filter. Too high may cause wobbles. Too low may cause delay and even instability in the control loop.  Row/Pitch/Yaw D-term cutoff​  An extra first order low pass filter just for the D-gain to further reduce the sensitivity to noise. A high value decreases the effectiveness but may potentially increase the D-gain performance. A low value increase the filter effect but may hinder D-term effectiveness. It is advised to keep it around 20Hz to prevent oscillation.  B-Term Cut-off​  This is controlling how &quot;quick&quot; or &quot;twitchy&quot; the boost is. This works exactly the same as D-cutoff, but on setpoint. It is safe to start with the same cutoffs as used with D. Usually in the range of 10..20. This is used in conjunction with Boost or B-gain  ","version":"Development Snapshots","tagName":"h2"},{"title":"Auto Leveling Settings​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#auto-leveling-settings","content":"   Acro Trainer gain​  This determines how aggressively the heli tilt back to the maximum angle (if exceeded) while in TRAINER mode.  Acro Trainer angle limit​  This determines the maximum angle the heli can tilt to while in TRAINER mode.  Angle Mode leveling gain​  This determines how aggressively the heli tilt back to level while in ANGLE mode.  Angle Mode maximum angle​  This determines the maximum angle the heli can tilt to while in ANGLE mode.  Horizon Mode leveling gain​  This determines how aggressively the heli tilt back to level while in HORIZON mode.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Rescue Settings​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#rescue-settings","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"Enable Rescue​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#enable-rescue","content":" Enable or disable the rescue mode.  Flip to upright​  Activate flip to upright option when the heli is inverted.  Pull-up Collective​  Values 0.0-100. This is to be set to a level where the helicopter rapidly gains height.  Pull-up Time​  How long pull up collective should be applied. This is usually about 0.3 to 0.5s  Climb Collective​  Values 0.0-100. This is to be set to a level where the helicopter gains height.  Climb Time​  How long Climb collective should be applied. This is usually about 0.5 to 1.5s  Hover Collective​  Increase this value until the heli hovers at a stable altitude  Flip Fail Time​  This is a safety feature. If there is a mechanical issue preventing the helicopter from completing the flip during this time the rescue mode will exit  Exit Time​  This slows the transition from rescue back to normal mode. This is helpful if you have rescued from inverted where your collective may be in the opposite direction. This prevents it from rapidly pitching down.  Leveling Gain​  How strong the helicopter will level. Too low and the helicopter will be sluggish to level. Too high and it will wobble/vibrate.  Flip-to-Upright Gain​  How strong the helicopter will flip to upright.  Max Leveling Rate​  Used to control how fast the helicopter levels. Set this to a value that is achievable by your helicopter. Larger slower helicopters may need this reduced.  Max Leveling Acceleration​  Limit how fast the controller tries to accelerate the helicopter to level or flip. Larger slower helicopters may need this reduced.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Copy Profile​","type":1,"pageTitle":"Profiles","url":"/docs/next/Tutorial-Setup/Profiles#copy-profile","content":" You can use the Copy profile button at the upper right corner to copy the values of the current profile to another one. ","version":"Development Snapshots","tagName":"h2"},{"title":"Rates","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Rates","content":"","keywords":"","version":"Development Snapshots"},{"title":"Understanding Actual Rates​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#understanding-actual-rates","content":" “Actual Rates” are the default rates in Rotorflight, providing a straightforward approach to setting maximum rotational velocity (e.g., entering 1000 corresponds to 1000deg/sec) and center sensitivity values.  There are 3 values in Actual Rates: Center Sensitivity, Max Rate, Expo.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Center Sensitivity​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#center-sensitivity","content":" Center Sensitivity relates to the responsiveness around the center stick position. A lower value offers finer, smoother control, while a higher value results in a more reactive heli to stick movement.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Max Rate​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#max-rate","content":" Max Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  However, keep in mind that the maximum angular velocity can be limited by your heli mechanics. When the heli reaches its physical limitation and cannot flip any faster, the maximum angular velocity is capped, regardless of the higher value set in Rotorflight.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Expo​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#expo","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo. Keep in mind that increasing Expo also reduces center sensitivity.  While Expo can be as high as 1.0, excessive Expo might cause decreased center stick sensitivity and make the heli’s response more unpredictable towards full stick (more jumpy).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Understanding Raceflight Rates​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#understanding-raceflight-rates","content":" Actual Rates can be a little bit tricky for someone that does not have Betaflight knowledge and experience. So if you are coming from a different FBL system then Raceflight Rates might make more sense for you.  There are 3 values in Raceflight Rates: Rate, Acro+, Expo.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Rate​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#rate","content":" Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Acro+​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#acro","content":" For the sake of simplicity, always keep Acro+ at 0.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Expo​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#expo-1","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo.  While Expo can be as high as 100, excessive Expo might cause decreased center stick sensitivity and make the heli’s response more unpredictable towards full stick (more jumpy).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Dynamics​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#dynamics","content":"   Response Time - corresponds the smoothness of the reaction to stick inputs, also called time constant of the input filter.  note High response times smooths out the input but too high could cause significant input delay.  Max Acceleration - is the input acceleration limiter. Zero represents off. Low value reduces the load on the machine and could be desired for scale flying, not useful for 3D normally.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Copy Rate Profile​","type":1,"pageTitle":"Rates","url":"/docs/next/Tutorial-Setup/Rates#copy-rate-profile","content":" You can use the Copy rateprofile button at the upper right corner to copy the values of the current profile to another one. ","version":"Development Snapshots","tagName":"h2"},{"title":"Receiver","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Receiver","content":"","keywords":"","version":"Development Snapshots"},{"title":"Receiver Configuration​","type":1,"pageTitle":"Receiver","url":"/docs/next/Tutorial-Setup/Receiver#receiver-configuration","content":" First activate Serial Rx on the UART you have connected your receiver.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Receiver Options​","type":1,"pageTitle":"Receiver","url":"/docs/next/Tutorial-Setup/Receiver#receiver-options","content":"   One Wire Communication -  The following options are only available on F7/H7 and G4 MCUs  Inverted serial signaling - Some protoculs such as SBUS and FPORTPin Swap - This feature can be  ","version":"Development Snapshots","tagName":"h2"},{"title":"Receiver Type​","type":1,"pageTitle":"Receiver","url":"/docs/next/Tutorial-Setup/Receiver#receiver-type","content":" There are many receiver protocols supported in Rotorflight, SBUS in the one of the most known receiver protocols, however it is not telemetry capable. On the Other hand FrSky F.Port and ELRS are the most used protocols because they support telemetry and thus allow you to use the Rotorflight LUA app to perform tuning using you radio.  CRSF/ELRS needs an RX and a TX on the same UART.    SBUS needs to be connected to an RX pad.    SBUS2 needs to be connected to an TX pad.    SBUS with S.Port: the SBUS pin needs to be connected to a free UART RX, and the S.Port pin needs to be connected to a free UART TX (of another free UART), and you activate Telemetry: FrSky SmartPort on that UART.    F.Port needs be connected to a TX pad, with Inverted Serial Signaling activated ,and Half-Duplex activated.    note The Inverted Serial Signaling option will work only on F7/H7 or G4 type mcu, if you are using an F4 mcu, then you need to use and external signal inverter, or hack your receiver to get an Un-Inverted signal for SBUS, S.Port, and F.Port. for more info check Uninverted SBUS and Smart Port on Frsky Receivers  Please see the documentation for your FC for more details on how to connect your receiver.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Receiver Channels​","type":1,"pageTitle":"Receiver","url":"/docs/next/Tutorial-Setup/Receiver#receiver-channels","content":" Select the corresponding channels order based on the selected receiver type.    For FrSky receivers, set the channels in your radio as per the below order.    For ELRS receivers, set the channels in your radio as per the below order.  note For CRSF/ELRS always set ARM switch to CH5/AUX1 on the radio, also set THR to CH6    Reverse channels on your transmitter if a channel responds the wrong way around. Stick to the right should move the bar to the right. Push stick forward and bar should move to the right.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Receiver Settings​","type":1,"pageTitle":"Receiver","url":"/docs/next/Tutorial-Setup/Receiver#receiver-settings","content":"   Stick Center - adjust as required by your radio to achieve 0% when the ROLL, PITCH, YAW sticks are centered.Stick Maximum Travel - adjust achieve 100% at the sticks limits.Throttle Channel value for arming - channel value under which arming is allowed.Throttle must be below this limit prior to ARM mode being selected.Throttle Channel value for 0% throttle - The channel value (in µS) for the channel to be considered 0%.Throttle Channel value for 100% throttle - The channel value (in µS) for the channel to be considered 100%.Cyclic Deadband and Yaw Deadband - adjust to the smallest possible value that doesn't make your model drift in the Rates Preview window.  caution Calibrating Stability Mode The stability modes (Angle, Horizon or Rescue) can be calibrated so that the heli doesn't drift much when using such a mode. This can only be done via the accelerometer trims.Do not use trim on your transmitter.  You should end up with something similar to this:   ","version":"Development Snapshots","tagName":"h2"},{"title":"Telemetry Sensors​","type":1,"pageTitle":"Receiver","url":"/docs/next/Tutorial-Setup/Receiver#telemetry-sensors","content":" Use the below switch to enable/disable the telemetry stream sent to your radio. Each sensor can then be enabled or disabled individual depending on your requirement.    tip For ELRS receivers, follow the ELRS Telemetry Reuse WalkTrough for a practical example on ELRS sensors Reuse and Setup. ","version":"Development Snapshots","tagName":"h2"},{"title":"Remapping","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Remapping","content":"","keywords":"","version":"Development Snapshots"},{"title":"Key concepts​","type":1,"pageTitle":"Remapping","url":"/docs/next/Tutorial-Setup/Remapping#key-concepts","content":" Before you start remapping your drone FC to be used with Rotorflight, keep in mind the following.  1- Although it is not necessary, but it is advised to keep your cyclic servos on the same Timer.  2- If you wish to use a narrow band tail servo, then assign that servo to separate timer.  3- Main motor esc output should on a separate timer.  4- In case you are using a PWM controlled esc then Rotorflight will require an rpm signal for governor and RPM Filtering, RPM input should be on a 32bit separate timer (TIM2 or TIM5).    ","version":"Development Snapshots","tagName":"h2"},{"title":"Custom defaults remapping spreadsheet​","type":1,"pageTitle":"Remapping","url":"/docs/next/Tutorial-Setup/Remapping#custom-defaults-remapping-spreadsheet","content":" Spreadsheet for remapping Betaflight targets for use with Rotorflight. The spreadsheet re-allocates features for motors and servos and configures associated timers and dma.  Please 'make a copy'.  Rotorflight remapping spreadsheet v1.4.1  Rotorflight remapping spreadsheet v2.0  ","version":"Development Snapshots","tagName":"h2"},{"title":"Rotorflight Hardware config and remapping video​","type":1,"pageTitle":"Remapping","url":"/docs/next/Tutorial-Setup/Remapping#rotorflight-hardware-config-and-remapping-video","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"Importing new targets​","type":1,"pageTitle":"Remapping","url":"/docs/next/Tutorial-Setup/Remapping#importing-new-targets","content":" Some targets in the betaflight target repository have additional #define lines above board_name. Please do not chose them. In the example below copy only from board_name down. The Board_name MUST be the first line in the spreadsheet.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Configuring a Motor output​","type":1,"pageTitle":"Remapping","url":"/docs/next/Tutorial-Setup/Remapping#configuring-a-motor-output","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Configuring a Frequency input​","type":1,"pageTitle":"Remapping","url":"/docs/next/Tutorial-Setup/Remapping#configuring-a-frequency-input","content":" The frequency input pin must be connected to a timer with exclusive access. In other words, there must be a free timer, not used by anything else, and one of its positive channels must be available on a pin that is connected to the FC's solder pads. Negative channels, like CH3N, can't be used as inputs. Once we know which timer and pin we can use, it can be configured for frequency sensor use.  note We recommend that Freq inputs are allocated to pins that have Timer 2 or Timer 5 available. If 2 Freq inputs are required (e.g. Motorized tail) then both inputs can share the same timer. In the remapping spreadsheet these pins are indicated by the green box marked Freq.  In this example, we have chosen to use the LED_STRIP pin as our frequency input. We see there is only one option (Timer1) on AF1. We can use this pin but must not allocate any of the Servos or Motors to Timer1. Only the motor pins share this timer so we can choose either AF2 (timer3) or AF3 (timer8).    ","version":"Development Snapshots","tagName":"h2"},{"title":"The lines which configure the frequency signal​","type":1,"pageTitle":"Remapping","url":"/docs/next/Tutorial-Setup/Remapping#the-lines-which-configure-the-frequency-signal","content":" resource LED_STRIP 1 NONE resource Freq 1 A09 timer A09 AF1 # Freq - pin A09: TIM1 CH2 (AF1) dma pin A09 0 # Freq - 0: DMA2 Stream 6 Channel 0  ","version":"Development Snapshots","tagName":"h3"},{"title":"RPM Filters","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/RPM-Filters","content":"","keywords":"","version":"Development Snapshots"},{"title":"Introduction​","type":1,"pageTitle":"RPM Filters","url":"/docs/next/Tutorial-Setup/RPM-Filters#introduction","content":" RPM filters clean up the gyro signals by filtering out vibrations that are coming from the rotating parts in a helicopter: the main rotor, tail rotor and motor(s).  The difference between an unfiltered and filtered signal is significant. Here's an example of filtered and unfiltered gyro signals:    RPM filtered gyro signals enable you to tune the helicopter better, for example by being able to use higher gains.  The RPM filters require real time motor speed information to be available to the flight controller. This can be obtained with a Frequency Sensor or by using Bidirectional DSHOT.  Once the FC knows the motor speed, it can calculate the main and tail rotor speeds. For this it needs to know the Main Rotor Gear Ratio and the Tail Rotor Gear Ratio, which you can specify in the Motors tab.  For example, here are the ratios for my Gaui X3.    note Direct drive motors have a ratio of 1:1.  In order to use RPM filters, proceed to the Gyro tab, and enable the filters as shown below.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Basic RPM Filters Settings​","type":1,"pageTitle":"RPM Filters","url":"/docs/next/Tutorial-Setup/RPM-Filters#basic-rpm-filters-settings","content":" These settings should be ok for a first flight.      Filters introduce latency. More filters mean more latency. So try to keep the number of filters low.  Double filters provide heavier filtering than single filters, but are also slower. They are sometimes needed on the 1st and/or 2nd harmonic.  tip The Q factor defines how wide the filter is: Lower Q values make the filter widerHigher Q values make the filter smaller  Wider filters are slower than narrow filters, so try to make the filters as small as possible without it being ineffective.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Filter Tuning​","type":1,"pageTitle":"RPM Filters","url":"/docs/next/Tutorial-Setup/RPM-Filters#filter-tuning","content":" Make a blackbox log of a short flight with constant headspeed. Scroll to the point where the heli has spooled up and is hovering. Mark that point with the I key. Scroll near the end and mark that with the O key. Now bring up the Analyzer Display and enlarge it. It might look like:    This log was made with only a double fundamental filter. As you can see there's some noise around 144Hz. Since the headspeed is 4200 RPM, that must be near the second harmonic (4200/60 = 70*2 = 140Hz). Also note that the gyro signal in the background is also a bit noisy.  Now let's add some single filters for the 2nd (140Hz) and 3rd (210Hz) harmonic. Suddenly the log looks a lot cleaner:   ","version":"Development Snapshots","tagName":"h2"},{"title":"Sensors","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Sensors","content":"Sensors To Do","keywords":"","version":"Development Snapshots"},{"title":"RPM Measurement","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Rpm-Measurement","content":"","keywords":"","version":"Development Snapshots"},{"title":"Frequency Sensor​","type":1,"pageTitle":"RPM Measurement","url":"/docs/next/Tutorial-Setup/Rpm-Measurement#frequency-sensor","content":" Typically it is used when the RPM is not available via ESC telemetry. Only BLHeli_32, some BLHeli_S and APD F3 ESCs support Dshot/KISS telemetry, so this feature is needed with a wide range of traditional ESCs.  The RPM signal is used in multiple places in the FC, e.g. in the PID control, the governor and the RPM-filter. If these features are not needed, then there is no need for the frequency sensor either.  An electrical frequency signal is provided by some ESCs, e.g. Hobbywing with the &quot;yellow&quot; wire. Or it can come from an RPM sensor, which is converting the motor three-phase voltages into a frequency signal - e.g. Hobbywing RPM sensor. Please refer to your ESC's or sensor's manuals how to connect them correctly.  Note about the Hobbywing RPM sensor: it's safest to power it with 3.3V, as the input voltage of the sensor is also the output voltage of the RPM signal it generates. All inputs on a STM32 MCU tolerate 3.3V, and some will also accept 5V. But if you're using a 8.4V BEC to power the sensor, you'll likely damage the MCU.  Up to two frequency sensors are supported, for acquiring motor #1 and motor #2 speed.  If both Frequency Sensor and telemetry RPM signals are available, the Frequency Sensor has precedence.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Connection​","type":1,"pageTitle":"RPM Measurement","url":"/docs/next/Tutorial-Setup/Rpm-Measurement#connection","content":" Plug the ESC RPM wire (often yellow wire) or separate RPM sensor (Hobbywing RPM etc) into the FC RPM input.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Configuration​","type":1,"pageTitle":"RPM Measurement","url":"/docs/next/Tutorial-Setup/Rpm-Measurement#configuration","content":" Then the frequency sensor can be turned ON with the feature flag located on the Motors tab.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Bidirectional DSHOT​","type":1,"pageTitle":"RPM Measurement","url":"/docs/next/Tutorial-Setup/Rpm-Measurement#bidirectional-dshot","content":" Several features of Rotorflight require telemetry data for the motor speed such as the Govenor and RPM Filtering. One method for the FC to get this motor speed is via Bidirectional DSHOT. Bidirectional DSHOT is an ESC protocol which enables communications in both directions between the FC and the ESC. The speed command can be sent by the FC to the ESC and the ESC responds by sending the current motor eRPM (electrical RPM).  From the Motors tab in Rotorflight Configurator select an DSHOT ESC protocol (DSHOT150-DSHOT600) and enable Bidirectional DSHOT. This requires ESC firmware that supports Bidirectional DSHOT.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Supported ESC Firmware​","type":1,"pageTitle":"RPM Measurement","url":"/docs/next/Tutorial-Setup/Rpm-Measurement#supported-esc-firmware","content":" BLHeli_32​  Bidirectional DSHOT is fully supported from firmware version 32.7.0 onward. ESCs with earlier firmware will have to be updated before speed telemetry will operate.  BLHeli_S​  BLHeli_S ESCs do not support Bidirectional DSHOT. In order to access this functionality with a BLheli_S ESC, the firmware must be upgraded to Bluejay.  Bluejay​  Bluejay is an open source firmware for BLheli_S ESCs which supports Bidirectional DSHOT, see BlueJay. This firmware has been used successfully for several Rotorflight builds. Bluejay is capable of flashing individual settings to each ESC (tail and main) which is important when using an all in one (AIO) board. Bluejay v0.15 and later also supports disabling damped light (regenerative breaking), a must if your helicopter doesn't have a one way bearing. For example, a K110 will yaw/spin rapidly on throttle hold if damped light is enabled. Please follow the Blheli_S to Bluejay walkthrough.  ","version":"Development Snapshots","tagName":"h3"},{"title":"More information​","type":1,"pageTitle":"RPM Measurement","url":"/docs/next/Tutorial-Setup/Rpm-Measurement#more-information","content":" More details on Bidirectional DSHOT and RPM filtering at Betaflight. ","version":"Development Snapshots","tagName":"h2"},{"title":"Swashplate Wiggle","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Swash-wiggle","content":"Swashplate Wiggle The swashplate can be configured to 'wiggle' as an indication for when you are Ready to flyArmed (default is disabled)FC Error detectedFC Fatal Error These can be enaabled (currently only via the CLI) using the following commands. set wiggle_enable_ready = ON or OFF (defailt ON) set wiggle_enable_armed = ON or OFF (default OFF) set wiggle_enable_error = ON or OFF (defailt ON) set wiggle_enable_fatal = ON or OFF (defailt ON) The 'amount' (strength) of wiggle and 'speed' (frequency) can be modified by changing the values below. set wiggle_strength = 50 set wiggle_frequency = 10","keywords":"","version":"Development Snapshots"},{"title":"Servos","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Servos","content":"","keywords":"","version":"Development Snapshots"},{"title":"Servo Numbering​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#servo-numbering","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Direct​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#direct","content":" For helicopters that uses mechanical mixing, where the Pitch, Roll, and Collective movements are each controlled by a dedicated servo by means of a complex series of linkages and levers from the servos up to the swashplate.  Servo 1 - Pitch Servo 2 - Roll Servo 3 - Collective Servo 4 - Rudder  ","version":"Development Snapshots","tagName":"h3"},{"title":"CCPM​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#ccpm","content":" For 120, 135 and 140 deg CCPM swashplates. Looking from the tail towards the nose of the helicopter:  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Left side Servo 3 - Right side Servo 4 - Rudder    ","version":"Development Snapshots","tagName":"h3"},{"title":"Fixed pitch​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#fixed-pitch","content":" 90deg L​  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Side servo Servo 3 - Rudder    90deg V​  Servo 1 - Left side Servo 2 - Right side Servo 3 - Rudder    ","version":"Development Snapshots","tagName":"h3"},{"title":"Servo Override​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#servo-override","content":" The toggle at the bottom of this page enables the servo overrides. The purpose of this is so that each servo can be driven by the slider to calibrate the range and center points. Beside each servo is an individual override.  The servo override slider scale is in degrees    ","version":"Development Snapshots","tagName":"h2"},{"title":"Servo Configuration parameters​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#servo-configuration-parameters","content":"   ","version":"Development Snapshots","tagName":"h2"},{"title":"Center​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#center","content":" In general this will be 1520us for cyclic servos and 760us for tail servos.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Min and Max​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#min-and-max","content":" These are hard limits to prevent servos binding or moving outside of their mechanical limits. If a servo is commanded to a point that is greater or less than it is capable it will buzz and likely burn out. These settings should be used to limit the command.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Scale Neg and Scale Pos​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#scale-neg-and-scale-pos","content":" Scales the negative and positive direction of the servo to match the commanded angle.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Rate​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#rate","content":" This is the servo frequency. This will be specified by the manufacturer. A large proportion of servos suitable for cyclic operate at 333Hz.  note For Rotorflight 2 it is recommended that tail servos are assigned to a different timer than cyclic servos (see Remapping). This means that tail servos can be set to a different frequency (i.e. faster).  ","version":"Development Snapshots","tagName":"h3"},{"title":"Speed​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#speed","content":" Servo Speed Equalization. The aim of this parameter is to remove the collective &quot;bobbing&quot; when fast elevator changes are applied.  The bobbing happens because the elevator servo has to move double distance vs. the aileron servos, when elevator position is changed. If the change is faster than the servos can go, the aileron servos will reach the target sooner than the elevator servo, causing the swash to jump slightly in the process.  To tune this value increase the speed value (it's actually ms/60°, like in the servo datasheet) until the bobbing is not visible any more. It should be always ok to use the value from the servo datasheet if unsure.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Reverse​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#reverse","content":" Toggle for forward or reverse servo direction.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Geo Cor​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#geo-cor","content":" Geometry Correction. Servos are rotary, so at high angles this results in smaller swashplate movement for each degree of servo movement. Geometry correction accounts for this and provides better control at high angles (e.g. 3D flight).  In order to use this feature it is important to set the servo arm at 90° (with servo center) and calibrating the servo scale.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Servo Setup and Calibration​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#servo-setup-and-calibration","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Step 1​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#step-1","content":" DO NOT CONNECT THE SERVOS YET!Confirm and set the servo center to your servo manufacturers recommendation. For Cyclic this will usually be 1520us, and for Tail it would be 760us.If a servo's center is 760us, make sure to change the min/max to -350/350 instead of -700/700, and pos/neg scales to 250 instead of 500.Confirm and set the servo rate as specified by your manufacturer. For many digital cyclic servos this is 333Hz and for most tail servos this is 560Hz.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 2​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#step-2","content":" Connect the servos.Set Servo override to ON.Fit servo arms to as close to 90 degrees as possible.Slide Servo 1 override in the positive direction (i.e. right).Confirm the servo arm travels up towards the swashplate. If not toggle the servo reverse.  Repeat with remaining cyclic servos.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 3​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#step-3","content":" Set each of the override sliders to 0 degrees.Adjust center to level the servo arm (0° or 90° depending on servo installation orientation). One quick way is to slide the override bar and copy the output value from the blue bar into the center and press save. Make sure to reset the override to see the correct effect.  Repeat with remaining cyclic servos.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 4 (Usually Not Required)​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#step-4-usually-not-required","content":" With the servos installed in the helicopter, adjust Min/Max so that the arm &amp; ball won't hit anything in the heli frame (servo override @ 80° / -80°).  Repeat with remaining cyclic/tail servos.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Step 5 (Usually Optional)​","type":1,"pageTitle":"Servos","url":"/docs/next/Tutorial-Setup/Servos#step-5-usually-optional","content":" Calibrate the range. Not all servos move by the same angle for each change in command. This step calibrates this range so that the servo's move by the same amount. This means that the Geometric Correction can be used.  Set the override to a positive value (e.g. 30°)measure the current servo arm angle and increase or decrease the Scale Pos until the servo arm angle matches the override angle.   ","version":"Development Snapshots","tagName":"h3"},{"title":"Setup","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Setup","content":"","keywords":"","version":"Development Snapshots"},{"title":"Calibrate Accelerometer​","type":1,"pageTitle":"Setup","url":"/docs/next/Tutorial-Setup/Setup#calibrate-accelerometer","content":" The accelerometer is used to determine the orientation of the flight controller. It is used to determine the pitch, roll and yaw angles. You can calibrate it here, following the instructions.  info The accelerometer is used for self stabilization features, like angle, horizon, acro trainer, and even rescue. If you do not intend to use these features, you can skip this step, or even disable the accelerometer entirely.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Calibrate Magnetometer​","type":1,"pageTitle":"Setup","url":"/docs/next/Tutorial-Setup/Setup#calibrate-magnetometer","content":" The magnetometer (compass) is used to determine the heading of the flight controller in 3d space. This is useful for more accurate information for GPS rescue( Not yet implemented ). Calibrate it following the instructions  The magnetometer calibration process is time limited, you only have 30 seconds to do the movements.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Reset Settings​","type":1,"pageTitle":"Setup","url":"/docs/next/Tutorial-Setup/Setup#reset-settings","content":" Reset Flight Controller to target default parameters.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Bootloader/DFU​","type":1,"pageTitle":"Setup","url":"/docs/next/Tutorial-Setup/Setup#bootloaderdfu","content":" A manual way to put the flight controller into DFU (Device Firmware Update) mode without having to hold down the physical boot button. This is useful if you're having issues when flashing. Board will remain in DFU mode until cycled or a flash is completed.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Mass Storage Mode​","type":1,"pageTitle":"Setup","url":"/docs/next/Tutorial-Setup/Setup#mass-storage-mode","content":" Reboot into mass storage mode to access blackbox data logs.  ","version":"Development Snapshots","tagName":"h2"},{"title":"System Reboot​","type":1,"pageTitle":"Setup","url":"/docs/next/Tutorial-Setup/Setup#system-reboot","content":" Reboot and reinitialize the system. ","version":"Development Snapshots","tagName":"h2"},{"title":"Status","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Setup/Status","content":"","keywords":"","version":"Development Snapshots"},{"title":"Info​","type":1,"pageTitle":"Status","url":"/docs/next/Tutorial-Setup/Status#info","content":" Shows some basic data from the flight controller and model. This includes:  Craft NameFirmwareBoard    ","version":"Development Snapshots","tagName":"h2"},{"title":"Arming​","type":1,"pageTitle":"Status","url":"/docs/next/Tutorial-Setup/Status#arming","content":"   Enable Arming: Use this switch to enable arming while the configurator is connected.  caution With the arming enabled, the motor can spoolup when the throttle is released. Remove blades for safety.  Arming Disable Flags: Shows all of the &quot;errors&quot; that prevent the flight controller from arming. This is useful to check if you're having issues arming.  You can find out a description of these flags from the List of Arming prevention flags  ","version":"Development Snapshots","tagName":"h2"},{"title":"Battery​","type":1,"pageTitle":"Status","url":"/docs/next/Tutorial-Setup/Status#battery","content":"   Voltage - Shows the current battery voltage if the settings for it are set correctly.Current - Shows the current drawn from the battery if the settings for it are set correctly.Capacity - Shows the consumed capacity of the battery in mAh.Charge Level - Shows remaining battery capacity in percent.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Live Gyro Preview​","type":1,"pageTitle":"Status","url":"/docs/next/Tutorial-Setup/Status#live-gyro-preview","content":" A live preview of the gyroscope data. This is useful to check if the gyroscope is aligned correctly, and if it isn't getting/giving noisy data.    Reset Z axis - This button resets the heli heading to 0 degrees.  info You can set the gyroscope alignment in the Configuration tab.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Instruments​","type":1,"pageTitle":"Status","url":"/docs/next/Tutorial-Setup/Status#instruments","content":" A graphic replica of real aircraft instruments.    ","version":"Development Snapshots","tagName":"h2"},{"title":"Receiver​","type":1,"pageTitle":"Status","url":"/docs/next/Tutorial-Setup/Status#receiver","content":" The receiver output preview shows the current state of the receiver channels, both in channel value and graph forms, and how those affect the heli movement.   ","version":"Development Snapshots","tagName":"h2"},{"title":"Flashing Blheli_S ESC to Bluejay firmware","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/Blheli_s-to-Bluejay","content":"","keywords":"","version":"Development Snapshots"},{"title":"Bluejay Configurator web page​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#bluejay-configurator-web-page","content":" Bluejay can be flashed via the web page application at https://esc-configurator.com/  ","version":"Development Snapshots","tagName":"h2"},{"title":"step 1.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-1","content":" Click on settings and check the &quot;Disable common settings&quot;. This enables different settings to be loaded to each ESC which is required so we can change the settings between the main and tail motors.    ","version":"Development Snapshots","tagName":"h3"},{"title":"step 2.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-2","content":" From the top right corner click on [Connect]. Power up the ESC with the flight pack and click on [Read Setup].    ","version":"Development Snapshots","tagName":"h3"},{"title":"step 3.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-3","content":" Click on [Flash all]  ","version":"Development Snapshots","tagName":"h3"},{"title":"step 4.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-4","content":" From the config dropdown chose:  Firmware = BluejayESC = Leave this as you find it. This is specific to your ESC typeVersion = Choose the latest version.PWM Frequency = 24kHz Smaller motors can use higher frequencies due to their very low inductance. Most helicopters 24kHz is suitable however helicopters with very small tail rotors (k110) you can use higher frequencies.  Click on [Flash] to load the new firmware.    ","version":"Development Snapshots","tagName":"h3"},{"title":"step 5.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/next/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-5","content":" After flashing has completed Click on [Read setup].  On both the tail and Main motors deselect &quot;Brake on stop&quot;On the Main motor slide the &quot;Maximum Braking Strength&quot; to 0. This will disable the Complimentary PWM (Damped Light Mode). This needs to be left active on the Tail motor.  Click the [Write Setup] to complete the setup.   ","version":"Development Snapshots","tagName":"h3"},{"title":"Adding an extra servo","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/Extra-servo","content":"","keywords":"","version":"Development Snapshots"},{"title":"Add an extra servo controlled by an AUX channel.​","type":1,"pageTitle":"Adding an extra servo","url":"/docs/next/Tutorial-Walkthroughs/Extra-servo#add-an-extra-servo-controlled-by-an-aux-channel","content":" note Sometimes we may wish to add an extra servo to our helicopter to be controlled by our Tx for something like retracts on a scale machine or a camera etc. This can be done using the remapping spreadsheet. In the example below we will add Servo 5 to be controlled by the AUX 3 channel.  Step 1: Assign the servo to your chosen pin. In the pic below we have assigned Servo 5 to Serial Rx 2.    Step 2: Assign the timer to your new servo. This timer cannot clash with motors, frequency or LED_STRIP. They can be assigned to the same timer as one of your other servos; however, it then will need to be set to the same frequency (e.g. if one is set to 333Hz they will both need to be set to 333Hz). If it can be assigned to a totally different timer then you can assign whatever frequency you like.    Step 3: In the 'Advanced' section assign your AUX channel to servo 5 and then select and copy the mixer config displayed.    Step 4: Open the configurator and go to the CLI page. Paste the config from the mixer into the command line and click [ENTER]. Type save and click [ENTER].   ","version":"Development Snapshots","tagName":"h2"},{"title":"CLI Profile (Bank) switching","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/CLI-Profile-switching-example","content":"CLI Profile (Bank) switching Until the Adjustments tab has been re-implemented in RF2, you can use the below command to switch profiles using an Aux channel in your radio. The CLI command format is: adjfunc &lt;index&gt; &lt;func&gt; &lt;enable channel&gt; &lt;start&gt; &lt;end&gt; &lt;value channel&gt; &lt;dec start&gt; &lt;dec end&gt; &lt;inc start&gt; &lt;inc end&gt; &lt;step size&gt; &lt;value min&gt; &lt;value max&gt; For a simple three profile switching using a three position Aux Channel use the below command. adjfunc [index] [function] [n] 900 2100 [n] 975 2025 975 2025 0 0 3 Where: index: this is the adjustment index, it should be unique for each adjustment command.function: function number, use 1 for Rate Profile, 2 for PID Profile.n: Aux channel number -1, for Aux2 use 1, for Aux3 use 2. Use the below example to switch between three PID Profiles using Aux2. adjfunc 0 2 1 900 2100 1 975 2025 975 2025 0 0 3 Also you can use the below example to switch between three Rate Profiles using Aux2. adjfunc 1 1 1 900 2100 1 975 2025 975 2025 0 0 3 ","keywords":"","version":"Development Snapshots"},{"title":"ELRS Telemetry Reuse","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/ELRS-telemetry-reuse","content":"ELRS Telemetry Reuse The Crossfire Protocol (CRSF) used by ELRS does not include the full range of sensors that can be useful for rotorflight. Crossfire was specifically designed for Drones, which generally have different parameters that are useful to the pilot. As a temporary fix for this issue a series of telemetry items that are currently transferred to the transmitter can be re-used to transfer information we would rather see. There are four messages that can be chosen, each with a variety of telemetry sensor options. Flight modeset crsf_flight_mode_reuse = [OPTION] [Option] Allowed values: NONE, GOVERNOR, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGE, ADJFUNC, GOV_ADJFUNCPitch attitudeset crsf_att_pitch_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGERoll attitudeset crsf_att_roll_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGEYaw positionset crsf_att_yaw_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGEGPS Headingset crsf_gps_heading_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Ground Speedset crsf_gps_ground_speed_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Altitudeset crsf_gps_altitude_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Satsset crsf_gps_sats_reuse = [OPTION] [Option] Allowed values: NONE, ESC_TEMP, MCU_TEMP, PROFILE, RATE_PROFILE, LED_PROFILE This tutorial will guide you through the process of re-using/transforming the unused ELRS sensor into a more useful Rotorflight sensors. The following procedure will allow you to get the following telemetry sensors on your radio, these sensors are: Flight/Governor status and adjustment functionsBEC VoltageVBUS(5V) VoltageReal time controller loadThrottleESC TemperatureHeadspeedMCU Temperature To begin: Enable Telemetry. If you have not done so already enable the telemetry toggle on the receiver tab. Enable each of the telemetry messages that you wish to 'reuse'. Enter CLI tab, copy and paste the below commands, then type save and hit enter. set crsf_flight_mode_reuse = GOV_ADJFUNC set crsf_att_pitch_reuse = BEC_VOLTAGE set crsf_att_roll_reuse = BUS_VOLTAGE set crsf_att_yaw_reuse = RT_LOAD set crsf_gps_heading_reuse = THROTTLE set crsf_gps_ground_speed_reuse = ESC_TEMP set crsf_gps_altitude_reuse = HEADSPEED set crsf_gps_sats_reuse = MCU_TEMP Next, go to your radio telemetry page and discover new sensors. You should see eight sensors, called: FM, Ptch, Roll, Yaw, Hdg, Gspd, Alt, Sats These sensors will be transformed to the following sensors respectively: FM, Bec Voltage, VBus Voltage , Real Time Load, Throttle, ESC Temperature, Headspeed, MCU Temperature Copy the sensors from Ptch to Sats Rename the sensors and modify the Unit, Precision, and ratio as per the below pictures. For Ptch​ For Roll​ For Yaw​ For Hdg​ For Gspd​ For Alt​ For Sats​ After you finish you will see the new sensors in your telemetry page as per below. You can use these new sensors to monitor your heli and create useful alarms and warnings.","keywords":"","version":"Development Snapshots"},{"title":"OpenLager","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/OpenLager","content":"","keywords":"","version":"Development Snapshots"},{"title":"Introduction​","type":1,"pageTitle":"OpenLager","url":"/docs/next/Tutorial-Walkthroughs/OpenLager#introduction","content":" An OpenLager is an external logging devices that use SD cards. Logging with an OpenLager has several benefits compared to other logging methods:  Virtually unlimited storage when using, for example, a 32GB SD cardHigh read speeds when you eject the SD card and connect it directly to your PCLogging using an UART TX is a lightweight process and very MCU friendly, so you'll have more processing power for other tasks.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Connecting an OpenLager​","type":1,"pageTitle":"OpenLager","url":"/docs/next/Tutorial-Walkthroughs/OpenLager#connecting-an-openlager","content":" The OpenLager can be connected to the FC using just three wires: +5V, ground and a TX output pad of a free UART on the FC, which is connected to the RX pad of the logging device. As soon as you power the device on, it will create a new log file on the SD card. Then it'll log everything it receives to that file. Simple but effective.  After you've connected the OpenLager, you have to tell Rotorflight which UART the TX pad for the logger is connected to. You can specify that UART in the Configuration tab, under Blackbox logging. For the OpenLager select 2000000 bps. Click Save and Reboot.    After configuring the OpenLager you can go to the Blackbox tab to specify what should be logged at what speed when.  note For maximum performance the SD card should be formatted with the SD Association's special formatting tool. A fast SD card is needed, e.g. the Sandisk Extreme 16GB Class 10 UHS microSDHC. ","version":"Development Snapshots","tagName":"h2"},{"title":"Profile (Bank) switching example","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/Profile-switching-example","content":"","keywords":"","version":"Development Snapshots"},{"title":"Purpose​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/Tutorial-Walkthroughs/Profile-switching-example#purpose","content":" info We often configure several flight modes to suit our own flying requirements e.g. (Futaba - Normal, IU1, IU2)(OpenTx - FM1, FM2, FM3). It is quite possible that with each of these flight modes we would want to adjust and tune the model independently. We can do this through the Adjustments tab. This is a similar feature to V-bar 'Bank switching'. The following example is just a suggestion and is one way to go about using the adjustments tab. The same process can be used to switch rates if required.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Aim​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/Tutorial-Walkthroughs/Profile-switching-example#aim","content":" My helicopter has already been set up to have a 3 position switch (SwE) which selects between 3 headspeeds (I use the governor so my 'curves' are just flat). The following example will add switching of tuning parameters (Profile Tab) for each of these headspeeds.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Configure the Tx​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/Tutorial-Walkthroughs/Profile-switching-example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwE) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch9 to the SwE in the Mixers tab    ","version":"Development Snapshots","tagName":"h3"},{"title":"Configure flight controller​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/next/Tutorial-Walkthroughs/Profile-switching-example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux4 is the ninth channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux4,    Step 3:  Go to the Adjustments tab. Enable an adjustment slot by selecting Mapped and select Aux4 as the Enable Channel and Value Channel.Stretch the Enable Channel and Value Channel sliders across the entire channel range. This covers the positions for each of the three switch positions.Select Profile Selection from the dropdown. This means we want to change the 'Profile selection' by the switch position.Stretch the Profile Selection slider from 1 to 3, This means over the defined range a value of 1-3 will be chosen based on the switch position. (e.g. SwE down = 0, SwE middle = 1, SwE up = 2). These values are added to the Profile so will result in (e.g. SwE down = Profile 1, SwE middle = Profile 2, SwE up = Profile 3).    Step 4: Go to the Profiles tab and test and confirm that changing the switch position results in changing of the current Profile.   ","version":"Development Snapshots","tagName":"h3"},{"title":"Getting started with LEDs","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start","content":"","keywords":"","version":"Development Snapshots"},{"title":"Introduction to LED strips​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#introduction-to-led-strips","content":" Rotorflight supports up to 32 individually addressable WS2811/2812 RGB LEDs. You can control them with just one data pin, and set the brightness and color of each LED individually. LEDs can have different functions, for example display a color, visualize warnings or battery state, or just blink. This walk-through will show you how to set up a simple LED strip with some scale lights.    Each LED has 4 pins: 5V, ground, data in and data out. The FC should be connected to data in of the first LED. Data out of the first LED should be connected to data in of the second LED. And the data out of the second LED should again be connected to data in of the third LED. And so on.  There are ready made WS2812 strips with 30, 60 or 144 LEDs per meter. That's great for testing or maybe on the boom for some night flying, but there are also more conventional WS2811 5mm and 8mm LEDs available. Those are more suited for scale lighting.  There are quite a lot of tutorials/videos for Betaflight, and Rotorflight supports all the functions of Betaflight 4.3. In addition, Rotorflight supports scale lights, with which you can program anti-collision lights, strobe lights or landing lights. Here we'll focus on those scale lights.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Create a LED_STRIP resource​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#create-a-led_strip-resource","content":" In order to use a LED strip, you'll need a LED_STRIP resource to which you can connect your LEDs. A LED_STRIP resource requires a timer and DMA should be enabled.  Some FCs might already have a LED_STRIP resource and then you can just use that pin. But if you want to use another pin on your FC, or if your FC doesn't have a LED_STRIP resource, you'll need to do some resource remapping. For this walk-through I'm going to use the Radiomaster Nexus, so go to the CLI and remap TX6 to LED_STRIP.  Now go to the Configuration tab and enable LED_STRIP under Features. Press Save and reboot.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Testing hardware​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#testing-hardware","content":" A piece of LED strip is ideal for testing. I'll be using one with 3 LEDs connected to Port B on the Nexus. Wiring is simple: just connect 5V, ground and LED_STRIP (formerly known as TX6) to the strip.    ","version":"Development Snapshots","tagName":"h2"},{"title":"The LED Strip tab​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#the-led-strip-tab","content":" Now go to the LED Strip tab. Note that this tab will only be visible if you have the LED_STRIP feature enabled under Configuration.  We're going to define:  a green navigation light that also functions as a strobea red ACL light that slowly blinksa white landing light that can be operated from the TX.  Connect the Nexus to the Configurator using USB. 5V will now be available on port A, B and C. If you're using many LEDs, consider using an external 5V power supply.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Define the 3 LEDs​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#define-the-3-leds","content":" Click on Wire Ordening Mode. The 16x16 matrix will become greenish.Select a square in the matrix. A '0' should now be displayed in it.Select Color as FunctionNow select another square in the matrix. A '1' should now be displayed in it.Select Color again as FunctionSelect yet another square in the matrix. A '2' should now be displayed in it.Select Color as FunctionPress Save  Your screen might now look like this, although the actual position of the three squares will likely be different:    ","version":"Development Snapshots","tagName":"h3"},{"title":"Create the green navigation light​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#create-the-green-navigation-light","content":" Select the square with '0' in itIn the color palette, left-click on green. The LED should now light up.If you find the LED too bright, adjust the overal LED brightness under LED Strip Global SettingsEnable Blink and set one checkmark. The LED wil now shortly turn off (=black).In the color palette, right-click on white. Now the LED will shortly flash a white light.Press Save  ","version":"Development Snapshots","tagName":"h3"},{"title":"Create the red anti-collision light​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#create-the-red-anti-collision-light","content":" Select the square with '1' in itSelect Blink and set some check marks next to each otherRight-click the red color. The second LED should now flash redPress Save  ","version":"Development Snapshots","tagName":"h3"},{"title":"Create the white landing light​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#create-the-white-landing-light","content":" Select the square with '2' in itEnable the Fade to alt color featureLeft-click white. The LED should now light upSelect Status Alt next to Profile, under LED Strip Global Settings. The LED should now dim.Set Fade rate to 10 to dim slowlyPress SaveYou can use Adjustments to switch the LED profile from your transmitter. It might look something like:    Here's another video showing the techniques used in this Quick Start on a Walkera 4F200LM, for which I used two 3mm and four 5mm LEDs.    ","version":"Development Snapshots","tagName":"h3"},{"title":"Molex PicoBlade bus​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#molex-picoblade-bus","content":" Here's a simple bus system for connecting individual LEDs using 4-pin Molex PicoBlade connectors. It can be used for connecting individual WS2811/2812 LEDs as well as conventional LEDs.    Conventional LEDs should come after the WS2811/2812 LEDs since they don't support data in and data out. Also, you can use 2-pin PicoBlade connectors for them.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Building the PicoBlade bus​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#building-the-picoblade-bus","content":" Glue some 4-pin PicoBlade headers togetherBend the pins for 5V and GND so they form two railsCarefully solder the 5V and GND railsBend the data out pin of the first header to the data in pin of the second header and repeatSolder the data out pins to the next data in pinsConnect wires for 5V, GND and data in to the busIsolate the bottom of the bus with hot glue or epoxyConnect the bus to the FC    ","version":"Development Snapshots","tagName":"h3"},{"title":"Remapping to LED_STRIP​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#remapping-to-led_strip","content":" ","version":"Development Snapshots","tagName":"h2"},{"title":"Radiomaster Nexus​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#radiomaster-nexus","content":" On the Nexus Port B is the best choice for creating a LED_STRIP resource. Port B provides RX6 and TX6 by default. To remap TX6 to LED_STRIP, enter the following in the CLI:  resource SERIAL_TX 6 NONE resource LED_STRIP 1 C07 timer C07 AF3 # TIM8, default is also AF3 dma pin C07 0 # default is NONE save   Note that altough we remapped TX6, RX6 is still there and functional.  Alternatively you can remap RX6 to LED_STRIP:  resource SERIAL_RX 6 NONE resource LED_STRIP 1 C06 timer C06 AF3 # TIM8, default is also AF3 dma pin C06 0 # default is NONE save   ","version":"Development Snapshots","tagName":"h3"},{"title":"FlyDragon F722​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#flydragon-f722","content":" The FlyDragon F722 has a built in LED 'strip' with just one LED. It has the Warning overlay enabled by default and is connected to the FC using pin B08. However, the data out pin of that LED isn't exposed, so you have to remap some other port to LED_STRIP to make use of your own LEDs. There are several options: SCL, SDA, RPM-S and F.Port. SCL and SDA are located on the GPS port, which also provides 5V. Using SCL or SDA is preferred because they can have their own dedicated timer.  1. Remap SCL to LED_STRIP​  To remap SCL to LED_STRIP, enter the following in the CLI:  resource I2C_SCL 1 NONE resource LED_STRIP 1 B06 # default is B08 timer B06 AF2 # TIM4 dma pin B06 0 save   2. Remap SDA to LED_STRIP​  To remap SDA to LED_STRIP, enter the following in the CLI:  resource I2C_SDA 1 NONE resource LED_STRIP 1 B07 # default is B08 timer B07 AF2 # TIM4 dma pin B07 0 save   3. Remap RPM-S to LED_STRIP​  RPM-S isn't connected to VBec and supplies 5V, which is all right for a couple of LEDs.  To remap RPM-S to LED_STRIP on the FlyDragon V2 or V2.2, enter the following in the CLI:  resource LED_STRIP 1 A15 # default is B08 timer A15 AF1 # TIM1 dma pin A15 0 save   To remap RPM-S to LED_STRIP on the FlyDragon V1, enter the following in the CLI:  resource LED_STRIP 1 A08 # default is B08 timer A08 AF1 # TIM1 dma pin A08 0 save   4. Remap F.Port to LED_STRIP​  Be careful: F.Port uses VBec, which might be too high for your LEDs. Most LEDs require 5V.  resource LED_STRIP 1 A02 # default is B08 timer A02 AF1 # TIM2 dma pin A02 0 # Change motor 1 timer from TIM2 to TIM5 timer A00 AF2 save   ","version":"Development Snapshots","tagName":"h3"},{"title":"Flywing HELI405​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/next/Tutorial-Walkthroughs/led-strip-quick-start#flywing-heli405","content":" You can remap SBUS to LED_STRIP on the Flywing HELI405. To do this, enter the following in the CLI:  resource SERIAL_RX 2 NONE resource LED_STRIP 1 A03 timer A03 AF2 dma pin A03 1 save  ","version":"Development Snapshots","tagName":"h3"},{"title":"Tuning using Adjustments","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/Tuning-using-Adjustments","content":"","keywords":"","version":"Development Snapshots"},{"title":"What's next?​","type":1,"pageTitle":"Tuning using Adjustments","url":"/docs/next/Tutorial-Walkthroughs/Tuning-using-Adjustments#whats-next","content":"","version":"Development Snapshots","tagName":"h2"},{"title":"Two-Stage Gear Train Ratios","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/Two-Stage-Gear-Train-Ratios","content":"","keywords":"","version":"Development Snapshots"},{"title":"SAB Style Two-Stage Gear Train​","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/next/Tutorial-Walkthroughs/Two-Stage-Gear-Train-Ratios#sab-style-two-stage-gear-train","content":" The SAB Goblin helis have a two-stage transmission, therefore you have double the amount of gears/pulleys, also the main tail pulley is mounted on the intermediate shaft, which make the tail ratio a little more complicated to determine.    The above pictures shows the configuration of the transmission on the SAB Raw 580, 700, Piuma, Black Thunder 700, etc.  The gears/pulleys tooth count is marked by Z, and is numbered to identify each one.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as (Z3 x Z6) and front pulley value as (Z4 x Z5).  The below table shows some gear/pulley tooth counts for some famous two-stage helicopters.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)SAB Goblin 500 Sport\t15 to 24 ( Std 18T )\t48\t18\t62\t28\t21 SAB Black Thunder 700\t18 to 25 ( Std 21T )\t60\t19\t68\t37\t26 SAB Raw 580\t18 to 26 ( Std 22T )\t50\t14\t58\t27\t23 SAB Raw 580 Nitro\t26 to 28 ( Std 26T )\t50\t14\t58\t27\t23 SAB Raw 700\t18 to 25 ( Std 21T )\t56\t18\t69\t34\t26 SAB Raw 700 Nitro\t26 to 28 ( Std 27T )\t52\t14\t58\t27\t22 SAB Raw Piuma\t18 to 26 ( Std 20T )\t52\t14\t58\t27\t22  For example for the Raw 700 with STD 21T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (21 x 18) = 378.main gear = (Z2 x Z4) = (56 x 69) = 3864.tail pulley = (Z3 x Z6) = (18 x 26) = 468.front pulley = (Z4 x Z5) = (69 x 34) = 2346.  After entering the value the ratios in the configurator motor page should look like this.    ","version":"Development Snapshots","tagName":"h2"},{"title":"KDS Style Two-Stage Gear Train​","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/next/Tutorial-Walkthroughs/Two-Stage-Gear-Train-Ratios#kds-style-two-stage-gear-train","content":" The KDS Agile helis also have a two-stage transmission, however the autorotation gear/pulley is mounted on the main shaft, thus the tail ratio calculation will be straightforward.    The above pictures shows the configuration of the transmission on the KDS Agile 5.5, 7.5, A5, and A7.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as Z5 and front pulley value as Z6.  The below table shows some gear/pulley tooth counts for these KDS helis.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)KDS Agile A5\t20 or 21 ( Std 21T )\t54\t17\t66\t54\t14 KDS Agile 7.2\t19 to 21 ( Std 19T )\t54\t20\t66\t57\t12 KDS Agile A7\t19 to 21 ( Std 20T )\t54\t20\t66\t57\t12  For example for the KDS Agile A7 with STD 20T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (20 x 20) = 400.main gear = (Z2 x Z4) = (54 x 66) = 3564.tail pulley = Z6 = 12.front pulley = Z5 = 57.  After entering the value the ratios in the configurator motor page should look like this.   ","version":"Development Snapshots","tagName":"h2"},{"title":"Rotorflight Generic Radio Setup","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup","content":"","keywords":"","version":"Development Snapshots"},{"title":"Channels Arrangement​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#channels-arrangement","content":" This following radio model uses 12 channels to get the best of Rotorflight options, the user can add or delete channels depending on his specific application, and required features.  These channels are configured as follows:  Channel #\tFunctionCH1\tAileron CH2\tElevator CH3\tCollective CH4\tRudder CH5\tAUX1 - Arming CH6\tThrottle CH7\tAUX2 - Profile Switching CH8\tAUX3 - Rescue CH9\tAUX4 - Blackbox CH10\tAUX5 - Backup Pack CH11\tAUX6 - Adjustment Enable Channel CH12\tAUX7 - Adjustment Value Channel  note Use the below recommended setting for the ELRS Tx module. Baud Rate: 921kPacket Rate: 500HzTelemetry Ratio: 1:32Switch Mode: WideTx Max Power: 250mW Dynamic Consult ELRS Website for more info.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Radio Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#radio-setup","content":" This Generic Rotorflight Radio Model Yaml file contain all the options listed above.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Radio Inputs Page Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#radio-inputs-page-setup","content":" Configure the inputs on the radio as per the below image.    Based on the image above:  The 3-position SB Switch will control Arming as below:  Switch SB-down: DisarmedSwitch SB-middle: DisarmedSwitch SB-up: Armed  The 2-position SF Switch will control Throttle Hold as below:  Switch SF-down: Throttle HoldSwitch SF-up: Throttle Release  The 3-position SE Switch will control Throttle percentage and Profile Switching as below:  Switch SE-down: Throttle 60%, Profile 1, and Rate 1Switch SE-middle: Throttle 70%, Profile 2, and Rate 2Switch SE-up: Throttle 80%, Profile 3, and Rate 2  The 2-position SH Momentary Switch will control Rescue as below:  Switch SH-down: Rescue OFFSwitch SH-up: Rescue ON  The 3-position SA Switch will control Blackbox enable and Blackbox erase as below:  Switch SA-down: Blackbox Logging OFFSwitch SA-middle: Blackbox Logging ONSwitch SA-up: Erase Blackbox Logs  The 3-position SC Switch will control Backup Buffer Pack as below:  Switch SC-down: Buffer OFFSwitch SC-middle: Buffer ONSwitch SC-up: Buffer ON  ","version":"Development Snapshots","tagName":"h3"},{"title":"Radio Mixer Page Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#radio-mixer-page-setup","content":" Additionally you can use CH11-AUX6 and CH12-AUX7 to perform in flight parameter adjustment using adjustment functions from the Adjustments Tab.    The above settings will allow you to adjust 30 parameters in flight using the radio trim switches with combination of the 6-position buttons.  The below table explain how each parameter can be accessed.    For example when 6-position button 1 is activated, the pitch trim switch will change Pitch P Gain value, and when 6-position button 3 is activated, the throttle trim switch will change Governor D Gain value, and so on.  ","version":"Development Snapshots","tagName":"h3"},{"title":"Rotorflight Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#rotorflight-setup","content":" After completing the above radio setup, you can proceed to the Rotorflight Configurator to complete the setup on the flight controller side.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Arming Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#arming-setup","content":" Proceed to Modes Tab and setup arming as per below picture.    Alternatively you can paste ans save the below commands in CLI to easily achieve the same result.  aux 0 0 0 1800 2100 0 0   ","version":"Development Snapshots","tagName":"h3"},{"title":"Profile Switching Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#profile-switching-setup","content":" Proceed to Adjustment Tab and setup Profiles and rates switching as per below picture.    Alternatively in CLI.  adjfunc 0 2 1 900 2100 1 975 2025 975 2025 0 0 3 adjfunc 1 1 1 900 2100 1 975 2025 975 2025 0 0 3   ","version":"Development Snapshots","tagName":"h3"},{"title":"Rescue Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#rescue-setup","content":" Proceed to Modes Tab and setup Rescue mode as per below picture.    Alternatively in CLI.  aux 1 53 2 1800 2100 0 0   ","version":"Development Snapshots","tagName":"h3"},{"title":"Blackbox Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#blackbox-setup","content":" Proceed to Modes Tab and setup Blackbox Modes as per below picture.    Alternatively in CLI.  aux 2 26 3 1400 1600 0 0 aux 3 31 3 1800 2100 0 0   ","version":"Development Snapshots","tagName":"h3"},{"title":"Buffer Pack Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#buffer-pack-setup","content":" Buffer packs like the 1st Buffer-Pack can be switched off from the radio after disconnecting the main pack, this can be done by connecting the buffer pack to a free 1500us PWM Channel on the flight controller.  First you need to assign servo 5 to a free timer pin, you will then see servo 5 in the Servos Tab. Assuming we have a free timer on pin A08. In CLI: Resource Servo 5 A08 Next you assign AUX5 Channel to Servo 5 using a mixer rule. In CLI: mixer rule 1 set AUX5 S5 1000 0   ","version":"Development Snapshots","tagName":"h3"},{"title":"In-Flight Profile Parameters Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/next/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#in-flight-profile-parameters-setup","content":"   Since there is many functions required to perform the In-flight adjustment as per the above table, you can directly copy the below commands to CLI and save.  adjfunc 2 14 5 900 1100 6 1025 1075 1925 1975 5 10 200 adjfunc 3 18 5 900 1100 6 1100 1150 1850 1900 5 10 200 adjfunc 4 22 5 900 1100 6 1175 1225 1775 1825 5 10 200 adjfunc 5 49 5 900 1100 6 1250 1300 1700 1750 5 10 200 adjfunc 6 27 5 900 1100 6 1325 1375 1625 1675 5 10 200 adjfunc 7 26 5 900 1100 6 1400 1450 1550 1600 5 10 200 adjfunc 8 15 5 1100 1300 6 1025 1075 1925 1975 5 10 200 adjfunc 9 19 5 1100 1300 6 1100 1150 1850 1900 5 10 200 adjfunc 10 23 5 1100 1300 6 1175 1225 1775 1825 5 10 200 adjfunc 11 50 5 1100 1300 6 1250 1300 1700 1750 5 10 200 adjfunc 12 28 5 1100 1300 6 1325 1375 1625 1675 5 10 200 adjfunc 13 29 5 1100 1300 6 1400 1450 1550 1600 5 10 200 adjfunc 14 16 5 1300 1400 6 1025 1075 1925 1975 5 10 200 adjfunc 15 20 5 1300 1400 6 1100 1150 1850 1900 5 10 200 adjfunc 16 24 5 1300 1400 6 1175 1225 1775 1825 5 10 200 adjfunc 17 51 5 1300 1400 6 1250 1300 1700 1750 5 10 200 adjfunc 18 39 5 1300 1400 6 1325 1375 1625 1675 5 10 200 adjfunc 19 40 5 1300 1400 6 1400 1450 1550 1600 5 10 200 adjfunc 20 17 5 1550 1700 6 1025 1075 1925 1975 5 10 200 adjfunc 21 21 5 1550 1700 6 1100 1150 1850 1900 5 10 200 adjfunc 22 25 5 1550 1700 6 1175 1225 1775 1825 5 10 200 adjfunc 23 52 5 1550 1700 6 1250 1300 1700 1750 5 10 200 adjfunc 24 59 5 1750 1900 6 1025 1075 1925 1975 5 10 200 adjfunc 25 60 5 1750 1900 6 1100 1150 1850 1900 5 10 200 adjfunc 26 54 5 1750 1900 6 1175 1225 1775 1825 5 10 200 adjfunc 27 55 5 1750 1900 6 1250 1300 1700 1750 5 10 200 adjfunc 28 56 5 1950 2100 6 1025 1075 1925 1975 5 10 200 adjfunc 29 57 5 1950 2100 6 1100 1150 1850 1900 5 10 200 adjfunc 30 58 5 1950 2100 6 1175 1225 1775 1825 5 10 200 adjfunc 31 48 5 1950 2100 6 1250 1300 1700 1750 5 10 200   Consult Rotorflight Adjustments for more info on how to setup the above adjustments. ","version":"Development Snapshots","tagName":"h3"},{"title":"Using Stability Modes","type":0,"sectionRef":"#","url":"/docs/next/Tutorial-Walkthroughs/Using-StabilityModes","content":"","keywords":"","version":"Development Snapshots"},{"title":"Purpose​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/next/Tutorial-Walkthroughs/Using-StabilityModes#purpose","content":" info 6G modes provide self stabilization/leveling of the helicopter when the sticks are moved to the centre. This is the opposite to the standard Acro mode (used for aerobatics and 3D) which will not self level after sticks are centered and thus is inherently unstable. These modes are generally used for beginners or those wanting more of a drone feel to their helicopter. 6G modes do not provide position fixing as found with GPS systems so the heli will drift around in the wind.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Aim​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/next/Tutorial-Walkthroughs/Using-StabilityModes#aim","content":" In this example we will configure a 3 position switch (SwC) to select between Stability modes. With the SwC fully down we will have Acro mode, SwC in the centre will be Horizon Mode and in the fully up position we will enable Angle mode.  ","version":"Development Snapshots","tagName":"h2"},{"title":"Configure the Tx​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/next/Tutorial-Walkthroughs/Using-StabilityModes#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwC) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch8 to the SwC in the Mixers tab    ","version":"Development Snapshots","tagName":"h3"},{"title":"Configure flight controller​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/next/Tutorial-Walkthroughs/Using-StabilityModes#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux3 is the eight channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux3,    Step 3:  Go to the Modes tab. Disable hide unused modes if nothing is visible.Chose the Horizon Mode. Enter AUX3 in the channel and adjust the range to cover the middle section of the control channel as shown in the picture below.Chose the Angle Mode. Enter Aux3 in the channel and adjust the range to cover the top section of the control range as shown in the pic below.    Step 4: Test and confirm the switch position enables and disables modes as required These values are added to the Profile so will result in (e.g. SwC down = No mode active = Acro, SwC middle = Horizon Mode, SwC up = Angle Mode).    ","version":"Development Snapshots","tagName":"h3"},{"title":"Calibrating stability modes​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/next/Tutorial-Walkthroughs/Using-StabilityModes#calibrating-stability-modes","content":" ## Warning ## - do not use your transmitter trims!!​  Your Roll, Pitch and Yaw should all be trimmed to the stick centre configured in the receiver tab. This will be 1500 or 1520 depending on your radio.  Stability modes will try to stabilize to the calibrated flight controller level. This is rarely perfectly aligned with the actual helicopters attitude where there is no drift (least drift... there will always be some due to wind etc). In order to calibrate this in-flight we have 2 methods:  Using the Rotorflight Lua ScriptsStick controls  Note that it's also possible to adjust accelerometer trim values in the Configuration tab of the Configurator.  Calibration using Lua Scripts​  Select Accelerometer Trims from the Rotorflight main menu. Test fly the heli tail-in in either Angle or Horizon mode, with sticks at centre. If the heli drifts left, increase roll trim. If it drifts backwards, increase pitch trim. Each time you make a change to the trims long press the wheel/roller. The Page menu should now pop up. Select Save page. Adjust trims until the heli flies hands off without any pronounced drift in any direction.    Calibration using Stick Commands​  Standard 'Betaflight' stick commands work with Rotorflight. The accelerometer trims can be calibrated using these commands. To do this you must have Angle or Horizon Modes enabled.  You will also need to enable this in the CLI set enable_stick_commands = ON  Function\tCollective\tYaw\tPitch\tRollCalibrate Gyro\tLOW\tLOW\tLOW\tCENTER Calibrate Acc\tHIGH\tLOW\tLOW\tCENTER Trim Acc Left\tHIGH\tCENTER\tCENTER\tLOW Trim Acc Right\tHIGH\tCENTER\tCENTER\tHIGH Trim Acc Forwards\tHIGH\tCENTER\tHIGH\tCENTER Trim Acc Backwards\tHIGH\tCENTER\tLOW\tCENTER    For more details of the stick commands. See the Betaflight Wiki here. ","version":"Development Snapshots","tagName":"h3"},{"title":"Adding a Blog Post","type":0,"sectionRef":"#","url":"/docs/Contributing/Adding-a-Blog","content":"Adding a Blog Post To make a new Blog post open the Blog Directory. Click on one of the previous posts to use as a template then chose download. Make the changes you wish using a text editor. Click on the Blog folder and Add File. Upload your new blog file.","keywords":"","version":"2.0.0"},{"title":"Software Developers","type":0,"sectionRef":"#","url":"/docs/Contributing/Developers","content":"","keywords":"","version":"2.0.0"},{"title":"Process​","type":1,"pageTitle":"Software Developers","url":"/docs/Contributing/Developers#process","content":" Fork repositoryCreate a branch from the devel branchMake your changesCheck and confirm the devel branch does not have updates since the branch was created. Rebase if required.Create PR ","version":"2.0.0","tagName":"h2"},{"title":"Editing the Website","type":0,"sectionRef":"#","url":"/docs/Contributing/Editing-the-Website","content":"","keywords":"","version":"2.0.0"},{"title":"Online Editing​","type":1,"pageTitle":"Editing the Website","url":"/docs/Contributing/Editing-the-Website#online-editing","content":" This is probably the easiest and most straightforward way to make changes. At the bottom of each page there is an Edit this page button. Click on this link to take you to the project folder on Github.    In the top righthand corner of the page click on Edit    You can now edit the Markdown file as required. When complete click on the Commit Changes Button on the top Right corner of the page.    ","version":"2.0.0","tagName":"h2"},{"title":"Adding pictures​","type":1,"pageTitle":"Editing the Website","url":"/docs/Contributing/Editing-the-Website#adding-pictures","content":" To add an immage to your page open the img folder that is located in the same directory as your page. Chose Add file and upload.  info Please do not use Capitals* or Underscore (_) in the image names.    ","version":"2.0.0","tagName":"h2"},{"title":"Adding a new page​","type":1,"pageTitle":"Editing the Website","url":"/docs/Contributing/Editing-the-Website#adding-a-new-page","content":" Download one of the current pages. Open the Markdown (.MD) file in an Editor. At the top of the file change the Sidebar_Position to position your new page where you wish it to be in the sidebar. The current pages are numbered with a spacing of 10 so there are free spaces for new pages between each.  Once complete add File and upload the new page. ","version":"2.0.0","tagName":"h2"},{"title":"Flow charts/Diagrams","type":0,"sectionRef":"#","url":"/docs/Contributing/Flow-Charts","content":"Flow charts/Diagrams Using charts, flow diagrams etcMermaid Maybe we can use this somewhere. PID Tuning NO FilteringFiltering is working :::caution help ::: caution P\tI\tD\tO\tB\tFF2\t4\t5\t6\t9\t8 Use tabs in admonitions AppleOrangeBanana This is an apple 🍎","keywords":"","version":"2.0.0"},{"title":"Modeling Cross Coupling","type":0,"sectionRef":"#","url":"/docs/Contributing/Modeling-Cross-Coupling","content":"","keywords":"","version":"2.0.0"},{"title":"The problem​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#the-problem","content":" When the helicopter experience high disturbance in the pitch axis, it would wobble to the roll axis. Similarly, when the helicopter experience disturbance in the roll axis, it would transfer to the pitch axis, but to a lesser degree.   (Thanks to Jonas for the picture)  ","version":"2.0.0","tagName":"h2"},{"title":"To explain the coupling​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#to-explain-the-coupling","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Theory 1​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-1","content":" It might be due to the fact that the rotor and motors are spinning disks. Due to gyroscopic precession, there must be some coupling between pitch and roll axis. (Not true, perfect spinning disks does not have coupling) Instead, if theory 3 dominates, conventional motor would provide the same motion. However, direct drive motor would actually counter the tilting motion.  ","version":"2.0.0","tagName":"h3"},{"title":"Theory 2​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-2","content":" The transient coupling is likely due to the change of phase lag of the main rotor during sudden change of roll/pitch rate. At high acceleration, the blades flex and introduce a much smaller phase lag ( &lt; 90 degrees).  ","version":"2.0.0","tagName":"h3"},{"title":"Theory 3​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-3","content":" The rotor and body can be modeled as a rigid spinning disk and a body coupled by a spring and a damper. When commanded to pitch forward, the disk tilts forward first and the body stays the same attitude. Since there is a difference in angles, the spring loads up, giving the body a torque in positive pitch. However, by Newton's third law, the disk would &quot;feel&quot; a positive pitch force, which turns 90 degree and gives a torque on the roll axis.    ","version":"2.0.0","tagName":"h3"},{"title":"To explain the different magnitudes​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#to-explain-the-different-magnitudes","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Theory 1​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-1-1","content":" There is a large difference in inertia between pitch and roll axis.  ","version":"2.0.0","tagName":"h3"},{"title":"Theory 2​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-2-1","content":" Tennis Racket theorem. The pitch axis is the second principal axis which is unstable.  ","version":"2.0.0","tagName":"h3"},{"title":"Proposed controller design​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#proposed-controller-design","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Theory 3​","type":1,"pageTitle":"Modeling Cross Coupling","url":"/docs/Contributing/Modeling-Cross-Coupling#theory-3-1","content":" If theory 3 is the main contributor of the coupling effect, one simple idea is to make the disk rolling forward at all time. To know that the disk has a force on it, we need to take derivative of the gyro signal (i.e. D-term) and add that to the roll axis. There is no need for this on the Roll-to-pitch since there is not much coupling. ","version":"2.0.0","tagName":"h3"},{"title":"Contributing to Rotorflight","type":0,"sectionRef":"#","url":"/docs/Contributing/intro","content":"","keywords":"","version":"2.0.0"},{"title":"Translations​","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/Contributing/intro#translations","content":" There are heaps of opportunities to translate the language files to provide the Configurator in your language. This can be both to update current languages or to add a new language.  ","version":"2.0.0","tagName":"h2"},{"title":"Flight testing/Crashing​","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/Contributing/intro#flight-testingcrashing","content":" Rotorflight gets better due to beta-testing code. Lots of things have to be tested and are constantly changing. Some things are not working yet. Sometimes bugs are creeping into the code.  ANYBODY INVOLVED MUST UNDERSTAND THAT CRASHING IS UNAVOIDABLE.  Maybe it's a bug, maybe it's a misconfiguration - it happens.  If you are still interested, we are currently looking for people with:  a spare collective pitch helicoptergood building skill, especially with electronicsgood enough flying skill to judge if things are working or notexperience with drones and Betaflight is a major pluspatience  ","version":"2.0.0","tagName":"h2"},{"title":"Documentation​","type":1,"pageTitle":"Contributing to Rotorflight","url":"/docs/Contributing/intro#documentation","content":" Updating the website. Things are constantly changing, so the website has to update to match. If you have developed your skills to the point where you can assist in telling others how it all works then we would love assistance in keeping this resource up to date. ","version":"2.0.0","tagName":"h2"},{"title":"Diy board - Betaflight FC","type":0,"sectionRef":"#","url":"/docs/Controllers/betaflight-diy","content":"","keywords":"","version":"2.0.0"},{"title":"Flashing Rotorflight​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#flashing-rotorflight","content":" Flashing Rotorflight firmware  ","version":"2.0.0","tagName":"h3"},{"title":"Remap Betaflight board​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#remap-betaflight-board","content":" Remapping servos and motors  ","version":"2.0.0","tagName":"h3"},{"title":"Servo Breakout boards​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#servo-breakout-boards","content":" ","version":"2.0.0","tagName":"h3"},{"title":"OMP M1​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#omp-m1","content":" ","version":"2.0.0","tagName":"h2"},{"title":"OMP M2​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#omp-m2","content":" ","version":"2.0.0","tagName":"h2"},{"title":"16mm x 16mm​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#16mm-x-16mm","content":" ","version":"2.0.0","tagName":"h2"},{"title":"20mm x 20mm​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#20mm-x-20mm","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Whoop boards​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#whoop-boards","content":" ","version":"2.0.0","tagName":"h2"},{"title":"32mm x 32mm​","type":1,"pageTitle":"Diy board - Betaflight FC","url":"/docs/Controllers/betaflight-diy#32mm-x-32mm","content":"","version":"2.0.0","tagName":"h2"},{"title":"Flydragon V2.2","type":0,"sectionRef":"#","url":"/docs/Controllers/flydragon2.2","content":"","keywords":"","version":"2.0.0"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/Controllers/flydragon2.2#rotorflight-target","content":" When updating Rotorflight firmware. Please use the FLYDRAGONF722_V2_2 target.    ","version":"2.0.0","tagName":"h3"},{"title":"Motorised Tail​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/Controllers/flydragon2.2#motorised-tail","content":" To use the Flydragon with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 C09 save    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/Controllers/flydragon2.2#wiring","content":"   caution WARNING: The RPM-S Port is powered via the internal 5V supply which is also powered during USB connection. If you have any power supplies connected or innapropriate loads you are likely to damage your board. DO NOT plug in your ESCs BEC wire into here, many BECs act like a deadshort if you attempt to backfeed them and you WILL blow out the 5V supply on your board when you connect USB if you do this. Power to the rest of the ports is all common power you can connect whatever to.  ","version":"2.0.0","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/Controllers/flydragon2.2#uart-ports","content":" UART 1 - Internal ELRS Receiver - (disable as shown below if not used)UART 2 - SBUS or FPORT connectorUART 3 - Rx and Tx on Extension portUART 5 - Rx and Tx on GPS port (can also be used for the Receiver)    ","version":"2.0.0","tagName":"h3"},{"title":"Can I use a receiver other than ELRS?​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/Controllers/flydragon2.2#can-i-use-a-receiver-other-than-elrs","content":" External receivers can be connected to the SBUS, FPORT or any of the Extension UART ports (UART 3 or 5). If not using the inbuilt ELRS receiver it should be disabled.  How to Enable/Disable the Internal Receiver:​  The internal receiver is default turned on. When using external receivers, we need to turn it off. Connect the Flydragon F722 V2 to the Rotorflight Configurator. Go to CLI (command line) page: Command to DISABLE the receiver: set pinio_config = 1,1,1,1    Command to ENABLE the receiver: set pinio_config = 1,1,1,1    ","version":"2.0.0","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Flydragon V2.2","url":"/docs/Controllers/flydragon2.2#manuals","content":" Flydragon V2.2 Flight Controller Manual Flydragon V2 Flight Controller Manual Flydragon V2 internal ELRS Manual ","version":"2.0.0","tagName":"h3"},{"title":"Flywing Heli405","type":0,"sectionRef":"#","url":"/docs/Controllers/flywingf405heli","content":"","keywords":"","version":"2.0.0"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Flywing Heli405","url":"/docs/Controllers/flywingf405heli#rotorflight-target","content":" Servo Tail: Use the FLYWING_HELI405 target for a servo tail Heli.  Motorised Tail: Use the FLYWING_HELI405M target for a Motorised tail. The 'M' is Motorised.    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Flywing Heli405","url":"/docs/Controllers/flywingf405heli#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Flywing Heli405","url":"/docs/Controllers/flywingf405heli#uart-ports","content":" UART 1 - GPS ConnectorUART 2 - Top JST-GH portUART 6 - DSM and SBUS       ","version":"2.0.0","tagName":"h3"},{"title":"Matek G474Heli","type":0,"sectionRef":"#","url":"/docs/Controllers/matek_heli","content":"","keywords":"","version":"2.0.0"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/Controllers/matek_heli#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/Controllers/matek_heli#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/Controllers/matek_heli#uart-ports","content":"     ","version":"2.0.0","tagName":"h3"},{"title":"Onboard BEC​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/Controllers/matek_heli#onboard-bec","content":" The Matec G474Heli contains a 5A-8A peak, Variable voltage (5v or 7.2v) BEC to supply the servos. The BEC will supply 5v by default and 7.2 v when the solder bridge is connected. THis is powered by the VBat connection.  caution If using an external BEC the internal BEC MUST be disabled via the [Vx Off] solder bridge.    ","version":"2.0.0","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Matek G474Heli","url":"/docs/Controllers/matek_heli#manuals","content":" Detail specifications and doccumentation available at the Matek website. Matek G474-HELI website ","version":"2.0.0","tagName":"h3"},{"title":"Controllers","type":0,"sectionRef":"#","url":"/docs/Controllers/intro","content":"Controllers There are several flight controllers specifically made for Rotorflight. Radiomaster NEXUSFlydragon V2.2Flywing F405HELIMatek G474HeliMatek G474-HLITEDIY - from a Betaflight FC","keywords":"","version":"2.0.0"},{"title":"Matek G474-HLite","type":0,"sectionRef":"#","url":"/docs/Controllers/matek_hlite","content":"","keywords":"","version":"2.0.0"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/Controllers/matek_hlite#rotorflight-target","content":" When updating Rotorflight firmware. Please use the MATEKG474HELI target.    ","version":"2.0.0","tagName":"h3"},{"title":"Motorised Tail​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/Controllers/matek_hlite#motorised-tail","content":" The H-Lite FC is configured with 4 servos and 1 motor. If you wish to use this board for a motorised tail it can be added in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource motor 2 A06 save    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/Controllers/matek_hlite#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/Controllers/matek_hlite#uart-ports","content":"     ","version":"2.0.0","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Matek G474-HLite","url":"/docs/Controllers/matek_hlite#manuals","content":" Detail specifications and doccumentation available at the Matek website. Matek G474-HLite website ","version":"2.0.0","tagName":"h3"},{"title":"What is Rotorflight?","type":0,"sectionRef":"#","url":"/docs/DIY-corner/Quickstart 1","content":"","keywords":"","version":"2.0.0"},{"title":"What's next?​","type":1,"pageTitle":"What is Rotorflight?","url":"/docs/DIY-corner/Quickstart 1#whats-next","content":"","version":"2.0.0","tagName":"h2"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/docs/intro","content":"","keywords":"","version":"2.0.0"},{"title":"Latest Rotorflight 2 Version​","type":1,"pageTitle":"Introduction","url":"/docs/intro#latest-rotorflight-2-version","content":" The Rotorflight 2 Snapshots for testing can be found on the Announcements page. Please join the Rotorflight Discord discussion to ask questions and get assistance from the links at the bottom of this page.   ","version":"2.0.0","tagName":"h2"},{"title":"Design Requirements","type":0,"sectionRef":"#","url":"/docs/Manufacturers/Design-Requirements","content":"","keywords":"","version":"2.0.0"},{"title":"Betaflight Guidlines​","type":1,"pageTitle":"Design Requirements","url":"/docs/Manufacturers/Design-Requirements#betaflight-guidlines","content":" Rotorflight is based on Betaflight, and thus has the same basic requirements for the hardware.  Please read the Design Guidelines for Betaflightfirst.  ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Design​","type":1,"pageTitle":"Design Requirements","url":"/docs/Manufacturers/Design-Requirements#rotorflight-design","content":" Rotorflight Design Requirements Github ","version":"2.0.0","tagName":"h2"},{"title":"Radiomaster NEXUS","type":0,"sectionRef":"#","url":"/docs/Controllers/rm-nexus","content":"","keywords":"","version":"2.0.0"},{"title":"Release Video​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#release-video","content":"   Specifications Hardware Specifications：​ NEXUS Heli Flight Controller MCU: STM32F722RET6 Gyro (IMU): ICM-42688-P Flash Memory (Black Box. IC): 128MB (W25N01GVZEIG) Barometer: SPL06-001 Uart: 6 - DSM[UART1], S.BUS[UART2], A-CRSF[UART4], PORT-B[UART6], PORT-C[UART3] Servo: 4 - S1, S2, S3, TAIL Rpm Sensor: 1 - FROM ESC FREQUENCY SENSOR Receiver Support: CRSF, ELRS, GHOST, S.BUS, SUMD, IBUS, XBUS, EXBUS, PPM, MSP, DSM2, DSMX Voltage Supply(DC): 5 - 12.6V A-B-C Serial Port Power Output: 5V - 2.0A DSM Serial Port Power Output: 3.3V - 0.5A Telemetry: S.BUS, HoTT, S.Port, MSP, EDGETX, ELRS ESC: PWM, Oneshot, Multishot, Dshot Support Tail ESC: 760μs/1520μs Servo Support Tail Motor: Yes Demensions: 41.3 X 25.4 X 13.1mm Weight: 16.8g  ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Target​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#rotorflight-target","content":" When updating Rotorflight firmware. Please use the NEXUS_F7.    ","version":"2.0.0","tagName":"h3"},{"title":"Matching RP3-H ELRS receiver​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#matching-rp3-h-elrs-receiver","content":" Any of the Rotorflight receiver protocols can be used with the NEXUS. Radiomaster does have the RP3-H receiver which is a direct plug and play ELRS receiver.    ","version":"2.0.0","tagName":"h3"},{"title":"F-Port​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#f-port","content":" Nexus supports F.Port on: The 'TX' pin of Port A, B or C or by remapping the SBUS to a TX for F.Port.   F.Port is an Unverted protocol over a single wire so must configured with both of these options enabled.   ","version":"2.0.0","tagName":"h3"},{"title":"Motorised Tail​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#motorised-tail","content":" To use the NEXUS with a motorised tail the Servo 4 needs to be remapped to Motor 2. This can be done in the CLI using the following command (just copy and past this into the CLI then push [ENTER]).  resource SERVO 4 none resource MOTOR 2 B03 save    ","version":"2.0.0","tagName":"h3"},{"title":"Wiring​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#wiring","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"UART ports​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#uart-ports","content":" All the UARTS on the NEXUS are labeled to match each port. Just enter the function you wish to use for each port such as SerialRx (receiver), ESC Telemetry, blackbox, GPS etc.    ","version":"2.0.0","tagName":"h3"},{"title":"Manuals​","type":1,"pageTitle":"Radiomaster NEXUS","url":"/docs/Controllers/rm-nexus#manuals","content":" Radiomaster NEXUS website ","version":"2.0.0","tagName":"h3"},{"title":"Manufacturers Intro","type":0,"sectionRef":"#","url":"/docs/Manufacturers/intro","content":"Manufacturers Intro","keywords":"","version":"2.0.0"},{"title":"Manufacturers stuff?","type":0,"sectionRef":"#","url":"/docs/Manufacturers/Developers","content":"","keywords":"","version":"2.0.0"},{"title":"What's next?​","type":1,"pageTitle":"Manufacturers stuff?","url":"/docs/Manufacturers/Developers#whats-next","content":"","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Configurator","type":0,"sectionRef":"#","url":"/docs/rotorflight-configurator","content":"Rotorflight Configurator [[#tabStatus|Status Page] [[#tabAdjustments|Adjustments]","keywords":"","version":"2.0.0"},{"title":"Reference Design","type":0,"sectionRef":"#","url":"/docs/Manufacturers/Reference-Design","content":"Reference Design Design Please read the page Rotorflight FC Design Requirements first. It is explaining the generic requirements for all Rotorflight designs. For an FC to be fully supported by Rotorflight-2, it must follow one of the reference designs. RF2 will offer more features and easier configurability for designs that are fully compatible. Lots of effort has been put into these designs for making sure they are as flexible as possible, while not imposing any hardware limitations on the functionality. The manufacturer can choose not to implement any features that are marked optional. All other features must be implemented. The reference designs are considering only the aspects that have effect on the software support, mostly the STM32 resource allocation and the minimum set of supported features. The rest - like size, form factor, connector locations - are left for the manufacturer to decide. Rotorflight Reference Design Github Reference Design F7AReference Design F7B","keywords":"","version":"2.0.0"},{"title":"First Flight & Filter Tuning","type":0,"sectionRef":"#","url":"/docs/Tuning/First-Flight-Filter-Tuning","content":"","keywords":"","version":"2.0.0"},{"title":"Example: A Relatively Well Tuned Filter During 3D Maneuvers​","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/Tuning/First-Flight-Filter-Tuning#example-a-relatively-well-tuned-filter-during-3d-maneuvers","content":" ","version":"2.0.0","tagName":"h2"},{"title":"RAW Gyro:​","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/Tuning/First-Flight-Filter-Tuning#raw-gyro","content":"   ","version":"2.0.0","tagName":"h3"},{"title":"Filtered Gyro:​","type":1,"pageTitle":"First Flight & Filter Tuning","url":"/docs/Tuning/First-Flight-Filter-Tuning#filtered-gyro","content":"  ","version":"2.0.0","tagName":"h3"},{"title":"High Speed Integral","type":0,"sectionRef":"#","url":"/docs/Tuning/High-Speed-Integral","content":"","keywords":"","version":"2.0.0"},{"title":"What is it?​","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#what-is-it","content":" This is one of the core features of most advanced FBL systems (Vbar, CGY760R, Spirit .etc) The problem it is solving is maiinly due to the difference in lift from high airspeed in the x and y directions. For example, as the helicoper is moving forward while having a constant positive collective pitch, the helicopter tends to pull up. If the collective pitch is negaive, the imbalance of lift is reversed, and the heli would tend to push down. This is usually not a problem if the collective stays constant because the integral gain will compensate this constant &quot;trim&quot;. However, when changing collective while moving at a high speed (for example, fast moving side tick tocks) the heli would not move axially. It would behave in a snake shape because the I term is constantly charging and discharging in the opposite direction.  The High Speed Integral (HSI) resembles another integral term. However, its output is proportional to the collecive input, which reverses when the collective is negative. This is the &quot;arching&quot; effect you might see on FBLs like a vbar, where if one tilt the helicotper at high collective, and move the collective up and down, the swash plate would resemble one side of a seesaw.  ","version":"2.0.0","tagName":"h2"},{"title":"How to tune it?​","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#how-to-tune-it","content":" To properly tune the HSI, one has to be able to fly maneuvers comfortably at a relatively high speed. The best maneuver is the fast moving ticktocks. It is advised to start low (about 30) and see if theres snaking at the first few tick tocks. The higher O-gain you use, the faster it reacts to high speed, meaning the amount of time ticktock becomes axial is lowered. Ideally, the O-gain should be just high enough to havo no snaking. Too high might result in bobbling during stationary tick tocks because it is essentially an I gain at constant collective.  ","version":"2.0.0","tagName":"h2"},{"title":"(Advanced Topic) Tick tock Optimization​","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#advanced-topic-tick-tock-optimization","content":" The problem of naively implementing the HSI is repeated maneuvers like tick tocks. The HSI works the best when the heli needs reversed &quot;trim&quot; when collective is reversed. However, there is another scenario that this could happen: during ticktocks. Assume there's some error that reverses at each stops of the ticktocks, then the HSI would tend to charge up little by little at each end, resuling unwanted bobbling right after each collective change.  Currently, there seems to be three ways to solve this problem. The simplest way is to not deal with the problem at all and use a very fast I-term decay on the normal integral gain to &quot;soothe&quot; the effect. However, the fast I-term decay creates significant drifting problem in other scenarios, making the heli less predictable.  A much more sophisicated way to deal with this issue. From behavior of the pilots, we know that when the cyclic inputs are high, theres a very low chance that the heli would keep the same airspeed at the input direction. Therefore, the HSI would be added to the normal I term (in the input direction) at some cyclic threshold. This preserves the HSI in the orthogonal direction but &quot;deletes&quot; them in the parallel direction.  RF2 follows the previous logic. However, instead of &quot;deleting&quot; the HSI, it &quot;decays&quot; HSI in a set speed (dictated by the offset_bleed_rate_curve and offset_bleed_limit_curve parameter) into the normal-I. Therefore, a extremely fast impulse on the stick would not result in a complete deletion of the HSI.  ","version":"2.0.0","tagName":"h2"},{"title":"(Advanced Topic) HSI Charging Rate​","type":1,"pageTitle":"High Speed Integral","url":"/docs/Tuning/High-Speed-Integral#advanced-topic-hsi-charging-rate","content":" Another problem with HSI is that it behaves like integral gain at constant collective with higher collective having a higher &quot;equivalent I-gain.&quot; This problem could affect the PID balance greatly especially at high collectives. One way to solve this problem is to lower the HSI charging rate at high collective (offset_charge_curve). It effectly lowers the equivalent I-gain at high collective which helps maintain the PID balance. However, the adverse effect is that this assumes no significant airspeed change when collective is high, which in some extreme cases might not be true. Also, snaking migh occur if one prefer to use high collective during fast moving ticktocks. Therefore, it is advised to have the charge rate as high as possible at high collective to minimize the effect. ","version":"2.0.0","tagName":"h2"},{"title":"Cyclic Cross Coupling","type":0,"sectionRef":"#","url":"/docs/Tuning/Cyclic-Cross-Coupling","content":"","keywords":"","version":"2.0.0"},{"title":"What is it?​","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/Tuning/Cyclic-Cross-Coupling#what-is-it","content":" During ticktocks, one might observe that the center of the main rotor rotates during stops. Another scenario is during hover, one can shake the elevator stick and observe a tilt in the roll axis and a significant drift in the yaw axis. These are both the symptoms of uncompensated cyclic cross coupling.  Cyclic cross coupling happens mainly due to the pitch axis inputs. When the pitch command is given, due to the high moment of inertia of the helicopter in the pitch axis, the frame would &quot;lag&quot; behind the rotor disks. This difference in position creates a torque on the rotor blade and thus transfer to the roll axis due to gyroscopic precession.  The cross coupling compensation simply take a derivative on the pitch SETPOINT and add it proportionally to the roll axis. This effectively pre-load the roll axis with a input command so that when the above scenario happens, the two effects cancel each other.  ","version":"2.0.0","tagName":"h2"},{"title":"How to tune it?​","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/Tuning/Cyclic-Cross-Coupling#how-to-tune-it","content":" Start with a low value and increase when theres no significant coupling is observed or when there is a dimishing return. You might also want to try piroflips because cross-coupling gain changes the corresponding commands at different orientations during piroflips. Try increase the gain slowly so you can get used to the feeling.  From experience, the harder the main rotor dampener is, the lower cross coupling gain is required.  ","version":"2.0.0","tagName":"h2"},{"title":"(Advanced Topic) Constant Cross Coupling​","type":1,"pageTitle":"Cyclic Cross Coupling","url":"/docs/Tuning/Cyclic-Cross-Coupling#advanced-topic-constant-cross-coupling","content":" The above cross coupling only happens at the moment of pitch (could also be a little bit of roll) input. However, there could be another scenario that a constant cross-coupling might occur. If the main blade flap axis is not centered at the middle commonly due to very hard dampeners, very low headspeed, or rotorhead designs, a constant cross coupling might occur because the phase lag of the rotor blade is no longer perfectly 90deg. In this case, you might want to consider adjusting the phase angle in the Mixer page. Usually a +2 to +10 deg would be a good range to start and more testing is needed. You might also want to make sure that it is doing the right thing. For CW rotor, when pushing the elevator, the swash should tilt slightly right, and when you pull the elevator stick, the swash should tilt slightly left. ","version":"2.0.0","tagName":"h2"},{"title":"Motorised Tail and TTA","type":0,"sectionRef":"#","url":"/docs/Tuning/Motorised-Tail-and-TTA","content":"Motorised Tail and TTA info Torque Tail Assist (TTA) - This is a feature used for helicopters with motorised tails. A motorised tail can provide high control authority in one direction. In the other it is greatly reduced as the motor can only turn in one direction. TTA is ised to add control authority in the other direction. It does this by rapidly accelerating the main motor. This acceleration provides torque in the oposite direction to the tail motor. Tuning TTA is best performed by pushing your heli into a flight envelope in which you loose tail authority. A simple flight pattern is to fly backawards as fast as possible.. with the tail going into the wind. If you notice the heli suddently doing a sharp rotation.. sometimes up to 180 degrees; then your TTA needs to be higher. Simply raise the value in increments of 10 until the problem starts to go away. Sometimes you will find that your heli will be find with flying backwards; but flip out in agressive manouvers. For example a 'tail slide' or 'backwards loop' will trigger it. As above.. raise the gain until the issue is largely mitigated. Note. Its possible you will never 100% clear the swing that can occur. The original 'OMP M2' for example will still show the issue at times with even the maximum TTA gain. In the end the issue is that the main motor is not beefy enough to provide enough torque to control the swing that can occationally occur.","keywords":"","version":"2.0.0"},{"title":"Rescue mode settings","type":0,"sectionRef":"#","url":"/docs/Tuning/Rescue-mode-settings","content":"Rescue mode settings","keywords":"","version":"2.0.0"},{"title":"Tune Feedforward","type":0,"sectionRef":"#","url":"/docs/Tuning/Tune-Feedforward","content":"","keywords":"","version":"2.0.0"},{"title":"Steps​","type":1,"pageTitle":"Tune Feedforward","url":"/docs/Tuning/Tune-Feedforward#steps","content":" If it is the first time, make sure to start low (usually &lt; =100 on the cyclic and 0 on the tail)Do continuous flips, rolls, or pirouetting.Stop the flip/roll or piro, observe the stopping behaviorIf the heli does not stop cleanly and kept moving a little bit, increase the FF gain on its corresponding axisIf the heli stops but bounces back, decrease the FF gain on the corresponding axis  IMPORTANT NOTICE: This parameter is NOT designed to tune the response of the helicopter. DO NOT use it to change how fast the heli reacts to inputs. If you want a sharper reaction, please increase the B(oost)-gain ","version":"2.0.0","tagName":"h2"},{"title":"Tune the Governor","type":0,"sectionRef":"#","url":"/docs/Tuning/Tune-Governor","content":"","keywords":"","version":"2.0.0"},{"title":"Preparation​","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#preparation","content":" If you're using TTA, disable it by setting TTA gain to 0 on the Profiles tab. You can enable it again once you're done tuning the governor.Set Blackbox debug mode to Governor and Blackbox logging rate to 1kHz on the Blackbox tab.Start with governor P-gain and I-gain really low, e.g. 10 for P and 20 for I. Spool up might now take a bit longer.  ","version":"2.0.0","tagName":"h2"},{"title":"Tuning steps​","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#tuning-steps","content":" When you're using the Rotorflight Lua scripts, you can change all gain values on the field. My routine is to make logs of 3 or 4 different values around the default value for one specific gain. Example: the governor F-gain has a default value of 15, so try 10, 15, 20 and 25. Start with 10, do some pitch pumps (give it full collective for a short period of time) and disarm. Change the value to 15 and save, arm, do some pitch pumps, and so on. The result will be one log file with 4 partial logs, which you can select with the dropdown in the upper-right corner of the Blackbox Explorer. Then look in the Blackbox Explorer to see what gain value works best. If you think you might need higher or lower values for a specific gain, make a new log with adjusted values.  Try increments of 10 for the F-gain, increments of 25 for the I-gain and increments of 10 for the P-gain.  ","version":"2.0.0","tagName":"h2"},{"title":"1. Tune the F-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#1-tune-the-f-gain","content":" The F-gain determines the feedforward term, together with cyclic and collective precompensation. As stated, the better the F-gain is tuned, the less the PID-loop has to correct. Here's an example where the F-gain is too low, since the headspeed drops quite a bit when doing pitch pumps.    If the F-gain is too high, the headspeed will be temporarily too high.    ","version":"2.0.0","tagName":"h3"},{"title":"2. Tune I-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#2-tune-i-gain","content":" After you have found and set the best value for F-gain you can increase the I-gain until it starts playing up, then reduce it with 1/3. Here you can see an I-gain value which is too high, since there are some slow oscillations during and/or after the pitch pump.    ","version":"2.0.0","tagName":"h3"},{"title":"3. Tune P-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#3-tune-p-gain","content":" After setting the optimal value for I-gain start increasing the P-gain till there are slight oscillations, then reduce it with 1/3. Here is an example of a P-gain that is clearly too high and introduces fast oscillations.    ","version":"2.0.0","tagName":"h3"},{"title":"4. Tune D-gain​","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#4-tune-d-gain","content":" Unless you're flying a 500+ heli you probably won't need D, since there's hardly any momentum in the rotor.  ","version":"2.0.0","tagName":"h3"},{"title":"The result​","type":1,"pageTitle":"Tune the Governor","url":"/docs/Tuning/Tune-Governor#the-result","content":" This is the result of tuning a Scorpion HKII-2208 3600KV motor in a Gaui X2.    And these are the gain values found for this heli:   ","version":"2.0.0","tagName":"h2"},{"title":"Tuning your Helicopter","type":0,"sectionRef":"#","url":"/docs/Tuning/Tuning-description","content":"","keywords":"","version":"2.0.0"},{"title":"Tuning Profile PID:​","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/Tuning/Tuning-description#tuning-profile-pid","content":"   caution Please start by confirming your filters are working correctly before you increase your tuning parameters. If you do not have filters enabled it is particularly important that you do not use Derivative. This can result in hot Motors and Servos.  note What do we mean &quot;wobble&quot;?? When tuning parameters are too high the helicopter will wobble or shake during some movements. Each time we increase a tuning value we need to test fly and see if the new setting is too high. Test this in the following way: Beginner: Tap the stick and see if it shakes/shudders/wobblesAverage: Do some flips with sudden stops, try going fast and tapping the stick, do some TictocsAdvanced: Do crazy high speed high rate stuff that makes the FC sweat and see if it freaks out 😜. Please also see the General Guidlines below for more specific descriptions​  Increase Derivative (D) on each axis individually, (roll, pitch, yaw) until it wobbles, then back off a bit. (remember!! don't do this if your filters are not working). Increase Proportional (P) on each axis individually, until it wobbles, then back off a bit. Increase Integral (I) on each axis individually, until it wobbles, then back off a bit. Set Feedforward so that you get good response and Integral (I) remains near 0 in full stick flips and rolls (viewed using the blackbox logs). Feedforward can also be tuned by following the desctiption in Tune Feedforward. If necessary, then tweak P:D ratio to tweak stick response damping to your liking. Increase HSI until it wobbles when jabbing elevator at full collective, back off a bit.    Increase Boost (B) if you want sharper/faster response.  ","version":"2.0.0","tagName":"h2"},{"title":"General Guidelines​","type":1,"pageTitle":"Tuning your Helicopter","url":"/docs/Tuning/Tuning-description#general-guidelines","content":" The higher the gains are, the better the heli response to inputs, the more &quot;locked in&quot; heli feels.The pitch axis is the most difficult axis to tune. It is advised to start here.The roll axis is the easiest. Many different gains works on the roll axis. It is advised to tune last.D-gain dampens oscillations caused by P, P-gain dampens oscillations caused by I.I-oscillation are very slow (0.5-1Hz) while P and D oscillations are fast (5-8Hz).If there is I-oscillation, one could lower the I-gain or raise the P-gain.The best maneuver to see I-oscillation is to pirouetting long pitch pumps. If the heli does not stop clean and has a large shake, it is either I-gain being too high or P-gain being too low.It is possible to use the same I-gain on pitch and roll axis.Check tick-tock stops to see if P and D are too high by observing the fast oscillations. If oscillations are mainly slow, I-gain might be too high.The B-gain should be increased incrementally to fit how sharp the response you want. Usually only pitch needs a significant B-gain.Too high on B-gain results in unwanted oscillations at stops if low B-gain did not cause it.One could also experiment the I-relax to tune out the I-oscillations at stops. Lower number means stronger relax. Notice that a extremely low number might make the helicopter feel unpredictable. low number also hide gain imbalance that could show up during high-demand maneuvers or natural occuring disturbances (like a gust of wind) ","version":"2.0.0","tagName":"h2"},{"title":"Help - Frequent questions?","type":0,"sectionRef":"#","url":"/docs/Tutorial-Quickstart/Help-Common-Questions","content":"","keywords":"","version":"2.0.0"},{"title":"Motor won't start​","type":1,"pageTitle":"Help - Frequent questions?","url":"/docs/Tutorial-Quickstart/Help-Common-Questions#motor-wont-start","content":" Is ARM mode configured? Please check your Arm Mode has been enabled. See details in the ModesNote!! Arm and Throttle hold need to be on different switches. The FC must see minimum throttle before Arm is enabled; therefore, if Arm activates at the same time as throttle hold is removed, it will fail the minimum check.Check status page for Arming disables Using a Governor? Does the Motor spool in Governor 'passthrough'. If not this could indicate a pin or timer allocation issue. Also please check your Receiver is connected and has the correct channel order.Does the Motor spool in Governor 'Mode 1'. Please confirm you have either Frequency input or Bi-directional Dshot enabled and functioning. Using the Motor override run the motor at minimum speed and confirm there an RPM signal presentGovernor mode 'Mode 2'. If the motor is able to spool in the other modes but not Mode 2 it means the Battery Voltage is not available. Please update this in the Power tab.  ","version":"2.0.0","tagName":"h2"},{"title":"Servo don't respond​","type":1,"pageTitle":"Help - Frequent questions?","url":"/docs/Tutorial-Quickstart/Help-Common-Questions#servo-dont-respond","content":" Are servos visible in the servo Tab? Review the remapping and add servos From the servo override does the servo move? Confirm connection of the servosConfirm servos are poweredCheck all servos. Servo moves in override but not Confirm miser has been chosen from the Mixer tab. ","version":"2.0.0","tagName":"h2"},{"title":"Introduction","type":0,"sectionRef":"#","url":"/docs/Tutorial-Quickstart/Introduction","content":"","keywords":"","version":"2.0.0"},{"title":"Latest Rotorflight 2 Version​","type":1,"pageTitle":"Introduction","url":"/docs/Tutorial-Quickstart/Introduction#latest-rotorflight-2-version","content":" The Rotorflight 2 Snapshots for testing can be found on the Announcements page.  ","version":"2.0.0","tagName":"h2"},{"title":"Discussion & Help​","type":1,"pageTitle":"Introduction","url":"/docs/Tutorial-Quickstart/Introduction#discussion--help","content":" Get in touch with fellow Rotorflight users and the developers on social media platforms:  Rotorflight Discord Chat Invitation Official Rotorflight RCGroups Thread Rotorflight Facebook Group  There's a lot of in-depth information available in this Website. The most important pages are shown in the sidebar on the right. ","version":"2.0.0","tagName":"h2"},{"title":"What board should I get?","type":0,"sectionRef":"#","url":"/docs/Tutorial-Quickstart/What-Board","content":"","keywords":"","version":"2.0.0"},{"title":"Processors​","type":1,"pageTitle":"What board should I get?","url":"/docs/Tutorial-Quickstart/What-Board#processors","content":" We recommend use of a board that has an H743, F7 (F745, F722 etc) or F405 processor for best results. An F411 can (and has) been used but may not be able to run all of the newer features. The newest H7 processors are yet to be supported/fully tested. Please avoid these (or help us with the testing!!)  ","version":"2.0.0","tagName":"h2"},{"title":"Gyros​","type":1,"pageTitle":"What board should I get?","url":"/docs/Tutorial-Quickstart/What-Board#gyros","content":" Rotorflight 2.xx is built on the Betaflight 4.3 platform. This is several releases behind the current Betaflight version so as a result there may be some new hardware additions that are not yet supported. Currently the gyros on all common boards designed for Betaflight are supported. These include:  MPU6000, MPU6050, MPU6500BMI270ICM42688  ","version":"2.0.0","tagName":"h2"},{"title":"Size​","type":1,"pageTitle":"What board should I get?","url":"/docs/Tutorial-Quickstart/What-Board#size","content":" How large is the space available for the flight controller? The amount of space may affect the size of boards you choose to use. Standard sizes are 16mmx16mm, 20mmx20mm, 25.5mm.25.5mm (whoop), 30.5mmx30.5mm. There are also AIO (All in one) boards which contain the flight controller and 4x ESC's on the one board.  ","version":"2.0.0","tagName":"h2"},{"title":"How many pads are available?​","type":1,"pageTitle":"What board should I get?","url":"/docs/Tutorial-Quickstart/What-Board#how-many-pads-are-available","content":" We need to have pads available on the board to connect to our devices such as Servos, Motors, Frequency input, External logger, Receiver etc (GPS in the future).  Receiver: This will require a UART RX and TX if we want to use telemetry (this will be documented by the manufacturer)  Servos, Motor, Frequency: These items can be allocated to any free UART RX, UART TX, SDA, SCL, LED or Motor pad.  Logger: OpenLager requires one free UART TX  You will need to choose a board that has enough pins to enable all of your connections. ","version":"2.0.0","tagName":"h2"},{"title":"Tuning examples and presets","type":0,"sectionRef":"#","url":"/docs/Tuning/tuning-examples","content":"","keywords":"","version":"2.0.0"},{"title":"How to use these presets?​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#how-to-use-these-presets","content":" There are two options for using these pre-sets.  Follow the screen shots to configure your helicopter.Load from the supplied Diff file. Please note: This method may overwright some of your previously configured settings. Please check and confirm carefully.  ","version":"2.0.0","tagName":"h2"},{"title":"OMP M4​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#omp-m4","content":" OMPHOBBY M4 Jonas Wackershauser - M4​ OMPHOBBY M4View Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"OMP M4 - max​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#omp-m4---max","content":" OMPHOBBY M4 - Max Jonas Wackershauser - M4 Max​ OMPHOBBY M4 MaxView Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"OMP M7​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#omp-m7","content":" OMPHOBBY M7 Jonas Wackershauser - M7​ This is a high headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 light Jonas Wackershauser - M7 Light​ This is a low headspeed version of my M7 tune. OMPHOBBY M7View Pre-set  OMPHOBBY M7 Jiawen Bao - M7​ OMPHOBBY M7View Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"XLPower Nitro Nimbus​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#xlpower-nitro-nimbus","content":" XLPower Nitro Nimbus Jiawen Bao - Nitro Nimbus.​ Nitro NimbusView Pre-set  ","version":"2.0.0","tagName":"h2"},{"title":"XLPower Specter Nitro​","type":1,"pageTitle":"Tuning examples and presets","url":"/docs/Tuning/tuning-examples#xlpower-specter-nitro","content":" XLPower Specter Nitro Jiawen Bao - Specter Nitro.​ Specter NitroView Pre-set ","version":"2.0.0","tagName":"h2"},{"title":"Beepers","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Beepers","content":"Beepers To Do","keywords":"","version":"2.0.0"},{"title":"Command Line Interface (CLI)","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/CLI","content":"","keywords":"","version":"2.0.0"},{"title":"Accessing the CLI.​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/Tutorial-Setup/CLI#accessing-the-cli","content":" The CLI can be accessed via the configurator CLI tab.  ","version":"2.0.0","tagName":"h2"},{"title":"CLI Usage​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/Tutorial-Setup/CLI#cli-usage","content":" To save your settings type in save, saving will reboot the flight controller.  To exit the CLI without saving power off the flight controller or type in exit.  To see a list of other commands type in help and press return.  To dump your configuration (including the current profile), use the dump command.  ","version":"2.0.0","tagName":"h2"},{"title":"Diff Backup Using CLI​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/Tutorial-Setup/CLI#diff-backup-using-cli","content":" This method shows all user-modified settings but avoids saving values left as default or values that are part of the board targets  Note that diff only shows the current Rate and PID profiles, whereas diff all will show all profiles that have been changed  diff all   This data should be sufficient to replicate the heli configuration on a new or erased flight controller board. Use the save to file function to create a backup.  ","version":"2.0.0","tagName":"h2"},{"title":"Dump Using CLI​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/Tutorial-Setup/CLI#dump-using-cli","content":" Note that the dump command will output every setting and their current values. Many of these will be firmware defaults and are not needed to backup heli configuration changes.  rateprofile 0 profile 0 dump   ","version":"2.0.0","tagName":"h3"},{"title":"Dump Profiles Using CLI if You Use Them​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/Tutorial-Setup/CLI#dump-profiles-using-cli-if-you-use-them","content":" profile 1 dump profile profile 2 dump profile   ","version":"2.0.0","tagName":"h3"},{"title":"Dump Rate Profiles Using CLI if You Use Them​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/Tutorial-Setup/CLI#dump-rate-profiles-using-cli-if-you-use-them","content":" rateprofile 1 dump rates rateprofile 2 dump rates   copy screen output to a file and save it.  ","version":"2.0.0","tagName":"h3"},{"title":"Backup/Restore via CLI​","type":1,"pageTitle":"Command Line Interface (CLI)","url":"/docs/Tutorial-Setup/CLI#backuprestore-via-cli","content":" Go to Backup and Restore ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox logging","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Blackbox","content":"","keywords":"","version":"2.0.0"},{"title":"What is Blackbox​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#what-is-blackbox","content":" Blackbox is a flight data recording feature in Rotorflight. A Blackbox log contains a lot of data, such as the attitude of the heli, gyro sensor measurements, PID data, RC commands, motor outputs etc. It’s an extremely powerful tool for tuning and troubleshooting the heli.  ","version":"2.0.0","tagName":"h2"},{"title":"Blackbox data can be logged to:​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#blackbox-data-can-be-logged-to","content":" A flash chip on the FC. Logging is fast, but storage is limited, unless you are using a dedicated RF controller(FlyDragon F7 has 128MByte Flash), and copying log files can be slow.An SD card on the FC, it's fast and storage is only limited by the capacity of the SD card.An external logging device: OpenLager. These devices write the log to a micro SD card.  A flash chip or an SD card on the FC are nice, but if your FC doesn't have that you can connect an OpenLager logging device.    ","version":"2.0.0","tagName":"h2"},{"title":"Blackbox Configuration​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#blackbox-configuration","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Logging Device​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#logging-device","content":" Here you can select the device type.  No Logging: Disable Logging.Onboard Flash: Log to the onboard flash chip (if available).SD Card: Log to the onboard SD Card (if available).Serial Port: Log to an external logging device (eg. OpenLager).  ","version":"2.0.0","tagName":"h3"},{"title":"Logging Mode​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#logging-mode","content":" Select the preferred logging mode.  No Logging: Disable Logging.Normal: Start logging when both ARM and BLACKBOX switches are active.Armed: Start logging when ARM switch is active.Switch: Start logging when BLACKBOX switch is active.  ","version":"2.0.0","tagName":"h3"},{"title":"Logging Rate​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#logging-rate","content":" The log data is saved to the logging device with this rate. For logging to an external device, lower speed may be required.  Set it to 2kHz for OpenLager.  ","version":"2.0.0","tagName":"h3"},{"title":"Debug Mode​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#debug-mode","content":" Choose what extra data is being logged, eight extra debug items are added to the Blackbox Log.  note Under Blackbox debug mode you can specify what should be logged. There are a lot of choices, but you can select GYRO_SCALED for PID tuning, GOVERNOR for analyzing the governor or CYCLETIME if you're interested in CPU time.  ","version":"2.0.0","tagName":"h3"},{"title":"Debug Axis​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#debug-axis","content":" Choose which axis is being debugged. Applies to some of the debug modes.  ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox Logging Options​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#blackbox-logging-options","content":"   Here you activate the parameters that you want to log.  For general use activate the following options Command Setpoint Mixer PID Raw Gyro Gyro Battery RSSI RPM Motors Servos.  ","version":"2.0.0","tagName":"h2"},{"title":"Onboard dataflash chip​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#onboard-dataflash-chip","content":"   Erase - Erase Blackbox Data.Save to file - Download Blackbox Data.  ","version":"2.0.0","tagName":"h2"},{"title":"Mass Storage Mode​","type":1,"pageTitle":"Blackbox logging","url":"/docs/Tutorial-Setup/Blackbox#mass-storage-mode","content":"   Blackbox Explorer  The log files can be read with the Rotorflight Blackbox Explorer. ","version":"2.0.0","tagName":"h2"},{"title":"Backup and restore","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Backup-and-restore","content":"","keywords":"","version":"2.0.0"},{"title":"Back up the configuration​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#back-up-the-configuration","content":" Backups of your Rotorflight configuration can be taken in order to restore a controller to a previous state, in the event of a failure, or to duplicate your controller to use on another helicopter. Also it is advised that a backup is taken of the original Betaflight pre-loaded configuration before loading Rotorflight.  ","version":"2.0.0","tagName":"h2"},{"title":"Step 1.​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#step-1","content":"   Open Rotorflight Configurator and [Connect]. If the board is new and as supplied with Betaflight a warning message will pop up saying the &quot;firmware version is not supported&quot;. This means that the board currently does not have Rotorflight loaded so it can be safely ignored. Rotorflight configurator will now open in CLI mode. If you are backing up your config after having already configured your helicopter you will need to click on the CLI tab from the left hand side of the page to open the CLI interface.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 2.​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#step-2","content":" Choose what you want to back up. There are several options.  dumpThis command dumps all of the hardware and software configuration.diffdiff will download any configuration that is not equal to the custom defaults for that board. Things like your ESC protocol, RX type etc. This file is very small.dump allDump all downloads all hardware and software the same as the dump command; however, it also includes all rate profiles.dump hardwareDump hardware will download all of the hardware config. This is information like the pin assignments and board specific information (gyro bus address etc).  ","version":"2.0.0","tagName":"h3"},{"title":"Step 3.​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#step-3","content":"   Click on [Clear output window].Type the backup command (from step 2) in the window and click [ENTER].  ","version":"2.0.0","tagName":"h3"},{"title":"Step 4.​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#step-4","content":"   After the command is complete click [Save to File] and store on your computer.  ","version":"2.0.0","tagName":"h3"},{"title":"Load/Restore Config​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#loadrestore-config","content":" Use this process to load remapping config files for your specific flight controller if available. You can also restore config files to your flight controller you have previously saved or have been shared by other users.  ","version":"2.0.0","tagName":"h2"},{"title":"Step 1.​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#step-1-1","content":"   Open the CLI tab and click [Load from File] and select the file on your computer.Click on the [Execute] from the pop up.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 2.​","type":1,"pageTitle":"Backup and restore","url":"/docs/Tutorial-Setup/Backup-and-restore#step-2-1","content":"   Once the backup is loaded type save in the command line and [ENTER]. The flight controller will now reboot. ","version":"2.0.0","tagName":"h3"},{"title":"Adjustments","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Adjustments","content":"","keywords":"","version":"2.0.0"},{"title":"Example - Select a Profile In-Flight​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#example---select-a-profile-in-flight","content":" Being able to switch between profiles in-flight allows you to use different headspeeds with differently tuned PIDs. It can also help with PID tuning, since it makes A/B testing possible with the flick of a switch.  ","version":"2.0.0","tagName":"h2"},{"title":"Simple example​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#simple-example","content":" Here we use only one channel -AUX4- for PID and Rates Profiles Selection. Assign AUX4 to a 3-position switch on the TX, so that the switch outputs 1000/1500/2000us. Profile Switching Example.  ","version":"2.0.0","tagName":"h3"},{"title":"Adjustment Types​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#adjustment-types","content":" There are two ways the how the control AUX channel is affecting the configuration parameter.  ","version":"2.0.0","tagName":"h2"},{"title":"Step Adjustment​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#step-adjustment","content":" The control AUX channel can be a three position switch or a trim switch on the transmitter. While in up position, it will cause the adjustment to increase by step size, and vice versa. The min and max limits are adhered.  Step adjustment is enabled by setting the step size to non-zero value.  ","version":"2.0.0","tagName":"h3"},{"title":"Continuous Adjustment​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#continuous-adjustment","content":" The control AUX channel is a full resolution RC channel, and is controlling the configuration parameter directly. The RC channel range 1000us..2000us is stretched to cover the parameter range min..max.  Continuous adjustment is enabled by setting the step size to zero.  ","version":"2.0.0","tagName":"h3"},{"title":"Adjustment Functions​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#adjustment-functions","content":" The adjustment function assigns the control AUX channel to a configuration parameter or a special function. The supported functions are listed below.  Profile change   Rates   PID   Gyro cutoffs   Dterm cutoffs   Rescue   Leveling   Governor   Boost gains   Offset gains   Cross-coupling   ","version":"2.0.0","tagName":"h2"},{"title":"Parameter Change Functions​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#parameter-change-functions","content":" The parameter change functions are adjusting the associated configuration parameters, taking effect immediately. This allows changing the fundamental tuning parameter inflight.  Each parameter has a min and max limit that the user can set to safeguard against unreasonable or unsafe values. In addition, the system has absolute limits for each parameter.  ","version":"2.0.0","tagName":"h3"},{"title":"Profile Change Functions​","type":1,"pageTitle":"Adjustments","url":"/docs/Tutorial-Setup/Adjustments#profile-change-functions","content":" The special functions to change configuration profiles works exactly the same as the parameter functions, except that the possible values are limited to the number of profiles. Both step and continuous adjustments can be used.  For example, there are six Rate Profiles available, thus the parameter limits should be min = 0 and max = 5. Narrower range is also possible, if so desired. ","version":"2.0.0","tagName":"h3"},{"title":"Failsafe","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Failsafe","content":"Failsafe In the event of receiver failsafe the flight controller will set Roll, Pitch, Yaw, and Collective commands to 0, and it will shut off the throttle. You can set other failsafe options for auxiliary channels, (Default is HOLD).","keywords":"","version":"2.0.0"},{"title":"Configuration","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Configuration","content":"","keywords":"","version":"2.0.0"},{"title":"Personalization​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#personalization","content":" Allows you to set your heli name to be shown in the OSD, blackbox logs and diff/dump outputs.    ","version":"2.0.0","tagName":"h2"},{"title":"System Configuration​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#system-configuration","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Gyro Update Frequency​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#gyro-update-frequency","content":" This indicates the current gyro update frequency.  ","version":"2.0.0","tagName":"h3"},{"title":"PID Loop Frequency​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#pid-loop-frequency","content":" This is the frequency that the control loop operates at. Set to between 1kHz and 2kHz.  There is limited or no benefit in higher rates and will result in high loads for your flight controller. This could be an issue for F405 and F411 boards.  ","version":"2.0.0","tagName":"h3"},{"title":"Accelerometer​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#accelerometer","content":" This must be selected if you wish to use stability (6G modes) such as Angle, Horizon or Rescue modes.  ","version":"2.0.0","tagName":"h3"},{"title":"Barometer​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#barometer","content":" This is used for Altitude hold Rescue which is currently still being developed  ","version":"2.0.0","tagName":"h3"},{"title":"Magnetometer​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#magnetometer","content":" Currently this does not provide any control functionality, however, it can be used for telemetry.  ","version":"2.0.0","tagName":"h3"},{"title":"Features​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#features","content":" This section is used to enable or disable features.    tip Features such as the GPS must be selected in the Serial ports section before selecting the Feature here.  ","version":"2.0.0","tagName":"h2"},{"title":"Serial Ports​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#serial-ports","content":" Please choose the functions you wish to assign to your UART.    ","version":"2.0.0","tagName":"h2"},{"title":"MSP​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#msp","content":" As the name suggests, usually only used for lower-level communication using the MSP (MultiWii Serial Protocol) for configuration done by external devices, or to allow a more direct way of control. You can also set a specific baud rate.  ","version":"2.0.0","tagName":"h3"},{"title":"GPS​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#gps","content":" GPS is not currently used for Rotorflight for any flight controls. This can be used for telemetry purposes.  ","version":"2.0.0","tagName":"h3"},{"title":"Serial Rx​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#serial-rx","content":" Check Receiver page for detailed info.  ","version":"2.0.0","tagName":"h3"},{"title":"ESC Telemetry​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#esc-telemetry","content":" Check ESC Telemetry page for detailed info.  ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox Logging​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#blackbox-logging","content":" This enables a UART for an external logging device such as OpenLager.  ","version":"2.0.0","tagName":"h3"},{"title":"Telemetry: FrSky SmartPort​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#telemetry-frsky-smartport","content":" This is used when connecting an FrSky SmartPort receiver pin to this UART.  ","version":"2.0.0","tagName":"h3"},{"title":"Board and Sensor alignment​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#board-and-sensor-alignment","content":" Change the roll, pitch and yaw gyro alignment value until the model on the status page moves in the same direction as the gyro board.  A method of determining what settings to use:  set Roll, Pitch and Yaw values to 0 degrees.set Gyro alignment to CW-0 degrees.Move the FC around until the movement of the FC matches the movement of the helicopter on the &quot;Status&quot; page. You may have to &quot;reset Z axis&quot;.Now take note of how you have to rotate/flip the board in order to get the FC oriented in the way you wish to mount it in the helicopter. An example would be that you have to rotate the board 180 and flip. You would chose 'CW180 Flip' in the Gyro alignment dropdown.    ","version":"2.0.0","tagName":"h2"},{"title":"Accelerometer Trim​","type":1,"pageTitle":"Configuration","url":"/docs/Tutorial-Setup/Configuration#accelerometer-trim","content":" This section is used to trim the roll and pitch axis while the helicopter is in Stability mode (e.g Angle, horizon or Rescue).  The Transmitter trims for each cyclic axis must be at neutral when using Rotorflight (at 1500us). This will usually result in the helicopter drifting while in a stable hover. To correct for this drift the Accelerometer roll and pitch trims are to be used.  This can be done either directly by the configurator or via the transmitter with Lua.   ","version":"2.0.0","tagName":"h2"},{"title":"ESC Telemetry","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/ESC-Telemetry","content":"","keywords":"","version":"2.0.0"},{"title":"Select Serial Port​","type":1,"pageTitle":"ESC Telemetry","url":"/docs/Tutorial-Setup/ESC-Telemetry#select-serial-port","content":" The ESC telemetry pin TX needs to be connected to a spare UART RX.  Select the UART from the Configuration page.    ","version":"2.0.0","tagName":"h3"},{"title":"Select the Protocol​","type":1,"pageTitle":"ESC Telemetry","url":"/docs/Tutorial-Setup/ESC-Telemetry#select-the-protocol","content":" Select the correct ESC telemetry protocol based on the one you are using.    For Hobbywing V4Additional parameters are provided for the voltage and current gains, and zero offsets.  set esc_sensor_hw4_voltage_gain = 0set esc_sensor_hw4_current_gain = 0set esc_sensor_hw4_current_offset = 0  These parameters are set to zero by default to enable the Auto-Calculation within the firmware. If you wish to fine tune the voltage and current you can use the below values as a starting point.  Model\tVoltage gain\tCurrent gain\tCurrent offsetPlatinum LV 60A\t109\t0\t0 Platinum LV 80A\t109\t146\t409 Platinum LV 120A\t109\t110\t377 Platinum HV 130A\t210\t157\t0 Platinum HV 200A\t210\t157\t477 FlyFun HV 160A\t210\t66\t381  ","version":"2.0.0","tagName":"h3"},{"title":"Power Config​","type":1,"pageTitle":"ESC Telemetry","url":"/docs/Tutorial-Setup/ESC-Telemetry#power-config","content":" Enable the Voltage and Current from the Power Tab.   ","version":"2.0.0","tagName":"h3"},{"title":"Flashing the firmware","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Flashing-the-firmware","content":"","keywords":"","version":"2.0.0"},{"title":"Install Rotorflight Configurator​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#install-rotorflight-configurator","content":" Start by downloading and installing the latest Rotorflight Configurator release.  This walk-through uses Windows, but it should also work on Linux or macOS.  ","version":"2.0.0","tagName":"h2"},{"title":"Install Drivers​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#install-drivers","content":" On Windows, install the STM USB VCP Drivers from the links on the Rotorflight Configurator page.  ","version":"2.0.0","tagName":"h2"},{"title":"Back up Betaflight Config​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#back-up-betaflight-config","content":" Rotorflight is based on Betaflight and uses the Betaflight configuration as its base. You should make a copy of the configuration that the flight controller (FC) shipped with. Back up the Betaflight configuration as shown in Back up and restore.  ","version":"2.0.0","tagName":"h2"},{"title":"Flash Firmware to FC​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#flash-firmware-to-fc","content":" Connect the FC to your computer with an USB data cable. Now you are ready to install the Rotorflight firmware to your FC. There are five different versions of the firmware, each version targeting a specific microprocessor: F405, F411, F7X2, F745, and H743. Your FC must use one of those processors. Besides firmware, each FC has it's own configuration. The configuration specifies the FC board, e.g. what pads are used for what.  ","version":"2.0.0","tagName":"h2"},{"title":"Step 1.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#step-1","content":" Identify the Betaflight target. This can be found in the dump file specified by board_name saved in your backup or on the manufacturers website.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 2.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#step-2","content":" Open the Rotorflight configurator and click on Update Firmware.  Choose Releases from the dropdown. Note: Snapshots are for development and testing purposes only. They may contain bugs!!Select the Target you identified in Step 1. You can also click on the &quot;detect&quot; buton to auto detect the target.Select Full chip Erase, this will remove all previous configurations.Click on Load firmware[online]    ","version":"2.0.0","tagName":"h3"},{"title":"Step 3.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#step-3","content":" Check and confirm the target board is correct.Click on Flash Firmware.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 4.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#step-4","content":" When the programming is successful click on Connect.    ","version":"2.0.0","tagName":"h3"},{"title":"Step 5.​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#step-5","content":" Configure the pin remapping. If you are using a commercial Rotorflight controller (NEXUS, Flydragon, Flywing, MatekG474 etc) this step is not required. These boards are configured with the required servos etc already.  If building a custom controller you will need to apply the remapping config to add your servos and motors. Please see the Remapping page for details on how to use the Custom defaults remapping spreadsheet.  ","version":"2.0.0","tagName":"h3"},{"title":"Troubleshooting​","type":1,"pageTitle":"Flashing the firmware","url":"/docs/Tutorial-Setup/Flashing-the-firmware#troubleshooting","content":" 'Initiating reboot to bootloader' hangs If you're on Windows and it hangs while displaying Initiating reboot to bootloader, you'll need to install the proper driver for the STM32 BOOTLOADER device.  Make sure the device STM32 BOOTLOADER is installed and showing up in the Device Manager, either under Other Devices or under Universal Serial Bus devices. Select View &gt; Show Hidden Devices in order to see all installed devices.  You might need to uninstall all STM Device in DFU Mode devices under Universal Serial Bus Controllers before Windows will install the STM32 BOOTLOADER device. Make sure to check Delete the driver software for this device.  In the Configurator, go to the CLI and type dfu. This puts the FC in Device Firmware Update mode.  Start Zadig (see download link on the Welcome tab in the Configurator), select Options &gt; List all Devices, select STM32 BOOTLOADER and change the driver to WinUSB. Flash firmware should now work.    Error 'Rebooting device to bootloader: FAILED' If you receive the error Rebooting device to bootloader: FAILED then you will need to manually place the FC into bootloader mode. Do this by holding down the BOOT button while connecting it to your computer.  Help... that didn't work. Its bricked! Ok, so after rebooting you are no longer able to connect to the FC via USB. This can happen if your configuration file is not correct (USB becomes unallocated) or if you have loaded the incorrect firmware for the processor type. Don't worry: the bootloader can't be bricked, it's in ROM. You can always reload the firmware via the DFU (device firmware update) mode. Most flight controllers have a 'boot' button or pins which are used to enter DFU mode. Generally you can just enter DFU mode by pushing the button or bridging the boot pins as you plug the USB in (while the Rotorflight Configurator is open).    Rotorflight Configurator will display DFU - STM32 BOOTLOADER at the top of the page after a successful DFU connection. Click on the Update Firmware and follow the steps above to re-flash the firmware as required.    If you still having problem connecting to the MCU, install the Impulse-RC Driver Fixer. ","version":"2.0.0","tagName":"h2"},{"title":"Getting Started","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Getting-Started","content":"Getting Started Install the latest RF2 releaseRemap your servos and motors if you are using a Betaflight FC, otherwise, skip this step.Calibrate the Accelerometer.Check you Board alignment setting and adjust if necessary.Connect Receiver to a free UART and select corresponding receiver settings.Select Battery Voltage and Current Source as per you setup, and Set Battery Capacity and Cell Count.Select ESC Throttle protocol, and Optional: ESC Telemetry protocol, Set Gear Ratios, and Motor Pole Count.Optional: Select and Setup the Governor.Setup Servos.Setup and Calibrate the Mixer.Setup the Gyro RPM Filters.Set the Rates as per flying style.Set the PID Values.Setup ARMING, and other required modes.Setup Profile Switching and other Adjustments if required.Setup BLACKBOX Logging.Optional: Setup LUA Script on radio.","keywords":"","version":"2.0.0"},{"title":"GPS","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Gps","content":"GPS To Do","keywords":"","version":"2.0.0"},{"title":"Mixer","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Mixer","content":"","keywords":"","version":"2.0.0"},{"title":"Main Rotor Settings​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#main-rotor-settings","content":" Swashplate type​  Choose the swash type that suits your helicopter.    Rotor direction​  Choose the direction of rotation for the main rotor. This is looking down from on the top of the rotor.  Elevator Control direction​  With the helicopter servos powered, tilt the heli forward (pitch down). The swash should now pitch up towards the tail of the helicopter. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Aileron Control direction​  Roll the heli to the right (right Aileron). The swash should pitch towards the left. If this is not the case, change the control direction from [NORMAL] to [REVERSE].  Collective Control direction​  Push the collective stick forward (Increasing collective). The swash should now rise up towards the rotor head (to increase collective). If the swash goes down change the control direction from [NORMAL] to [REVERSE].  ","version":"2.0.0","tagName":"h3"},{"title":"Swashplate Link Trims​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#swashplate-link-trims","content":"   Ideally the swashplate should be set with all 3 Collective servos at 90 deg while the blade angle is at 0 degrees. Some helicopters have fixed length swash links which means in order to get 0 degrees for blade centre the servo arms need to be raised or lowered. Use these link trims to provide that function.  For helicopters with adjustable swash links this should remain at 0 and the links adjusted to get a 0 degree blade angle.  ","version":"2.0.0","tagName":"h2"},{"title":"Main Rotor Geometry​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#main-rotor-geometry","content":"   Cyclic and Collective calibration​  These settings are used to calibrate the mixer so that the blade angle matches the commanded angle for both the cyclic and collective. See the calibration procedure for details.  Collective geometry correction​  Adjust until the collective positive and negative deflections are equal.  Collective blade pitch limit​  Ideally, one should use this option to set the maximum allowed collective blade pitch. Therefore, if the person wants to change the collective pitch down the line, they should be able to adjust in the &quot;rates&quot; page confidently without worrying about servos binding. Practically, for most 3D helicopters, this is set to the maximum collective you will ever need (15-16deg) if the helicopter is physically capable of doing it  Cyclic blade pitch limit​  This is NOT the same as the cyclic calibration on other FBLs (it's NOT the 8 deg cyclic on vbar for example)This is designed to let the FBL know how much cyclic travel the helicopter is PHYSICALLY capable ofUsually adjust it so that around zero collective there is no physical interference anywhere. You might want to temporally increase the I gains (to around 200) on cyclic and move the cyclic stick to find the limits. MAKE SURE TO TURN THEM BACKSome 550+ size helicopter might be able to achieve 16+ degree of cyclic pitch, you could set it to the absolutely maximum but it is advised to limit around 16degree since practically it should never hit that much cyclic.  Total blade pitch limit​  This is probably the most difficult limit to understand and setup properlyTo find the total blade pitch limit, make sure the collective blade pitch limit and cyclic blade pitch limit are set up correctly. You might want to use the I-gain trick mentioned aboveSet the collective pitch to max, then move the cyclic. Increase the limit until either there is a physical limit or the fish-eye bearing (the ball) in the center of the swash drops at the max cyclic due to one servo reaching its limit.Repeat at lowest collective pitchYou could also increase cyclic servo travels to gain more total blade pitch. However, nothing should be interferingDouble check that theres NO binding or interference at ANY combination of collective and cyclic in their whole range.Make sure to turn the I-gains back to default in the end if the I-gain trick is used.  Swashplate phase angle​  Usually set it per manufacture recommendation. One could consider if theres bobbling that could not be resolved from changing the cross coupling gains or it is known that the rotor head design requires a non-zero phase angle.  ","version":"2.0.0","tagName":"h2"},{"title":"Tail Rotor Settings​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#tail-rotor-settings","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Tail rotor type​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#tail-rotor-type","content":" Variable Pitch​  This is a variable pitch tail controlled by a servo (Servo#4).  Motorized​  The tail has separate motor(M2) for controlling the yaw.  Bidirectional​  Motorized tail operating in bi-directional mode.  ","version":"2.0.0","tagName":"h3"},{"title":"Yaw Control Direction​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#yaw-control-direction","content":" With the helicopter tail servo powered, move Rudder stick to the right. The tail slider should move to the inside (toward the tail case). If this is not the case, change the control direction from [NORMAL] to [REVERSE].  ","version":"2.0.0","tagName":"h3"},{"title":"Center Trim For Tail Rotor [°]​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#center-trim-for-tail-rotor-","content":" Set tail rotor trim for zero yaw command.  ","version":"2.0.0","tagName":"h3"},{"title":"Calibrating The mixer​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#calibrating-the-mixer","content":" note The purpose of the mixer calibration is to set the helicopters physical blade angle to the angle commanded by the FC  ","version":"2.0.0","tagName":"h2"},{"title":"Mixer override​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#mixer-override","content":" Set the mixer override at the bottom of the pages to ON. This will open the override window.    ","version":"2.0.0","tagName":"h3"},{"title":"Collective Calibration​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#collective-calibration","content":" Confirm with a blade pitch tool that with collective mixer at 0 deg the blades are also at 0 deg.Set the collective mixer override to 9 deg. Measure the blade angle.If the Blade angle is different from the Override angle, increase or decrease Collective Calibration % until the bade angle matches.Set collective back to 0 deg.  ","version":"2.0.0","tagName":"h3"},{"title":"Cyclic Calibration​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#cyclic-calibration","content":" Set the pitch override to 9 deg.Measure the blade pitchIncrease or decrease the Cyclic Calibration %  ","version":"2.0.0","tagName":"h3"},{"title":"Variable Pitch Yaw Calibration​","type":1,"pageTitle":"Mixer","url":"/docs/Tutorial-Setup/Mixer#variable-pitch-yaw-calibration","content":" Set YAW override to 0 deg.Adjust the push rod length so that the rear tail L arm is 90°.If this does not give 0° blade pitch, adjust Center trim until you have 0° blade pitch.Set mixer yaw override to 30deg CW/CCW, adjust Yaw Calibration % until you have around 30deg both ways.Set mixer yaw override to 60deg CW/CCW, adjust CW / CCW limits to the maximum number that does not causing binding.  note The calibration and CW / CCW limits vs. blade pitch is never perfect, because of the geometry assymmetry. It does not matter.The reason for doing the calibration is to make the PID defaults better. Without the calibration, all defaults in PID Profile are probably wrong.The Centre trim is mostly needed for making the CW/CCW limit numbers to match the blade angles. It also helps the feedforwards to work correctly. ","version":"2.0.0","tagName":"h3"},{"title":"Governor","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Governor","content":"","keywords":"","version":"2.0.0"},{"title":"Governor Mode​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#governor-mode","content":" The governor has multiple operating modes, each using a slightly different method for the throttle control in the PID loop. Select a mode from one of the values below.    ","version":"2.0.0","tagName":"h2"},{"title":"OFF​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#off","content":" The governor is disabled, and the stabilized throttle output ST is taken from the receiver throttle channel.  ","version":"2.0.0","tagName":"h3"},{"title":"PASSTHROUGH​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#passthrough","content":" The governor does not control the headspeed, but provides all the aux functions, like slow spool up, autorotation bailout, and error recovery. In the active state, the receiver throttle channel is directly passed through to the stabilized throttle output ST.  ","version":"2.0.0","tagName":"h3"},{"title":"STANDARD​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#standard","content":" The governor is stabilizing the headspeed with a standard PID control, similar to most ESCs. All aux functions are also active.  ","version":"2.0.0","tagName":"h3"},{"title":"MODE1​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#mode1","content":" Like STANDARD, but with collective/cyclic precompensation. This is similar to governors in most FBL systems.  ","version":"2.0.0","tagName":"h3"},{"title":"MODE2​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#mode2","content":" Like MODE1, but with battery voltage compensation. The PID loop does not need to react to battery voltage fluctuations, as it is taken into account outside the PID loop. This is usually the best choice. Can be used only if the battery voltage is connected to the FC.  ","version":"2.0.0","tagName":"h3"},{"title":"Governor Basic Settings​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#governor-basic-settings","content":"   In order to use the governor you must first configure the ESC/Motor features. This defines the motor telemetry (for RPM feedback) and gear ratios for your helicopter which lets the flight controller know how fast the rotor is spinning.  ","version":"2.0.0","tagName":"h2"},{"title":"Handover throttle​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#handover-throttle","content":" The throttle level above which the governor is activated. Below this level the input throttle is passed to the ESC, above this level the governor is enabled and the input throttle is used for calculating the target headspeed. The motor must be able to start below this throttle level.  ","version":"2.0.0","tagName":"h3"},{"title":"Startup time​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#startup-time","content":" startup time is applied before the RPM is detected. Some ESCs require really slow startup ramp to be gentle. Some other ESCs need really rapid start for starting at all.  ","version":"2.0.0","tagName":"h3"},{"title":"Spoolup time​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#spoolup-time","content":" This is an acceleration limit (in seconds) used for spooling up (After a valid rpm signal has been detected). It sets the acceleration limit that is equivalent to total time for spooling up from zero to full headspeed. For example, with a value of 10 and full headspeed of 3000rpm, the main rotor would take 10s to reach 3000rpm.  ","version":"2.0.0","tagName":"h3"},{"title":"Tracking time​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#tracking-time","content":" Acceleration limit (in seconds) for normal operation. This occurs when the requested headspeed command changes while the governor is in the active state. This parameter limits the rpm change speed (acceleration). For example, when set to a value of 10 (which is 10s to ramp 0-100%). If hovering in Normal mode at 1500rpm (50% throttle) and then switching to Idl3 of 3000rpm (100% throttle) the Governor would ramp over 5s. Typical value is 5..20.  ","version":"2.0.0","tagName":"h3"},{"title":"Recovery time​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#recovery-time","content":" Acceleration limit (in seconds) for error recovery. When the governor is recovering from lost headspeed or lost throttle signal, this is the max acceleration for the following (faster) spoolup.  ","version":"2.0.0","tagName":"h3"},{"title":"Autorotation bailout time​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#autorotation-bailout-time","content":" Acceleration limit (in seconds) for autorotation bailout. When the governor is spooling up from autorotation, it is limiting the spoolup speed with this parameter.  ","version":"2.0.0","tagName":"h3"},{"title":"Autorotation timeout​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#autorotation-timeout","content":" In the autorotation state, if high throttle returns before this timeout expires, the spoolup is done with bailout acceleration. After the expiration, the governor enters the idle state, and any subsequent spoolup is slow.  ","version":"2.0.0","tagName":"h3"},{"title":"Autorotation minimum entry time​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#autorotation-minimum-entry-time","content":" Minimum flight time before Autorotation can be engaged.  ","version":"2.0.0","tagName":"h3"},{"title":"Zero Throttle Timeout​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#zero-throttle-timeout","content":" When the throttle input (from receiver) goes to zero, the governor enters an intermediate state where it is waiting for the throttle to return. If the throttle returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters off state, and any future spoolup will be slow.  note The purpose of this feature is to allow fast spoolup in case the throttle cut (hold) is hit accidentally. If high throttle is returned very soon after, the heli will spool up quickly and hopefully keep on flying. Unit is 0.1s. Typical value is 5..50.  ","version":"2.0.0","tagName":"h3"},{"title":"Headspeed Signal Timeout​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#headspeed-signal-timeout","content":" If the headspeed rpm signal is lost, the governor enters an intermediate state where it is waiting for the rpm signal to return. If the signal returns before this timeout expires, the spoolup is done with the recovery acceleration. If the timeout expires, the governor enters the idle state, and any future spoolup would happen with the default (slow) spoolup acceleration. Unit is 0.1s. Typical value is 5..50.  ","version":"2.0.0","tagName":"h3"},{"title":"Headspeed Filter Cutoff [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#headspeed-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The RPM input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"2.0.0","tagName":"h3"},{"title":"Battery Voltage Filter Cutoff [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#battery-voltage-filter-cutoff-hz","content":" The inputs to the governor must be clean from excess noise. The Battery voltage input is filtered with a BIQUAD filter, with the frequency cutoffs set by these variables.  ","version":"2.0.0","tagName":"h3"},{"title":"TTA Bandwidth [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#tta-bandwidth-hz","content":" Cutoff for the TTA (Torque Tail Assist) lowpass filter.  ","version":"2.0.0","tagName":"h3"},{"title":"Precomp Bandwidth [Hz]​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#precomp-bandwidth-hz","content":" Cutoff for the cyclic/collective precompensation lowpass filter.  ","version":"2.0.0","tagName":"h3"},{"title":"Governor Profiles Settings​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#governor-profiles-settings","content":" These settings are set from the Profiles Tab. If desired, individual Profiles can be configured via the Adjustments Tab. This enables individual flight modes to have separate tuning and configuration set for each flight mode. (similar to 'Bank Switching').    ","version":"2.0.0","tagName":"h2"},{"title":"Full Headspeed​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#full-headspeed","content":" This is the highest headspeed that the governor would ever try to maintain, when the throttle input is at 100%.  ","version":"2.0.0","tagName":"h3"},{"title":"Maximum Throttle​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#maximum-throttle","content":" Maximum output throttle the governor is allowed to use.  ","version":"2.0.0","tagName":"h3"},{"title":"PID Master Gain​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#pid-master-gain","content":" Master gain multiplier  ","version":"2.0.0","tagName":"h3"},{"title":"P-Gain​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#p-gain","content":" Governor Proportional gain  ","version":"2.0.0","tagName":"h3"},{"title":"I-Gain​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#i-gain","content":" Governor Integral gain  ","version":"2.0.0","tagName":"h3"},{"title":"D-Gain​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#d-gain","content":" Governor Derivative gain  ","version":"2.0.0","tagName":"h3"},{"title":"Feedforward-Gain​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#feedforward-gain","content":" Governor Feedforward gain  ","version":"2.0.0","tagName":"h3"},{"title":"Yaw precompensation​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#yaw-precompensation","content":" Yaw precompensation weight. Determines how much yaw is mixed into the feed forward. This helps the governor to maintain the headspeed proactively. Usually 20..100  ","version":"2.0.0","tagName":"h3"},{"title":"Cyclic precompensation​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#cyclic-precompensation","content":" Cyclic precompensation weight. Increasing the cyclic increases load on the rotor and causes it to slow down. This setting determines how much cyclic is mixed into the governor feedforward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"2.0.0","tagName":"h3"},{"title":"Collective precompensation​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#collective-precompensation","content":" Collective precompensation weight. Increasing the collective increases load on the rotor and causes it to slow down. This setting determines how much collective is mixed into the governor feedfoward. This helps the governor maintain the headspeed proactively (i.e. increase power to the motor so it does not slow down). Usually 20..100  ","version":"2.0.0","tagName":"h3"},{"title":"Governor throttle input ranges​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#governor-throttle-input-ranges","content":" With the governor feature activated, the transmitter throttle channel is controlling the governor, rather than the ESC directly.  Depending in which range the throttle value falls into, the governor will function differently.  ","version":"2.0.0","tagName":"h2"},{"title":"THROTTLE < 0%​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#throttle--0","content":" This throttle value indicates throttle hold (throttle cut) condition. It's guaranteed that all motors are stopped immediately. The throttle output from the governor is guaranteed to be zero.  note Make sure your transmitter is sending a value lower than 0% when throttle hold is activated. Throttle hold SHOULD NOT be used for autorotation.  ","version":"2.0.0","tagName":"h3"},{"title":"0% < THROTTLE < 5%​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#0--throttle--5","content":" In this range, the governor is in idle or autorotation state, and the output is zero - the main motor is stopped.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor stopped, use this range!  ","version":"2.0.0","tagName":"h3"},{"title":"5% < THROTTLE < Handover throttle%​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#5--throttle--handover-throttle","content":" In this range, the governor is in idle or autorotation state, and the output is in 0% - H.Thr%, increasing linearly through the range.  note Motorized tail is fully active in this range. If you want to perform autorotation with the main motor running, use this range!  ","version":"2.0.0","tagName":"h3"},{"title":"Handover throttle% < THROTTLE < 100%​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#handover-throttle--throttle--100","content":" In this range, the governor is in active state, and the requested rpm is Handover throttle%..100% of the gov_headspeed.  ","version":"2.0.0","tagName":"h3"},{"title":"Governor State​","type":1,"pageTitle":"Governor","url":"/docs/Tutorial-Setup/Governor#governor-state","content":" The governor internal state can be observed in the blackbox log. It is a good indication on what the governor is trying to do.  OFF The governor is disabled and the throttle output is zero.  IDLE The governor is idle, because the input throttle is in the idle range. The throttle output is as described above - 0..10%.  SPOOLING_UP The input throttle has transitioned from low to high, and the governor is spooling up slowly.  ACTIVE The governor has reached the target headspeed and is actively maintaining it.  LOST_THROTTLE The throttle signal has suddenly dropped from high to low. If the throttle returns quickly, a recovery spoolup is performed. This state is for convenience, when the pilot accidentally hits throttle hold, and then realizes the mistake.  LOST_HEADSPEED The RPM input signal is lost. The governor will wait for a little while for the signal to return, before spooling down. It the signal returns quickly, a recovery spoolup is performed.  RECOVERY The governor is performing a recovery spoolup after one of the conditions above.  AUTOROTATION The throttle has dropped from high to the autorotation range. The governor is expecting the throttle to return once the autorotation has been performed. Once the throttle return, the governor moves to the state below.  AUTOROTATION_BAILOUT Throttle has returned while in AutoRotation state, and the governor is performing an autorotation bailout. ","version":"2.0.0","tagName":"h2"},{"title":"Lua Scripts","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/LUA-Scripts","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction​","type":1,"pageTitle":"Lua Scripts","url":"/docs/Tutorial-Setup/LUA-Scripts#introduction","content":" You can adjust a variety of settings using only your transmitter with the Rotorflight Lua scripts. They allow you to change things like PIDs, rates, filters, failsafe and governed headspeed on the field. Prerequisites:  OpenTX 2.3.12, EdgeTX 2.5.0 or newer or Ethos 1.4 or newer on the transmitter and: an FrSky SmartPort or F.Port receiver.or a CRSF v2.11 or newer receiver.or an ELRS 2.0.1 or newer receiver.  Examples:  TX16S with a FrSky X4R using the FrSkyX2 protocol.Frsky Ethos Radio (X20, X18, X14 etc) with either SPORT,FPORT receiver or ELRS with an external module.Taranis X9D with a TBS Crossfire TX/RX module.Taranis QX7 and a FrSky R-XSR, using the FrSky D16 protocol (as long as you don't use the ACCST D16 2.1.1 LBT firmware on the R-XSR, because this firmware has telemetry bugs).TX16S with an ELRS 2.0.1 module and receiver.  If you're not using F.Port, start up the Rotorflight Configurator, go to the Configuration tab and enable the TELEMETRY feature. F.Port telemetry does work without enabling this feature.  If telemetry is working properly on your system, the Lua scripts should work as well.  ","version":"2.0.0","tagName":"h2"},{"title":"Installation​","type":1,"pageTitle":"Lua Scripts","url":"/docs/Tutorial-Setup/LUA-Scripts#installation","content":" Download the latest release and copy the contents of the SCRIPTS folder to your transmitter. See also the readme.  and copy the contents of the SCRIPTS folder to your transmitter.  You will know if you did this correctly if the rf2.lua file shows up in the /SCRIPTS/TOOLS directory. Also Rotorflight 2 should now show up in the Tools menu of your transmitter.  ","version":"2.0.0","tagName":"h2"},{"title":"Usage​","type":1,"pageTitle":"Lua Scripts","url":"/docs/Tutorial-Setup/LUA-Scripts#usage","content":" On your transmitter, go to the Tools menu of your transmitter and select Rotorflight 2.    The first time you do this all scripts will be compiled and the Tools menu will be displayed again. Select Rotorflight conf again. Now the script will wait for a connection with the receiver.    Power up the receiver. The script will retrieve the API version used by Rotorflight and the device ID of the flight controller. After this you will see the main menu.    Here you can select what you want to change. For example, select PIDs.    Now you can change the values of your PIDs. If you want to save your changes, long press the wheel/roller. The Page menu should now pop up. Select Save page to send your changes to the flight controller. Or press Exit to exit the Page menu.    There's quite a lot of settings you can adjust on the field. Here's an overview of all the pages:    Feel free to have a look at any page. As long as you don't select Save page, nothing will be changed.  ","version":"2.0.0","tagName":"h2"},{"title":"Background script​","type":1,"pageTitle":"Lua Scripts","url":"/docs/Tutorial-Setup/LUA-Scripts#background-script","content":" This optional background script offers RTC synchronization and RSSI through MSP.  RTC synchronization will send the time of the transmitter to the flight controller. The script will beep if RTC synchronization has been completed.  Blackbox logs and files created by the FC will now have the correct timestamp.  The background script can be setup as a special or global function in EdgeTX.  The image below shows how to configure the background script as a special function.  By doing this, the script will automatically run as soon as the model is selected.     ","version":"2.0.0","tagName":"h2"},{"title":"Power","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Power","content":"","keywords":"","version":"2.0.0"},{"title":"Power State​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#power-state","content":" Connected - Yes/No, if Yes, also shows cell countVoltage - Voltage of the batteryCurrent - Current drawmAh Used - Capacity used in mAhCharge Level - Battery charge percentage  ","version":"2.0.0","tagName":"h2"},{"title":"Battery​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#battery","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Battery Voltage Source​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#battery-voltage-source","content":" Select the source for the voltage measurements  None - No voltage measurements will be availableBattery ADC - Use the ADC on the flight controller to get the voltage measurementsESC Telemetry - Use the ESC telemetry to get the voltage measurements  ","version":"2.0.0","tagName":"h3"},{"title":"Battery Current Source​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#battery-current-source","content":" Select the source for the current measurements  None - No current measurements will be availableBattery ADC - Use the ADC on the flight controller to get the current measurementsESC Sensor - Use the ESC telemetry to get the current measurements  ","version":"2.0.0","tagName":"h3"},{"title":"Modes","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Modes","content":"","keywords":"","version":"2.0.0"},{"title":"ARM​","type":1,"pageTitle":"Modes","url":"/docs/Tutorial-Setup/Modes#arm","content":" ELRS If using an ELRS receiver you must configure the ARM switch to AUX1 (1000 = Disarmed, 2000 = Armed). This channel is sent every cycle. Please see the ELRS switch config documentation  ARM &amp; throttle hold ARM and throttle hold are not the same. Do not configure the ARM and throttle hold on the same channel. The Flight controller needs to see minimum throttle before it can arm and if they are both on the same channel it will fail the minimum throttle check and will not ARM.    All flight controllers need to be ARMED before the motors are able to spool up. Once the Arming mode is configured (as shown above) the flight controller can be Armed ready for flight. If the flight controller detects an unsafe condition Arming will be disabled. If this occurs you can look at the Arming flag status on the Status Tab to identify what is preventing Arming being enabled.    You can find out a description of these flags from the List of Arming prevention flags  This function can also provide the ability to prevent arming of the heli unless the correct model has been selected on your transmitter (if your RX does not have this functionality). This is done by adjusting the endpoint of your AUX channel to a different value for each model and setting the ARM range to enable the FC only for that model.  ","version":"2.0.0","tagName":"h2"},{"title":"RESCUE​","type":1,"pageTitle":"Modes","url":"/docs/Tutorial-Setup/Modes#rescue","content":" Enable Rescue mode from the tabs. Allocate the AUX channel and range to suit.    info The purpose of the rescue mode is to arrest any decent, then put the helicopter at a safe altitude in a stable attitude. It does this in stages. Immediately levels in current orientation (upright or inverted)Applies a pull up collective to rapidly stop any decentApplies a climb Collective to gain some heightif it is still inverted (and the flip toggle enabled) it will flip to upright.Hover collective is now applied.  After enabling Rescue mode configure the rescue settings from the Profiles Tab.  ","version":"2.0.0","tagName":"h2"},{"title":"6G flight modes​","type":1,"pageTitle":"Modes","url":"/docs/Tutorial-Setup/Modes#6g-flight-modes","content":" There are 3 types of self leveling stabilization modes available in Rotorflight. 6G modes (unlike the normal Acro) will auto level when the transmitter sticks are released. These modes make the heli fly more like a drone.  ","version":"2.0.0","tagName":"h2"},{"title":"ANGLE​","type":1,"pageTitle":"Modes","url":"/docs/Tutorial-Setup/Modes#angle","content":" Angle mode provides similar functionality to Horizon mode with the addition of limiting the helicopter attitude to the angle specified.  ","version":"2.0.0","tagName":"h3"},{"title":"HORIZON​","type":1,"pageTitle":"Modes","url":"/docs/Tutorial-Setup/Modes#horizon","content":" Horizon mode provides attitude stabilization which will level the helicopter when the transmitter sticks are let go. Constant stick input is required to keep the helicopter moving.  ","version":"2.0.0","tagName":"h3"},{"title":"TRAINER​","type":1,"pageTitle":"Modes","url":"/docs/Tutorial-Setup/Modes#trainer","content":" Acro trainer mode does not provide self leveling of the helicopter. It does however limit the angle the helicopter can reach.  Enable ANGLE/HORIZON/TRAINER modes from the tabs. Allocate the AUX channel and range to suit.    In the example above AUX3, and AUX6 are each assigned to a separate 3 position switches on the TX.  Horizon mode has been assigned to the AUX3 Range when the middle position of AUX3 switch.Angle mode is assigned to AUX3 at full up position of the AUX3 switch.Nothing is assigned when AUX3 switch fully down. This means the Heli is in Normal or 3D mode.Trainer mode is assigned to AUX6 at full up position of the AUX6 switch.  After enabling 3G modes you can configure their settings from the Profiles Tab.  ","version":"2.0.0","tagName":"h3"},{"title":"BLACKBOX​","type":1,"pageTitle":"Modes","url":"/docs/Tutorial-Setup/Modes#blackbox","content":" When you select Normal logging mode, you need to activate the blackbox switch in the Modes Tab.  Enable Blackbox from the tabs. Allocate an AUX channel and range to suit.    Now in this example the blackbox logging will start when the heli is armed and AUX5 is at full up position. ","version":"2.0.0","tagName":"h2"},{"title":"Min/Max/Warning Cell Voltage​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#minmaxwarning-cell-voltage","content":" Minimum Cell Voltage - The voltage that is considered critically low, and will trigger the corresponding warnings Maximum Cell Voltage - The voltage of a fully charged Cell Warning Cell Voltage - The voltage that is considered low, and will trigger the corresponding warnings  danger The warning voltage should be set to a value where you can still land safely, usually 3.6-3.5V. The minimum voltage should be set to a value where damage is imminent, usually 3.3V. If you fly a battery to less than 3.3V, it will start to be damaged and will not be able to hold a charge anymore, and can even be dangerous.  ","version":"2.0.0","tagName":"h3"},{"title":"Capacity​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#capacity","content":" The capacity of the battery in mAh. This is used to calculate the remaining battery capacity in percent.  ","version":"2.0.0","tagName":"h3"},{"title":"Cell Count​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#cell-count","content":" Force cell count to avoid confusion between full 11S and flat 12S for example.  ","version":"2.0.0","tagName":"h3"},{"title":"Voltage Meters​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#voltage-meters","content":" Settings for the voltage meter to measure the battery voltage correctly.  ","version":"2.0.0","tagName":"h2"},{"title":"Battery​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#battery-1","content":" Main Pack voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"BEC​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#bec","content":" Servo Bus voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"5V​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#5v","content":" VBus voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"EXT​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#ext","content":" External voltage input voltage.  ","version":"2.0.0","tagName":"h3"},{"title":"MCU​","type":1,"pageTitle":"Power","url":"/docs/Tutorial-Setup/Power#mcu","content":" MCU voltage.  Scale​  The scale of the voltage meter. This is used to calculate the correct voltage from the ADC value. If the battery voltage is not displayed correctly, you can adjust this value up/down to fix it  Divider / Multiplier Value​  This defines how the value read by the ICs ADC converts into a voltage value that makes sense to the pilot. In easy terms this sets how the ratio difference between the two voltage divider resistors are used in the voltage calculation formula.  Example:​  Scale: 110 = 10:1 voltage divider (10k:1k ohm resistors) Divider: 10 = sets the direct resistor to resistor ratio Multiplier: 1 = this is to fine tune the outcome of the calculation, a value of 1 is &quot;no correction&quot;. ","version":"2.0.0","tagName":"h3"},{"title":"Rates","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Rates","content":"","keywords":"","version":"2.0.0"},{"title":"Understanding Actual Rates​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#understanding-actual-rates","content":" “Actual Rates” are the default rates in Rotorflight, providing a straightforward approach to setting maximum rotational velocity (e.g., entering 1000 corresponds to 1000deg/sec) and center sensitivity values.  There are 3 values in Actual Rates: Center Sensitivity, Max Rate, Expo.    ","version":"2.0.0","tagName":"h2"},{"title":"Center Sensitivity​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#center-sensitivity","content":" Center Sensitivity relates to the responsiveness around the center stick position. A lower value offers finer, smoother control, while a higher value results in a more reactive heli to stick movement.  ","version":"2.0.0","tagName":"h3"},{"title":"Max Rate​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#max-rate","content":" Max Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  However, keep in mind that the maximum angular velocity can be limited by your heli mechanics. When the heli reaches its physical limitation and cannot flip any faster, the maximum angular velocity is capped, regardless of the higher value set in Rotorflight.  ","version":"2.0.0","tagName":"h3"},{"title":"Expo​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#expo","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo. Keep in mind that increasing Expo also reduces center sensitivity.  While Expo can be as high as 1.0, excessive Expo might cause decreased center stick sensitivity and make the heli’s response more unpredictable towards full stick (more jumpy).  ","version":"2.0.0","tagName":"h3"},{"title":"Understanding Raceflight Rates​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#understanding-raceflight-rates","content":" Actual Rates can be a little bit tricky for someone that does not have Betaflight knowledge and experience. So if you are coming from a different FBL system then Raceflight Rates might make more sense for you.  There are 3 values in Raceflight Rates: Rate, Acro+, Expo.    ","version":"2.0.0","tagName":"h2"},{"title":"Rate​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#rate","content":" Rate defines the heli's rotation speed at full stick deflection. The value entered represents the exact maximum rotational velocity. For example, entering 300 means your heli will attempt to rotate at 300 degrees/sec at full stick.  ","version":"2.0.0","tagName":"h3"},{"title":"Acro+​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#acro","content":" For the sake of simplicity, always keep Acro+ at 0.  ","version":"2.0.0","tagName":"h3"},{"title":"Expo​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#expo-1","content":" Expo flattens the curve between center stick and full stick. To achieve a more linear rate, keep Expo low. For a broader center stick region with finer control, increase Expo.  While Expo can be as high as 100, excessive Expo might cause decreased center stick sensitivity and make the heli’s response more unpredictable towards full stick (more jumpy).  ","version":"2.0.0","tagName":"h3"},{"title":"Dynamics​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#dynamics","content":"   Response Time - corresponds the smoothness of the reaction to stick inputs, also called time constant of the input filter.  note High response times smooths out the input but too high could cause significant input delay.  Max Acceleration - is the input acceleration limiter. Zero represents off. Low value reduces the load on the machine and could be desired for scale flying, not useful for 3D normally.  ","version":"2.0.0","tagName":"h2"},{"title":"Copy Rate Profile​","type":1,"pageTitle":"Rates","url":"/docs/Tutorial-Setup/Rates#copy-rate-profile","content":" You can use the Copy rateprofile button at the upper right corner to copy the values of the current profile to another one. ","version":"2.0.0","tagName":"h2"},{"title":"Motor and ESC","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Motor-and-Esc","content":"","keywords":"","version":"2.0.0"},{"title":"ESC/Motor Features​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#escmotor-features","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"ESC Throttle Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#esc-throttle-protocol","content":" Set the ESC protocol required for your ESC under ESC/Motor protocol. Usually this would be PWM or DSHOT300.    ","version":"2.0.0","tagName":"h3"},{"title":"ESC Telemetry Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#esc-telemetry-protocol","content":" Set the ESC Telemetry protocol if your esc supports it.    note A correct RPM measurment is crucial to the operation of RPM_FILTER and GOVERNOR features, therefore ensure that you have a correct RPM measurment setup. The FC also needs to know the RPM of the main rotor, and the tail rotor. For this you have to exactly specify the Motor pole count and the Gear ratios. With this info, the FC can calculate the: Main motor RPM = eRPM / (motor pole count / 2)Main rotor RPM = Main motor RPM / ( main gear tooth count / main motor pinion tooth count )  ","version":"2.0.0","tagName":"h3"},{"title":"PWM Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#pwm-protocol","content":" Most RC helicopter ESCs manufacturers (e.g. Hobbywing, YGE, Scorpion ,or Castle) use PWM, an analog protocol.    RPM Sensor: Activate the RPM Sensor input for motor RPM, you can connect an RPM signal from the ESC, or from an external RPM sensor device.  ESC Update Frequency: the PWM update frequency for your ESC. Usually between 50-400Hz.  Disarm Throttle PWM value: the value that is sent to the ESC when the craft is disarmed. It should stop the motors. Usually 1000µs.  0% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at 0% throttle. Usually 1070µs.  100% Throttle PWM value: the value that is sent to the ESC when the craft is armed and at full throttle. Usually 2000µs.  ","version":"2.0.0","tagName":"h3"},{"title":"DSHOT Protocol​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#dshot-protocol","content":" Most drone ESCs support DSHOT, a digital protocol.    If you use DSHOT, use either DSHOT150 or DSHOT300. DSHOT600 is not recommended. Also make sure that the main motor isn't actively being braked by the ESC, especially if you don't have a one way bearing on the main shaft.  BLHeli_32: set Non Damped Mode to On on the main motor ESCBluejay: set Maximum Breaking Strength to 0  DShot RPM Telemetry​  This switch is only visible when the ESC/Motor protocol is DSHOTxxx. It enables motor eRPM telemetry on supported ESCs via bidirectional DSHOT and can be used to facilitate the GOVERNOR and/or RPM_FILTER features. If you use bidirectional DSHOT you don't have to use a frequency sensor for obtaining the eRPM of the motor(s).  ","version":"2.0.0","tagName":"h3"},{"title":"Gear Ratio Configuration​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#gear-ratio-configuration","content":"   Enter the number of teeth for the main rotor gearing [Teeth on Pinion gear]/[Teeth on Main Gear]. For a direct drive Main rotor this is just set to 1 / 1.  Enter the number of teeth for the Tail rotor gearing [Teeth on Tail gear]/[Teeth on Autorotation Gear]. For a direct drive tail this is just set to 1 / 1.  tip If the gear tooth count is not known, you can approximate the gear ratio instead. For example if the main gear ratio is 11.8 then you set [Teeth on Pinion gear =10]/[Teeth on Main Gear =118]. Similarly if the tail gear ratio is 4.8 then you set [Teeth on Tail gear =10]/[Teeth on Autorotation Gear =48]. note that counting the gear tooth is preferable because an accurate gear ratio is essential to the operation of the RPM Filters.  note For Helicopters with two-stage reduction, kindly read the Two-Stage Gear Train WalkTrough  ","version":"2.0.0","tagName":"h3"},{"title":"Motor Pole Count​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#motor-pole-count","content":" Determine the number of magnetic poles for each motor. Count the number of magnets on the motors rotor. In the example below the magnets (circled) are fixed to the outer bell which in total has 14. This allows the flight controller to know how many electrical phase rotations are required to complete one physical motor revolution.      ","version":"2.0.0","tagName":"h3"},{"title":"Governor Features​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#governor-features","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Motor Override​","type":1,"pageTitle":"Motor and ESC","url":"/docs/Tutorial-Setup/Motor-and-Esc#motor-override","content":" Motor Override functionality is provided to test the operation of each motor directly. This functionality will make the motors spool up. Do this WITHOUT the main or tail rotors fitted!    Throttle - This is the command being sent from the flight controller to the ESC.  RPM - The measured RPM telemetry feedback. As the motor spins this should read a value related to the current speed.  Errors (only with DSHOT) - This shows the status of the RPM telemetry signal. This should be 0%.  Slider If you use the slider, make sure you release the mouse button. Nothing changes as long as you hold the mouse button down!  BLHeliSuite32 The Test motors function in BLHeliSuite32 doesn't work when using Rotorflight. It will give an error like 'Initialization of Motor Test Mode failed! Please check current Unknown rev 4.3.0 support for this application function!'. ","version":"2.0.0","tagName":"h2"},{"title":"Profiles","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Profiles","content":"","keywords":"","version":"2.0.0"},{"title":"Main Tuning Parameters​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#main-tuning-parameters","content":" ","version":"2.0.0","tagName":"h2"},{"title":"PID Controller Gains​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#pid-controller-gains","content":"   Proportional​  The gain factor that is proportional to the rate error. High proportional gain increase response speed of the helicopter. Low proportional gain results in overall slow system response. Too high results in fast oscillation (~20hz). It also helps reduce the slow oscillation due to high Integral gain.  Integral​  The gain factor that is proportional to the accumulated error. Low integral gain results in drift when hovering, and uneven roll or flip rate during continuous roll / flips. It also results in the helicopter not &quot;wanting&quot; to finish maneuvers. Integral too high results in slow oscillation (1-3hz) during cyclic input stops and/or during high disturbance scenarios such as stops of (piro) pitch pumps and tick-tock stops.  Derivative​  The gain factor proportional to the change of error. It is responsible for &quot;dampening&quot; the overshoot caused by proportional gain. The Derivative gain is particularly sensitive to noise. Ideally, high derivative gain dampens the system too much results in slow response. However, in practice, noise-induced fast oscillation would occur first. Too low results in fast oscillation during stops due to high proportional gain.  Feedforward​  The gain factor proportional to the input. In practice, feedforward gain is used to eliminate I-term windup, which occurs after continuous flips and rolls. If the helicopter does not stop immediately and continue moving in the rolling / flipping direction, feedforward gain needs to be increased. If FF gain is set to be too high, the helicopter may overshoot during such maneuver. Thus it is advised to start tuning from low.  Boost​  The setpoint boost - or B-term will increase the stick reaction speed. In case the heli is not reacting fast enough, the reaction can be boosted with this new B-gain on each axis separately. This seems to be in the range of 20..50  This provides a rapid short term increase in your command. This parameter is used in conjunction with the time B-Cutoff.  ","version":"2.0.0","tagName":"h3"},{"title":"Advanced Settings​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#advanced-settings","content":" ","version":"2.0.0","tagName":"h2"},{"title":"PID Controller Settings​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#pid-controller-settings","content":"   Error Rotation​  If turned on, the I-term can transfer between pitch and roll axis during pirouetting. Increase the performance of overall piro related maneuvers. This is sometimes referred to as Piro compensation.  Ground Error Decay​  A safety feature. This is to prevent the helicopter from tilting during takeoff.  I-term Relax Type​  The axis that I-term relax is applied to. Generally this is Roll, Pitch and Yaw (RPY)  I-term Relax Cutoff Points​  The I-term relax corresponds to the speed of control input for a given axis. When the control input exceed a certain speed, I-term would stop charging. This partially solved the slow overshoot at cyclic input stops due to I-gain charging at fast stick input. The cutoff value corresponds to the input FREQUENCY. A lower value gives more I-term relax, and a higher value provides less I-term relax. It is advised to start high and decrease until bounce back disappears.  Error Limits​  The limit of how much I-term can be charged. During normal flights, it would not reach this limit. (More info needed)  ","version":"2.0.0","tagName":"h3"},{"title":"Offset Limit/Gain​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#offset-limitgain","content":" The offset gains are used for the High Speed Integral feature.  note Offset feature is still being tested. It is currently only available if PID mode is set to 3 from the CLI set pid_mode = 3     Offset Limits​  This is a hard limit for the offset angle in the PID loop. The absolute offset and thus the O-term will never go above these limits.  Offset Gains​  Gain for offset term,(Integral for high speed flight).  ","version":"2.0.0","tagName":"h3"},{"title":"Main Rotor Settings​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#main-rotor-settings","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Collective To Pitch Feedforward Gain​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#collective-to-pitch-feedforward-gain","content":" The pre-compensation for pitch axis when collective is high. Since there is drag-induced pitching motion (there is more drag on the tail thus the helicopter would want to have nose-up tendency when climbing), increasing this gain would compensate that. High gain push the nose down during climb ups. However, it is also advised to select a relatively low value to be conservative.  ","version":"2.0.0","tagName":"h3"},{"title":"Cyclic Cross Coupling​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#cyclic-cross-coupling","content":" Cyclic cross coupling compensation removes the aileron wobble when only elevator is applied.  Cross-Coupling Gain​  Amount of compensation applied for Pitch-to-Roll decoupling.  Cross-Coupling Ratio​  Amount of Roll-to-Pitch compensation needed, vs. Pitch-to-Roll.  Cross-Coupling Cutoff Frequency​  Frequency limit for the compensation, higher value will make the compensation action faster.  ","version":"2.0.0","tagName":"h3"},{"title":"Tail Rotor Settings​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#tail-rotor-settings","content":"   CW/CCW Stop Gain​  The increase of yaw (what) gain during stops. Higher gain results in crisper stops. Too high may cause fast oscillations.  Cyclic Feedforward Gain​  Since cyclic input creates more torque on the main rotor, this gain aims to pre-compensate the tail motion due to cyclic inputs. a high cyclic value results CW motion on tail when starting pitching/rolling, a low value results CCW motion. (for CW main rotor)  Collective Feedforward Gain​  The pre-compensation due to the increase of collective pitch. It is advised to tune it based on the immediate response after a the beginning of a climb up. Higher gain results in CW response, lower gain results in CCW response. It is advised to use a lower value since it may affect tail performance during other maneuvers.  Collective Impulse Feedforward Gain​  The pre-compensation due to the sudden change of collective. Ideally it is designed to clean up any tail movement in small pitch pumps, however, the compensation is generally overcompensating. Thus it is suggested to turn it off for now.  Collective Impulse Feedforward Decay Time​  Decay time for collective impulse feedforward mixed into yaw.  ","version":"2.0.0","tagName":"h2"},{"title":"PID Controller Bandwidth​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#pid-controller-bandwidth","content":"   Row/Pitch/Yaw Bandwidth​  An extra low pass filter for each axis. It is specifically designed to preserve a weaker filter on the yaw axis to increase tail performance. High value corresponding to weaker filter. Too high may cause wobbles. Too low may cause delay and even instability in the control loop.  Row/Pitch/Yaw D-term cutoff​  An extra first order low pass filter just for the D-gain to further reduce the sensitivity to noise. A high value decreases the effectiveness but may potentially increase the D-gain performance. A low value increase the filter effect but may hinder D-term effectiveness. It is advised to keep it around 20Hz to prevent oscillation.  B-Term Cut-off​  This is controlling how &quot;quick&quot; or &quot;twitchy&quot; the boost is. This works exactly the same as D-cutoff, but on setpoint. It is safe to start with the same cutoffs as used with D. Usually in the range of 10..20. This is used in conjunction with Boost or B-gain  ","version":"2.0.0","tagName":"h2"},{"title":"Auto Leveling Settings​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#auto-leveling-settings","content":"   Acro Trainer gain​  This determines how aggressively the heli tilt back to the maximum angle (if exceeded) while in TRAINER mode.  Acro Trainer angle limit​  This determines the maximum angle the heli can tilt to while in TRAINER mode.  Angle Mode leveling gain​  This determines how aggressively the heli tilt back to level while in ANGLE mode.  Angle Mode maximum angle​  This determines the maximum angle the heli can tilt to while in ANGLE mode.  Horizon Mode leveling gain​  This determines how aggressively the heli tilt back to level while in HORIZON mode.  ","version":"2.0.0","tagName":"h2"},{"title":"Rescue Settings​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#rescue-settings","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Enable Rescue​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#enable-rescue","content":" Enable or disable the rescue mode.  Flip to upright​  Activate flip to upright option when the heli is inverted.  Pull-up Collective​  Values 0.0-100. This is to be set to a level where the helicopter rapidly gains height.  Pull-up Time​  How long pull up collective should be applied. This is usually about 0.3 to 0.5s  Climb Collective​  Values 0.0-100. This is to be set to a level where the helicopter gains height.  Climb Time​  How long Climb collective should be applied. This is usually about 0.5 to 1.5s  Hover Collective​  Increase this value until the heli hovers at a stable altitude  Flip Fail Time​  This is a safety feature. If there is a mechanical issue preventing the helicopter from completing the flip during this time the rescue mode will exit  Exit Time​  This slows the transition from rescue back to normal mode. This is helpful if you have rescued from inverted where your collective may be in the opposite direction. This prevents it from rapidly pitching down.  Leveling Gain​  How strong the helicopter will level. Too low and the helicopter will be sluggish to level. Too high and it will wobble/vibrate.  Flip-to-Upright Gain​  How strong the helicopter will flip to upright.  Max Leveling Rate​  Used to control how fast the helicopter levels. Set this to a value that is achievable by your helicopter. Larger slower helicopters may need this reduced.  Max Leveling Acceleration​  Limit how fast the controller tries to accelerate the helicopter to level or flip. Larger slower helicopters may need this reduced.  ","version":"2.0.0","tagName":"h3"},{"title":"Copy Profile​","type":1,"pageTitle":"Profiles","url":"/docs/Tutorial-Setup/Profiles#copy-profile","content":" You can use the Copy profile button at the upper right corner to copy the values of the current profile to another one. ","version":"2.0.0","tagName":"h2"},{"title":"LED Strip","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/LED-Strip","content":"","keywords":"","version":"2.0.0"},{"title":"LED Strip Profiles​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#led-strip-profiles","content":" The LED strip feature supports 4 LED Strip profiles: RACE, BEACON, STATUS and STATUS_ALT. The selected profile can be changed from the Configurator, CLI, OSD LED strip menu or from an adjustment channel, i.e. switch on your radio. Take note that the adjustment channel from your radio overrides all other LED strip profile selection options.  ","version":"2.0.0","tagName":"h2"},{"title":"STATUS Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#status-profile","content":" The STATUS profile is used to display all the information mentioned below, i.e. warning indications, Larson scanner, positional lights, ACL, etc.  Addressable LEDs can be used to show information from the flight controller system and supports:  Up to 32 LEDs.User definable blink patterns.AUX operated switching between LED profiles.Indicators showing pitch/roll stick positions.Heading/Orientation lights.Flight mode specific color schemes.Low battery warning.GPS state.RSSI level.Battery level.  ","version":"2.0.0","tagName":"h3"},{"title":"STATUS_ALT Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#status_alt-profile","content":" The STATUS_ALT profile works just like the STATUS profile, except for LEDs with the Fade overlay. LEDs with the Fade overlay will use their alternate color when the STATUS_ALT profile is active.  ","version":"2.0.0","tagName":"h3"},{"title":"RACE Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#race-profile","content":" The RACE profile is used to set ALL LEDs to the selected color for racing, i.e. to identify helis based on LED color. The LED color is fixed and no other information is displayed.  ","version":"2.0.0","tagName":"h3"},{"title":"BEACON Profile​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#beacon-profile","content":" The BEACON profile is used to find a lost heli, it flashes all LEDs white once per second. Again in this profile no other information is displayed on the LEDs.  ","version":"2.0.0","tagName":"h3"},{"title":"LED Profile Selection​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#led-profile-selection","content":" OPTION 1: Use the Configurator​  Go to the LED Strip tabSelect the profile under LED Strip Global Settings  OPTION 2: Configure an adjustment range to change the LED strip profile from your radio​  The LED strip profile selection is performed using an adjustment configured via the Adjustments tab. Enable an adjustment by selecting Mapped.Select the AUX channel to be used to change the LED strip profile under Enable channel and set the range to 900-2100usSet the same AUX channel and range under Value channelFor the adjustment select LED Profile Selection and set the range to 1-4.Save Configure the AUX channel on your radio. When this channel is changed the selected LED strip profile will change between RACE, BEACON, STATUS and STATUS_ALT. You should see the LED function change as you do this.  OPTION 3: Use the CLI to select the LED strip profile (i.e. not selecting the LED strip profile with your radio)​  Open the CLI.Type get ledstrip_profile followed by enter to display the currently selected LED strip profile.Type set ledstrip_profile=x where x is the profile STATUS, STATUS_ALT, RACE or BEACON and press enter.Type save followed by enter to save the selected LED strip profile.  OPTION 4: By using the OSD​  Open the OSD menu by yawing left and pitching forward on your radio.Using the pitch stick, move down to the LED Strip menu and roll right to enter the menu.The profile and race color can be configured using the left stick to go back and the right stick to navigate up/down and to change the selected value.Use the left stick to go to the top level menu and select save &amp; reboot to complete.  RACE COLOR: The Race color can be configured using the CLI:​  Open the CLI.Type get ledstrip_race_color followed by enter to display the currently selected race color number.Type set ledstrip_race_color=x where x is the required color.Type save followed by enter to save the race color to be used.  BRIGHTNESS: The overall brightness can be configured using the CLI:​  Open the CLI.Type get ledstrip_brightness followed by enter to display the current brightness.Type set ledstrip_brightness=x where x is the brightness in percentage between 5 and 100.Type save followed by enter to save the brightness level to be used.  ","version":"2.0.0","tagName":"h3"},{"title":"Supported hardware​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#supported-hardware","content":" Up to 32 WS2811/WS2812 LEDs are currently supported.  WS2812 LEDs require an 800khz signal and precise timings and thus requires the use of a dedicated hardware timer.  Note: Not all WS2812 ICs use the same timings, some batches use different timings.  ","version":"2.0.0","tagName":"h2"},{"title":"Tested Hardware​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#tested-hardware","content":" Adafruit NeoPixel Jewel 7 (preliminary testing) Measured current consumption in all white mode ~ 350 mA.Fits well under motors on mini 250 quads. Adafruit NeoPixel Stick (works well) Measured current consumption in all white mode ~ 350 mA. Aliexpress SK6812 RBGWW strip (works well) Alternative Adafruit NeoPixel Stick RGBW  ","version":"2.0.0","tagName":"h3"},{"title":"WS2811 vs WS2812​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#ws2811-vs-ws2812","content":" The WS2811 is a LED driver IC which is connected to an RGB LED. It accepts data in the form of 8 bits each of Red-Green-Blue.  The WS2812 is integrated into the package of a 50:50 LED rather than as a separate device. It accepts data in the form of 8 bits each of Green-Red-Blue.  With the SK6812 also GRBW variants are supported, which have a fourth (white) channel and such provide a much cleaner white color.  It is thus possible, depending on the LED board/strip being used that either Red-Green-Blue or Green-Red-Blue encoding may be required. This may be controlled by setting the following.  set ledstrip_grb_rgb = RGB   or  set ledstrip_grb_rgb = GRB   or  set ledstrip_grb_rgb = GRBW   Then confirm the required setting by simply setting an LED to be green. If it lights up red, you have the wrong setting. Afterwards check if the second LED also lights up red - if not, you might have 4-color SK6812 LEDs and would have to select GRBW.  Combining RGB and GBR(W) LEDs​  If you're using both WS2811 and WS2812/SK6812 LEDs, set ledstrip_grb_rgb to GRB or GRBW. The colors of the WS2811 LEDs will then be incorrect. To correct this, indicate which LEDs use RGB by specifying those LEDs in ledstrip_inverted_format - a 32 bit bitmask. For example, if LED 1 and 4 use RGB, specify 1 + 8 = 9:  set ledstrip_inverted_format = 9   ","version":"2.0.0","tagName":"h3"},{"title":"Connections​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#connections","content":" WS2812 LED strips generally require a single data line, 5V and GND.  WS2812 LEDs on full brightness can consume quite a bit of current. It is recommended to verify the current draw and ensure your supply can cope with the load. It's also possible to power one half of the LEDs from one BEC and the other half from another BEC. Just ensure that the GROUND is the same for all BEC outputs and LEDs.  LED Strip pin should be:  on a separate timerwith DMA enabled  If you have LEDs that are intermittent, flicker or show the wrong colors then drop the VIN to less than 4.7v, e.g. by using an inline diode on the VIN to the LED strip. The problem occurs because of the difference in voltage between the data signal and the power signal. The WS2811 LED's require the data signal (Din) to be between 0.3 * Vin (Max) and 0.7 * VIN (Min) to register valid logic low/high signals. The LED pin on the CPU will always be between 0v to ~3.3v, so the Vin should be 4.7v (3.3v / 0.7 = 4.71v). Some LEDs are more tolerant of this than others.  The datasheet can be found here: WS2812  ","version":"2.0.0","tagName":"h2"},{"title":"Configuration​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#configuration","content":" The LED strip feature can be configured via the Configurator or the CLI.  ","version":"2.0.0","tagName":"h2"},{"title":"Configurator​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#configurator","content":" First enable the LED_STRIP feature in the Configuration tab. The LED Strip tab should now become visible.  Now go to the LED Strip tab and configure the LEDs. First setup how the LEDs are laid out so that you can visualize it later as you configure and so the flight controller knows how many LEDs there are available.  There is a step by step guide on how to use the Configurator to configure the Led Strip feature which was published in 2018 by Oscar Liang.  ","version":"2.0.0","tagName":"h3"},{"title":"CLI​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#cli","content":" Enable the LED_STRIP feature via the cli:  feature LED_STRIP   If you enable LED_STRIP feature and the feature is turned off again after a reboot then check your config does not conflict with other features, as above.  Configure the LEDs using the led command.  The led command takes either zero or two arguments - an zero-based LED number and a sequence which indicates pair of coordinates, direction flags and mode flags and a color.  If used with zero arguments it prints out the LED configuration which can be copied for future reference.  Each LED is configured using the following template: x,y:direction:mode:color:blinkpattern:blinkpause:alternatecolor  x and y are grid coordinates of a 0 based 16x16 grid, north west is 0,0, south east is 15,15direction specifies the directions, since an LED can face in any direction it can have multiple directions. Directions are:  N - NorthE - EastS - SouthW - WestU - UpD - Down  For instance, an LED that faces South-east at a 45 degree downwards angle could be configured as SED.  Note: It is perfectly possible to configure an LED to have all directions NESWUD but probably doesn't make sense.  mode specifies the modes that should be applied an LED. A mode consists of a base function and zero or more overlays.  Each LED has one base function:  C - Color.F - Flight mode &amp; OrientationA - Armed state.R - Ring thrust state.G - GPS state.S - RSSSI level.L - Battery Level.  And each LED can have one ore more overlays:  W - Wwarnings.I - Indicator.T - Thrust state.B - Blink mode.O - LarsOn Scanner (Cylon Effect).V - VTX Frequency.K - FlicKer.D - FaDe.  color specifies the color number (0 based index). This color has a black border in the Configurator.  blinkpattern specifies a 16 bit bitmask which indicates when a LED should blink. Example: two fast blinks would be 5 (binary 101), two slow blinks 3855 (binary 111100001111). The alternatecolor is used for blinking.  blinkpause specifies whether blinking should pause after the blink pattern has been finished. A value of 0 doesn't pause blinking, a value of 3 pauses the blinking for three subsequent rounds.  alternatecolor specifies the color for: a. blinking; b. fading between color and alternatecolor if the LED profile is switched from STATUS to STATUS_ALT. The alternatecolor can be black if you want to turn a light off in in the STATUS_ALT profile. The alternate color has a red border in the Configurator.  Example:  led 0 0,15:SD:AWI:0:0:0:0 led 1 15,0:ND:AWI:0:0:0:0 led 2 0,0:ND:AWI:0:0:0:0 led 3 0,15:SD:AWI:0:0:0:0 led 4 7,7::C:1:0:0:0 led 5 8,8::C:2:0:0:0 led 6 8,9::CB:1:3855:0:2   To erase an LED, and to mark the end of the chain, use 0,0:: as the second argument, like this:  led 4 0,0:::   It is best to erase all LEDs that you do not have connected.  ","version":"2.0.0","tagName":"h3"},{"title":"Modes​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#modes","content":" Note: though this section does apply to Rotorflight, it mainly stems form Betaflight and is thus very quad oriented.  Warning​  This mode simply uses the LEDs to flash when warnings occur.  Warning\tLED Pattern\tNotesArm-lock enabled\tflash between green and off\toccurs during calibration or when unarmed and the aircraft is tilted too much Low Battery\tflash red and off\tbattery monitoring must be enabled. May trigger temporarily under high-throttle due to voltage drop Failsafe\tflash between light blue and yellow\tFailsafe must be enabled  Flash patterns appear in order, so that it's clear which warnings are enabled.  GPS state​  This mode shows the GPS state and satellite count.  No fix = red LED 3D fix = green LED  The LEDs will blink as many times as the satellite count, then pause and start again.  RSSI level​  This mode binds the LED color to RSSI level.  Color\tRSSIGreen\t100% Lime green\t80% Yellow\t60% Orange\t40% Red\t20% Deep pink\t0%  When RSSI is below 50% is reached, LEDs will blink slowly, and they will blink fast when under 20%.  Battery level​  This mode binds the LED color to remaining battery capacity.  Color\tCapacityGreen\t100% Lime green\t80% Yellow\t60% Orange\t40% Red\t20% Deep pink\t0%  When Warning or Critical voltage is reached, LEDs will blink slowly or fast. Note: this mode requires a current sensor. If you don't have the actual device you can set up a virtual current sensor.  Blink​  This overlay makes the LED blink from the current active color to the alternate color. You can set the blink rate using ledstrip_blink_period_ms.  Flicker​  This overlay makes the LED flicker, a bit like a candle. Set the flicker rate using ledstrip_flicker_rate.  Fade to alt color​  A LED with this overlay will fade to the alternate color in the profile STATUS_ALT. Specify Black as the alternate color to turn LEDs off (e.g. for switching off landing lights). You can set the fade rate with ledstrip_fade_rate.  Larson Scanner (Cylon Effect)​  The Larson Scanner replicates the scanning &quot;eye&quot; effect seen on the mechanical Cylons and on Kitt from Knight Rider. This overlay dims all of the LEDs it is assigned to and brightens certain ones at certain times in accordance with the animation. The animation is active regardless of arm state.  VTX Frequency​  This overlay makes the LED color dependent on the current channel of the VTX, in case it is equipped with SmartAudio or IRC Tramp. The color is selected according to the following table:  Frequency range\tDefault color\tColor index&lt; = 5672\tWhite\t1 &gt; 5672 &lt; = 5711\tRed\t2 &gt; 5711 &lt; = 5750\tOrange\t3 &gt; 5750 &lt; = 5789\tYellow\t4 &gt; 5789 &lt; = 5829\tGreen\t6 &gt; 5829 &lt; = 5867\tBlue\t10 &gt; 5867 &lt; = 5906\tDark violet\t11 &gt; 5906\tDeep pink\t13  The default color can be changed by double-clicking the color and moving the Hue slider or by using the color command in the CLI.  Flight Mode &amp; Orientation​  This mode shows the flight mode and orientation.  When flight modes are active then the LEDs are updated to show different colors depending on the mode, placement on the grid and direction.  LEDs are set in a specific order:  LEDs that marked as facing up or down.LEDs that marked as facing west or east AND are on the west or east side of the grid.LEDs that marked as facing north or south AND are on the north or south side of the grid.  That is, south facing LEDs have priority.  The mapping between modes LED placement and colors is currently fixed and cannot be changed.  Indicator​  This mode flashes LEDs that correspond to roll and pitch stick positions. i.e. they indicate the direction the craft is going to turn.  Mode\tDirection\tLED ColorOrientation\tNorth\tWHITE Orientation\tEast\tDARK VIOLET Orientation\tSouth\tRED Orientation\tWest\tDEEP PINK Orientation\tUp\tBLUE Orientation\tDown\tORANGE Head Free\tNorth\tLIME GREEN Head Free\tEast\tDARK VIOLET Head Free\tSouth\tORANGE Head Free\tWest\tDEEP PINK Head Free\tUp\tBLUE Head Free\tDown\tORANGE Horizon\tNorth\tBLUE Horizon\tEast\tDARK VIOLET Horizon\tSouth\tYELLOW Horizon\tWest\tDEEP PINK Horizon\tUp\tBLUE Horizon\tDown\tORANGE Angle\tNorth\tCYAN Angle\tEast\tDARK VIOLET Angle\tSouth\tYELLOW Angle\tWest\tDEEP PINK Angle\tUp\tBLUE Angle\tDown\tORANGE Mag\tNorth\tMINT GREEN Mag\tEast\tDARK VIOLET Mag\tSouth\tORANGE Mag\tWest\tDEEP PINK Mag\tUp\tBLUE Mag\tDown\tORANGE Baro\tNorth\tLIGHT BLUE Baro\tEast\tDARK VIOLET Baro\tSouth\tRED Baro\tWest\tDEEP PINK Baro\tUp\tBLUE Baro\tDown\tORANGE  Armed state​  This mode toggles LEDs between green and blue when disarmed and armed, respectively. If arming is disabled the LED will be set to the background color, which usually is black.  Note: Armed State cannot be used with Flight Mode.  Thrust state​  This mode fades the current LED color to the previous/next color in the HSB color space depending on throttle stick position. When the throttle is in the middle position the color is unaffected, thus it can be mixed with orientation colors to indicate orientation and throttle at the same time. Thrust should normally be combined with Color or Mode/Orientation.  Thrust ring state​  This mode is allows you to use one or multiple LED rings (e.g. NeoPixel ring) for an afterburner effect. LEDs with this mode will light up with their assigned color in a repeating sequence. Assigning the color black to an LED with the ring mode will prevent the LED from lighting up.  A better effect is achieved when LEDs configured for thrust ring have no other functions.  LED direction and X/Y positions are irrelevant for thrust ring LED state. The order of the LEDs that have the state determines how the LED behaves, and the throttle value determines the animation rate. The animation is only active while armed.  Each LED of the ring can be a different color. The color can be selected between the 16 colors available.  For example, LED 0 is set as a Ring thrust state LED in color 13 as follow.  led 0 2,2::R:13   LED strips and rings can be combined.  Solid Color​  The mode allows you to set an LED to be permanently on and set to a specific color.  x,y position and directions are ignored when using this mode.  Other modes will override or combine with the color mode.  For example, to set LED 0 to always use color 10 you would issue this command.  led 0 0,0::C:10   ","version":"2.0.0","tagName":"h3"},{"title":"Colors​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#colors","content":" Colors can be configured using the cli color command.  The color command takes either zero or two arguments - an zero-based color number and a sequence which indicates pair of hue, saturation and value (HSV).  See HSL and HSV  If used with zero arguments it prints out the color configuration which can be copied for future reference.  The default color configuration is as follows:  Index\tColor0\tblack 1\twhite 2\tred 3\torange 4\tyellow 5\tlime green 6\tgreen 7\tmint green 8\tcyan 9\tlight blue 10\tblue 11\tdark violet 12\tmagenta 13\tdeep pink 14\tblack 15\tblack  color 0 0,0,0 color 1 0,255,255 color 2 0,0,255 color 3 30,0,255 color 4 60,0,255 color 5 90,0,255 color 6 120,0,255 color 7 150,0,255 color 8 180,0,255 color 9 210,0,255 color 10 240,0,255 color 11 270,0,255 color 12 300,0,255 color 13 330,0,255 color 14 0,0,0 color 15 0,0,0   ","version":"2.0.0","tagName":"h3"},{"title":"Mode Colors Assignement​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#mode-colors-assignement","content":" Mode Colors can be configured using the cli mode_color command.  No arguments: lists all mode colorsarguments: mode, function, color  First 8 groups of ModeIndexes are :  mode\tname0\torientation 1\theadfree 2\thorizon 3\tangle 4\tmag 5\tbaro 6\tspecial 7\tchannel  Modes 0 to 5 functions:  function\tname0\tnorth 1\teast 2\tsouth 3\twest 4\tup 5\tdown  Mode 6 use these functions:  function\tname0\tdisarmed 1\tarmed 2\tanimation 3\tbackground 4\tblink background 5\tgps: no satellites 6\tgps: no fix 7\tgps: 3D fix  The ColorIndex is picked from the colors array (&quot;palette&quot;).  Mode 7 is used along with Thrust state to make the LED color dependent on a channel different from the throttle.  Examples (using the default colors):  set armed color to red: mode_color 6 1 2set disarmed color to yellow: mode_color 6 0 4set Headfree mode 'south' to Cyan: mode_color 1 2 8set color dependent on AUX 1 in Thrust state: mode_color 7 0 4  ","version":"2.0.0","tagName":"h3"},{"title":"Positioning​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#positioning","content":" Cut the strip into sections as per diagrams below. When the strips are cut ensure you reconnect each output to each input with cable where the break is made. e.g. connect 5V out to 5V in, GND to GND and Data Out to Data In.  Orientation is when viewed with the front of the aircraft facing away from you and viewed from above.  ","version":"2.0.0","tagName":"h2"},{"title":"Example 12 LED config​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#example-12-led-config","content":" The default configuration is as follows  led 0 15,15:ES:IA:0 led 1 15,8:E:WF:0 led 2 15,7:E:WF:0 led 3 15,0:NE:IA:0 led 4 8,0:N:F:0 led 5 7,0:N:F:0 led 6 0,0:NW:IA:0 led 7 0,7:W:WF:0 led 8 0,8:W:WF:0 led 9 0,15:SW:IA:0 led 10 7,15:S:WF:0 led 11 8,15:S:WF:0 led 12 7,7:U:WF:0 led 13 8,7:U:WF:0 led 14 7,8:D:WF:0 led 15 8,8:D:WF:0 led 16 8,9::R:3 led 17 9,10::R:3 led 18 10,11::R:3 led 19 10,12::R:3 led 20 9,13::R:3 led 21 8,14::R:3 led 22 7,14::R:3 led 23 6,13::R:3 led 24 5,12::R:3 led 25 5,11::R:3 led 26 6,10::R:3 led 27 7,9::R:3 led 28 0,0:::0 led 29 0,0:::0 led 30 0,0:::0 led 31 0,0:::0   Which translates into the following positions:   6 3 \\ / \\ 5-4 / \\ FRONT / 7,8 | 12-15 | 1,2 / BACK \\ / 10,11 \\ / \\ 9 0 RING 16-27   LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle LEDs 16-27 should be placed in a ring and positioned at the rear facing south.  This is the default so that if you don't want to place LEDs top and bottom in the middle just connect the first 12 LEDs.  ","version":"2.0.0","tagName":"h3"},{"title":"Example 16 LED config​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#example-16-led-config","content":" led 0 15,15:SD:IA:0 led 1 8,8:E:FW:0 led 2 8,7:E:FW:0 led 3 15,0:ND:IA:0 led 4 7,7:N:FW:0 led 5 8,7:N:FW:0 led 6 0,0:ND:IA:0 led 7 7,7:W:FW:0 led 8 7,8:W:FW:0 led 9 0,15:SD:IA:0 led 10 7,8:S:FW:0 led 11 8,8:S:FW:0 led 12 7,7:D:FW:0 led 13 8,7:D:FW:0 led 14 7,7:U:FW:0 led 15 8,7:U:FW:0   Which translates into the following positions:   6 3 \\ / \\ 5-4 / 7 \\ FRONT / 2 | 12-15 | 8 / BACK \\ 1 / 10-11 \\ / \\ 9 0   LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle  ","version":"2.0.0","tagName":"h3"},{"title":"Example 28 LED config​","type":1,"pageTitle":"LED Strip","url":"/docs/Tutorial-Setup/LED-Strip#example-28-led-config","content":" #right rear cluster led 0 9,9:S:FWT:0 led 1 10,10:S:FWT:0 led 2 11,11:S:IA:0 led 3 11,11:E:IA:0 led 4 10,10:E:AT:0 led 5 9,9:E:AT:0 # right front cluster led 6 10,5:S:F:0 led 7 11,4:S:F:0 led 8 12,3:S:IA:0 led 9 12,2:N:IA:0 led 10 11,1:N:F:0 led 11 10,0:N:F:0 # center front cluster led 12 7,0:N:FW:0 led 13 6,0:N:FW:0 led 14 5,0:N:FW:0 led 15 4,0:N:FW:0 # left front cluster led 16 2,0:N:F:0 led 17 1,1:N:F:0 led 18 0,2:N:IA:0 led 19 0,3:W:IA:0 led 20 1,4:S:F:0 led 21 2,5:S:F:0 # left rear cluster led 22 2,9:W:AT:0 led 23 1,10:W:AT:0 led 24 0,11:W:IA:0 led 25 0,11:S:IA:0 led 26 1,10:S:FWT:0 led 27 2,9:S:FWT:0    16-18 9-11 19-21 \\ / 6-8 \\ 12-15 / \\ FRONT / / BACK \\ / \\ 22-24 / \\ 3-5 25-27 0-2   All LEDs should face outwards from the chassis in this configuration. ","version":"2.0.0","tagName":"h3"},{"title":"Receiver","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Receiver","content":"","keywords":"","version":"2.0.0"},{"title":"Receiver Configuration​","type":1,"pageTitle":"Receiver","url":"/docs/Tutorial-Setup/Receiver#receiver-configuration","content":" First activate Serial Rx on the UART you have connected your receiver.    ","version":"2.0.0","tagName":"h2"},{"title":"Receiver Type​","type":1,"pageTitle":"Receiver","url":"/docs/Tutorial-Setup/Receiver#receiver-type","content":" There are many receiver protocols supported in Rotorflight, SBUS in the one of the most known receiver protocols, however it is not telemetry capable. On the Other hand FrSky F.Port and ELRS are the most used protocols because they support telemetry and thus allow you to use the Rotorflight LUA app to perform tuning using you radio.  SBUS needs to be connected to an RX pad.    SBUS with S.Port: the SBUS pin needs to be connected to a free UART RX, and the S.Port pin needs to be connected to a free UART TX (of another free UART), and you activate Telemetry: FrSky SmartPort on that UART.    F.Port needs be connected to a TX pad, with Inverted Serial Signaling activated ,and Half-Duplex activated.    note The Inverted Serial Signaling option will work only on F7/H7 or G4 type mcu, if you are using an F4 mcu, then you need to use and external signal inverter, or hack your receiver to get an Un-Inverted signal for SBUS, S.Port, and F.Port. for more info check Uninverted SBUS and Smart Port on Frsky Receivers  CRSF/ELRS needs an RX and a TX on the same UART.    Please see the documentation for your FC for more details on how to connect your receiver.  ","version":"2.0.0","tagName":"h2"},{"title":"Receiver Channels​","type":1,"pageTitle":"Receiver","url":"/docs/Tutorial-Setup/Receiver#receiver-channels","content":" Select the corresponding channels order based on the selected receiver type.    For FrSky receivers, set the channels in your radio as per the below order.    For ELRS receivers, set the channels in your radio as per the below order.  note For CRSF/ELRS always set ARM switch to CH5/AUX1 on the radio, also set THR to CH6    Reverse channels on your transmitter if a channel responds the wrong way around. Stick to the right should move the bar to the right. Push stick forward and bar should move to the right.  ","version":"2.0.0","tagName":"h2"},{"title":"Receiver Settings​","type":1,"pageTitle":"Receiver","url":"/docs/Tutorial-Setup/Receiver#receiver-settings","content":"   Stick Center - adjust as required by your radio to achieve 0% when the ROLL, PITCH, YAW sticks are centered.Stick Maximum Travel - adjust achieve 100% at the sticks limits.Throttle Channel value for arming - channel value under which arming is allowed.Throttle must be below this limit prior to ARM mode being selected.Throttle Channel value for 0% throttle - The channel value (in µS) for the channel to be considered 0%.Throttle Channel value for 100% throttle - The channel value (in µS) for the channel to be considered 100%.Cyclic Deadband and Yaw Deadband - adjust to the smallest possible value that doesn't make your model drift in the Rates Preview window.  caution Calibrating Stability Mode The stability modes (Angle, Horizon or Rescue) can be calibrated so that the heli doesn't drift much when using such a mode. This can only be done via the accelerometer trims.Do not use trim on your transmitter.  You should end up with something similar to this:   ","version":"2.0.0","tagName":"h2"},{"title":"Telemetry Sensors​","type":1,"pageTitle":"Receiver","url":"/docs/Tutorial-Setup/Receiver#telemetry-sensors","content":" Use the below switch to enable/disable the telemetry stream sent to your radio. Each sensor can then be enabled or disabled individual depending on your requirement.    tip For ELRS receivers, follow the ELRS Telemetry Reuse WalkTrough for a practical example on ELRS sensors Reuse and Setup. ","version":"2.0.0","tagName":"h2"},{"title":"Remapping","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Remapping","content":"","keywords":"","version":"2.0.0"},{"title":"Key concepts​","type":1,"pageTitle":"Remapping","url":"/docs/Tutorial-Setup/Remapping#key-concepts","content":" Before you start remapping your drone FC to be used with Rotorflight, keep in mind the following.  1- Although it is not necessary, but it is advised to keep your cyclic servos on the same Timer.  2- If you wish to use a narrow band tail servo, then assign that servo to separate timer.  3- Main motor esc output should on a separate timer.  4- In case you are using a PWM controlled esc then Rotorflight will require an rpm signal for governor and RPM Filtering, RPM input should be on a 32bit separate timer (TIM2 or TIM5).    ","version":"2.0.0","tagName":"h2"},{"title":"Custom defaults remapping spreadsheet​","type":1,"pageTitle":"Remapping","url":"/docs/Tutorial-Setup/Remapping#custom-defaults-remapping-spreadsheet","content":" Spreadsheet for remapping Betaflight targets for use with Rotorflight. The spreadsheet re-allocates features for motors and servos and configures associated timers and dma.  Please 'make a copy'.  Rotorflight remapping spreadsheet v1.4.1  Rotorflight remapping spreadsheet v2.0  ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Hardware config and remapping video​","type":1,"pageTitle":"Remapping","url":"/docs/Tutorial-Setup/Remapping#rotorflight-hardware-config-and-remapping-video","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Importing new targets​","type":1,"pageTitle":"Remapping","url":"/docs/Tutorial-Setup/Remapping#importing-new-targets","content":" Some targets in the betaflight target repository have additional #define lines above board_name. Please do not chose them. In the example below copy only from board_name down. The Board_name MUST be the first line in the spreadsheet.    ","version":"2.0.0","tagName":"h2"},{"title":"Configuring a Motor output​","type":1,"pageTitle":"Remapping","url":"/docs/Tutorial-Setup/Remapping#configuring-a-motor-output","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Configuring a Frequency input​","type":1,"pageTitle":"Remapping","url":"/docs/Tutorial-Setup/Remapping#configuring-a-frequency-input","content":" The frequency input pin must be connected to a timer with exclusive access. In other words, there must be a free timer, not used by anything else, and one of its positive channels must be available on a pin that is connected to the FC's solder pads. Negative channels, like CH3N, can't be used as inputs. Once we know which timer and pin we can use, it can be configured for frequency sensor use.  note We recommend that Freq inputs are allocated to pins that have Timer 2 or Timer 5 available. If 2 Freq inputs are required (e.g. Motorized tail) then both inputs can share the same timer. In the remapping spreadsheet these pins are indicated by the green box marked Freq.  In this example, we have chosen to use the LED_STRIP pin as our frequency input. We see there is only one option (Timer1) on AF1. We can use this pin but must not allocate any of the Servos or Motors to Timer1. Only the motor pins share this timer so we can choose either AF2 (timer3) or AF3 (timer8).    ","version":"2.0.0","tagName":"h2"},{"title":"The lines which configure the frequency signal​","type":1,"pageTitle":"Remapping","url":"/docs/Tutorial-Setup/Remapping#the-lines-which-configure-the-frequency-signal","content":" resource LED_STRIP 1 NONE resource Freq 1 A09 timer A09 AF1 # Freq - pin A09: TIM1 CH2 (AF1) dma pin A09 0 # Freq - 0: DMA2 Stream 6 Channel 0  ","version":"2.0.0","tagName":"h3"},{"title":"RPM Filters","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/RPM-Filters","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction​","type":1,"pageTitle":"RPM Filters","url":"/docs/Tutorial-Setup/RPM-Filters#introduction","content":" RPM filters clean up the gyro signals by filtering out vibrations that are coming from the rotating parts in a helicopter: the main rotor, tail rotor and motor(s).  The difference between an unfiltered and filtered signal is significant. Here's an example of filtered and unfiltered gyro signals:    RPM filtered gyro signals enable you to tune the helicopter better, for example by being able to use higher gains.  The RPM filters require real time motor speed information to be available to the flight controller. This can be obtained with a Frequency Sensor or by using Bidirectional DSHOT.  Once the FC knows the motor speed, it can calculate the main and tail rotor speeds. For this it needs to know the Main Rotor Gear Ratio and the Tail Rotor Gear Ratio, which you can specify in the Motors tab.  For example, here are the ratios for my Gaui X3.    note Direct drive motors have a ratio of 1:1.  In order to use RPM filters, proceed to the Gyro tab, and enable the filters as shown below.  ","version":"2.0.0","tagName":"h2"},{"title":"Basic RPM Filters Settings​","type":1,"pageTitle":"RPM Filters","url":"/docs/Tutorial-Setup/RPM-Filters#basic-rpm-filters-settings","content":" These settings should be ok for a first flight.      Filters introduce latency. More filters mean more latency. So try to keep the number of filters low.  Double filters provide heavier filtering than single filters, but are also slower. They are sometimes needed on the 1st and/or 2nd harmonic.  tip The Q factor defines how wide the filter is: Lower Q values make the filter widerHigher Q values make the filter smaller  Wider filters are slower than narrow filters, so try to make the filters as small as possible without it being ineffective.  ","version":"2.0.0","tagName":"h2"},{"title":"Filter Tuning​","type":1,"pageTitle":"RPM Filters","url":"/docs/Tutorial-Setup/RPM-Filters#filter-tuning","content":" Make a blackbox log of a short flight with constant headspeed. Scroll to the point where the heli has spooled up and is hovering. Mark that point with the I key. Scroll near the end and mark that with the O key. Now bring up the Analyzer Display and enlarge it. It might look like:    This log was made with only a double fundamental filter. As you can see there's some noise around 144Hz. Since the headspeed is 4200 RPM, that must be near the second harmonic (4200/60 = 70*2 = 140Hz). Also note that the gyro signal in the background is also a bit noisy.  Now let's add some single filters for the 2nd (140Hz) and 3rd (210Hz) harmonic. Suddenly the log looks a lot cleaner:   ","version":"2.0.0","tagName":"h2"},{"title":"Sensors","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Sensors","content":"Sensors To Do","keywords":"","version":"2.0.0"},{"title":"RPM Measurement","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Rpm-Measurement","content":"","keywords":"","version":"2.0.0"},{"title":"Frequency Sensor​","type":1,"pageTitle":"RPM Measurement","url":"/docs/Tutorial-Setup/Rpm-Measurement#frequency-sensor","content":" Typically it is used when the RPM is not available via ESC telemetry. Only BLHeli_32, some BLHeli_S and APD F3 ESCs support Dshot/KISS telemetry, so this feature is needed with a wide range of traditional ESCs.  The RPM signal is used in multiple places in the FC, e.g. in the PID control, the governor and the RPM-filter. If these features are not needed, then there is no need for the frequency sensor either.  An electrical frequency signal is provided by some ESCs, e.g. Hobbywing with the &quot;yellow&quot; wire. Or it can come from an RPM sensor, which is converting the motor three-phase voltages into a frequency signal - e.g. Hobbywing RPM sensor. Please refer to your ESC's or sensor's manuals how to connect them correctly.  Note about the Hobbywing RPM sensor: it's safest to power it with 3.3V, as the input voltage of the sensor is also the output voltage of the RPM signal it generates. All inputs on a STM32 MCU tolerate 3.3V, and some will also accept 5V. But if you're using a 8.4V BEC to power the sensor, you'll likely damage the MCU.  Up to two frequency sensors are supported, for acquiring motor #1 and motor #2 speed.  If both Frequency Sensor and telemetry RPM signals are available, the Frequency Sensor has precedence.  ","version":"2.0.0","tagName":"h2"},{"title":"Connection​","type":1,"pageTitle":"RPM Measurement","url":"/docs/Tutorial-Setup/Rpm-Measurement#connection","content":" Plug the ESC RPM wire (often yellow wire) or separate RPM sensor (Hobbywing RPM etc) into the FC RPM input.    ","version":"2.0.0","tagName":"h3"},{"title":"Configuration​","type":1,"pageTitle":"RPM Measurement","url":"/docs/Tutorial-Setup/Rpm-Measurement#configuration","content":" Then the frequency sensor can be turned ON with the feature flag located on the Motors tab.    ","version":"2.0.0","tagName":"h3"},{"title":"Bidirectional DSHOT​","type":1,"pageTitle":"RPM Measurement","url":"/docs/Tutorial-Setup/Rpm-Measurement#bidirectional-dshot","content":" Several features of Rotorflight require telemetry data for the motor speed such as the Govenor and RPM Filtering. One method for the FC to get this motor speed is via Bidirectional DSHOT. Bidirectional DSHOT is an ESC protocol which enables communications in both directions between the FC and the ESC. The speed command can be sent by the FC to the ESC and the ESC responds by sending the current motor eRPM (electrical RPM).  From the Motors tab in Rotorflight Configurator select an DSHOT ESC protocol (DSHOT150-DSHOT600) and enable Bidirectional DSHOT. This requires ESC firmware that supports Bidirectional DSHOT.  ","version":"2.0.0","tagName":"h2"},{"title":"Supported ESC Firmware​","type":1,"pageTitle":"RPM Measurement","url":"/docs/Tutorial-Setup/Rpm-Measurement#supported-esc-firmware","content":" BLHeli_32​  Bidirectional DSHOT is fully supported from firmware version 32.7.0 onward. ESCs with earlier firmware will have to be updated before speed telemetry will operate.  BLHeli_S​  BLHeli_S ESCs do not support Bidirectional DSHOT. In order to access this functionality with a BLheli_S ESC, the firmware must be upgraded to Bluejay.  Bluejay​  Bluejay is an open source firmware for BLheli_S ESCs which supports Bidirectional DSHOT, see BlueJay. This firmware has been used successfully for several Rotorflight builds. Bluejay is capable of flashing individual settings to each ESC (tail and main) which is important when using an all in one (AIO) board. Bluejay v0.15 and later also supports disabling damped light (regenerative breaking), a must if your helicopter doesn't have a one way bearing. For example, a K110 will yaw/spin rapidly on throttle hold if damped light is enabled. Please follow the Blheli_S to Bluejay walkthrough.  ","version":"2.0.0","tagName":"h3"},{"title":"More information​","type":1,"pageTitle":"RPM Measurement","url":"/docs/Tutorial-Setup/Rpm-Measurement#more-information","content":" More details on Bidirectional DSHOT and RPM filtering at Betaflight. ","version":"2.0.0","tagName":"h2"},{"title":"Setup","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Setup","content":"","keywords":"","version":"2.0.0"},{"title":"Calibrate Accelerometer​","type":1,"pageTitle":"Setup","url":"/docs/Tutorial-Setup/Setup#calibrate-accelerometer","content":" The accelerometer is used to determine the orientation of the flight controller. It is used to determine the pitch, roll and yaw angles. You can calibrate it here, following the instructions.  info The accelerometer is used for self stabilization features, like angle, horizon, acro trainer, and even rescue. If you do not intend to use these features, you can skip this step, or even disable the accelerometer entirely.  ","version":"2.0.0","tagName":"h2"},{"title":"Calibrate Magnetometer​","type":1,"pageTitle":"Setup","url":"/docs/Tutorial-Setup/Setup#calibrate-magnetometer","content":" The magnetometer (compass) is used to determine the heading of the flight controller in 3d space. This is useful for more accurate information for GPS rescue( Not yet implemented ). Calibrate it following the instructions  The magnetometer calibration process is time limited, you only have 30 seconds to do the movements.  ","version":"2.0.0","tagName":"h2"},{"title":"Reset Settings​","type":1,"pageTitle":"Setup","url":"/docs/Tutorial-Setup/Setup#reset-settings","content":" Reset Flight Controller to target default parameters.  ","version":"2.0.0","tagName":"h2"},{"title":"Bootloader/DFU​","type":1,"pageTitle":"Setup","url":"/docs/Tutorial-Setup/Setup#bootloaderdfu","content":" A manual way to put the flight controller into DFU (Device Firmware Update) mode without having to hold down the physical boot button. This is useful if you're having issues when flashing. Board will remain in DFU mode until cycled or a flash is completed.  ","version":"2.0.0","tagName":"h2"},{"title":"Mass Storage Mode​","type":1,"pageTitle":"Setup","url":"/docs/Tutorial-Setup/Setup#mass-storage-mode","content":" Reboot into mass storage mode to access blackbox data logs.  ","version":"2.0.0","tagName":"h2"},{"title":"System Reboot​","type":1,"pageTitle":"Setup","url":"/docs/Tutorial-Setup/Setup#system-reboot","content":" Reboot and reinitialize the system. ","version":"2.0.0","tagName":"h2"},{"title":"Status","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Status","content":"","keywords":"","version":"2.0.0"},{"title":"Info​","type":1,"pageTitle":"Status","url":"/docs/Tutorial-Setup/Status#info","content":" Shows some basic data from the flight controller and model. This includes:  Craft NameFirmwareBoard    ","version":"2.0.0","tagName":"h2"},{"title":"Arming​","type":1,"pageTitle":"Status","url":"/docs/Tutorial-Setup/Status#arming","content":"   Enable Arming: Use this switch to enable arming while the configurator is connected.  caution With the arming enabled, the motor can spoolup when the throttle is released. Remove blades for safety.  Arming Disable Flags: Shows all of the &quot;errors&quot; that prevent the flight controller from arming. This is useful to check if you're having issues arming.  You can find out a description of these flags from the List of Arming prevention flags  ","version":"2.0.0","tagName":"h2"},{"title":"Battery​","type":1,"pageTitle":"Status","url":"/docs/Tutorial-Setup/Status#battery","content":"   Voltage - Shows the current battery voltage if the settings for it are set correctly.Current - Shows the current drawn from the battery if the settings for it are set correctly.Capacity - Shows the consumed capacity of the battery in mAh.Charge Level - Shows remaining battery capacity in percent.  ","version":"2.0.0","tagName":"h2"},{"title":"Live Gyro Preview​","type":1,"pageTitle":"Status","url":"/docs/Tutorial-Setup/Status#live-gyro-preview","content":" A live preview of the gyroscope data. This is useful to check if the gyroscope is aligned correctly, and if it isn't getting/giving noisy data.    Reset Z axis - This button resets the heli heading to 0 degrees.  info You can set the gyroscope alignment in the Configuration tab.  ","version":"2.0.0","tagName":"h2"},{"title":"Instruments​","type":1,"pageTitle":"Status","url":"/docs/Tutorial-Setup/Status#instruments","content":" A graphic replica of real aircraft instruments.    ","version":"2.0.0","tagName":"h2"},{"title":"Receiver​","type":1,"pageTitle":"Status","url":"/docs/Tutorial-Setup/Status#receiver","content":" The receiver output preview shows the current state of the receiver channels, both in channel value and graph forms, and how those affect the heli movement.   ","version":"2.0.0","tagName":"h2"},{"title":"Servos","type":0,"sectionRef":"#","url":"/docs/Tutorial-Setup/Servos","content":"","keywords":"","version":"2.0.0"},{"title":"Servo Numbering​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#servo-numbering","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Direct​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#direct","content":" For helicopters that uses mechanical mixing, where the Pitch, Roll, and Collective movements are each controlled by a dedicated servo by means of a complex series of linkages and levers from the servos up to the swashplate.  Servo 1 - Pitch Servo 2 - Roll Servo 3 - Collective Servo 4 - Rudder  ","version":"2.0.0","tagName":"h3"},{"title":"CCPM​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#ccpm","content":" For 120, 135 and 140 deg CCPM swashplates. Looking from the tail towards the nose of the helicopter:  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Left side Servo 3 - Right side Servo 4 - Rudder    ","version":"2.0.0","tagName":"h3"},{"title":"Fixed pitch​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#fixed-pitch","content":" 90deg L​  Servo 1 - Pitch (inline with the centerline of the helicopter) Servo 2 - Side servo Servo 3 - Rudder    90deg V​  Servo 1 - Left side Servo 2 - Right side Servo 3 - Rudder    ","version":"2.0.0","tagName":"h3"},{"title":"Servo Override​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#servo-override","content":" The toggle at the bottom of this page enables the servo overrides. The purpose of this is so that each servo can be driven by the slider to calibrate the range and center points. Beside each servo is an individual override.  The servo override slider scale is in degrees    ","version":"2.0.0","tagName":"h2"},{"title":"Servo Configuration parameters​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#servo-configuration-parameters","content":"   ","version":"2.0.0","tagName":"h2"},{"title":"Center​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#center","content":" In general this will be 1520us for cyclic servos and 760us for tail servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Min and Max​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#min-and-max","content":" These are hard limits to prevent servos binding or moving outside of their mechanical limits. If a servo is commanded to a point that is greater or less than it is capable it will buzz and likely burn out. These settings should be used to limit the command.  ","version":"2.0.0","tagName":"h3"},{"title":"Scale Neg and Scale Pos​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#scale-neg-and-scale-pos","content":" Scales the negative and positive direction of the servo to match the commanded angle.  ","version":"2.0.0","tagName":"h3"},{"title":"Rate​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#rate","content":" This is the servo frequency. This will be specified by the manufacturer. A large proportion of servos suitable for cyclic operate at 333Hz.  note For Rotorflight 2 it is recommended that tail servos are assigned to a different timer than cyclic servos (see Remapping). This means that tail servos can be set to a different frequency (i.e. faster).  ","version":"2.0.0","tagName":"h3"},{"title":"Speed​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#speed","content":" Servo Speed Equalization. The aim of this parameter is to remove the collective &quot;bobbing&quot; when fast elevator changes are applied.  The bobbing happens because the elevator servo has to move double distance vs. the aileron servos, when elevator position is changed. If the change is faster than the servos can go, the aileron servos will reach the target sooner than the elevator servo, causing the swash to jump slightly in the process.  To tune this value increase the speed value (it's actually ms/60°, like in the servo datasheet) until the bobbing is not visible any more. It should be always ok to use the value from the servo datasheet if unsure.  ","version":"2.0.0","tagName":"h3"},{"title":"Reverse​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#reverse","content":" Toggle for forward or reverse servo direction.  ","version":"2.0.0","tagName":"h3"},{"title":"Geo Cor​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#geo-cor","content":" Geometry Correction. Servos are rotary, so at high angles this results in smaller swashplate movement for each degree of servo movement. Geometry correction accounts for this and provides better control at high angles (e.g. 3D flight).  In order to use this feature it is important to set the servo arm at 90° (with servo center) and calibrating the servo scale.  ","version":"2.0.0","tagName":"h3"},{"title":"Servo Setup and Calibration​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#servo-setup-and-calibration","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Step 1​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#step-1","content":" DO NOT CONNECT THE SERVOS YET!Confirm and set the servo center to your servo manufacturers recommendation. For Cyclic this will usually be 1520us, and for Tail it would be 760us.If a servo's center is 760us, make sure to change the min/max to -350/350 instead of -700/700, and pos/neg scales to 250 instead of 500.Confirm and set the servo rate as specified by your manufacturer. For many digital cyclic servos this is 333Hz and for most tail servos this is 560Hz.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 2​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#step-2","content":" Connect the servos.Set Servo override to ON.Fit servo arms to as close to 90 degrees as possible.Slide Servo 1 override in the positive direction (i.e. right).Confirm the servo arm travels up towards the swashplate. If not toggle the servo reverse.  Repeat with remaining cyclic servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 3​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#step-3","content":" Set each of the override sliders to 0 degrees.Adjust center to level the servo arm (0° or 90° depending on servo installation orientation). One quick way is to slide the override bar and copy the output value from the blue bar into the center and press save. Make sure to reset the override to see the correct effect.  Repeat with remaining cyclic servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 4 (Usually Not Required)​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#step-4-usually-not-required","content":" With the servos installed in the helicopter, adjust Min/Max so that the arm &amp; ball won't hit anything in the heli frame (servo override @ 80° / -80°).  Repeat with remaining cyclic/tail servos.  ","version":"2.0.0","tagName":"h3"},{"title":"Step 5 (Usually Optional)​","type":1,"pageTitle":"Servos","url":"/docs/Tutorial-Setup/Servos#step-5-usually-optional","content":" Calibrate the range. Not all servos move by the same angle for each change in command. This step calibrates this range so that the servo's move by the same amount. This means that the Geometric Correction can be used.  Set the override to a positive value (e.g. 30°)measure the current servo arm angle and increase or decrease the Scale Pos until the servo arm angle matches the override angle.   ","version":"2.0.0","tagName":"h3"},{"title":"CLI Profile (Bank) switching","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/CLI-Profile-switching-example","content":"CLI Profile (Bank) switching Until the Adjustments tab has been re-implemented in RF2, you can use the below command to switch profiles using an Aux channel in your radio. The CLI command format is: adjfunc &lt;index&gt; &lt;func&gt; &lt;enable channel&gt; &lt;start&gt; &lt;end&gt; &lt;value channel&gt; &lt;dec start&gt; &lt;dec end&gt; &lt;inc start&gt; &lt;inc end&gt; &lt;step size&gt; &lt;value min&gt; &lt;value max&gt; For a simple three profile switching using a three position Aux Channel use the below command. adjfunc [index] [function] [n] 900 2100 [n] 975 2025 975 2025 0 0 3 Where: index: this is the adjustment index, it should be unique for each adjustment command.function: function number, use 1 for Rate Profile, 2 for PID Profile.n: Aux channel number -1, for Aux2 use 1, for Aux3 use 2. Use the below example to switch between three PID Profiles using Aux2. adjfunc 0 2 1 900 2100 1 975 2025 975 2025 0 0 3 Also you can use the below example to switch between three Rate Profiles using Aux2. adjfunc 1 1 1 900 2100 1 975 2025 975 2025 0 0 3 ","keywords":"","version":"2.0.0"},{"title":"Flashing Blheli_S ESC to Bluejay firmware","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay","content":"","keywords":"","version":"2.0.0"},{"title":"Bluejay Configurator web page​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#bluejay-configurator-web-page","content":" Bluejay can be flashed via the web page application at https://esc-configurator.com/  ","version":"2.0.0","tagName":"h2"},{"title":"step 1.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-1","content":" Click on settings and check the &quot;Disable common settings&quot;. This enables different settings to be loaded to each ESC which is required so we can change the settings between the main and tail motors.    ","version":"2.0.0","tagName":"h3"},{"title":"step 2.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-2","content":" From the top right corner click on [Connect]. Power up the ESC with the flight pack and click on [Read Setup].    ","version":"2.0.0","tagName":"h3"},{"title":"step 3.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-3","content":" Click on [Flash all]  ","version":"2.0.0","tagName":"h3"},{"title":"step 4.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-4","content":" From the config dropdown chose:  Firmware = BluejayESC = Leave this as you find it. This is specific to your ESC typeVersion = Choose the latest version.PWM Frequency = 24kHz Smaller motors can use higher frequencies due to their very low inductance. Most helicopters 24kHz is suitable however helicopters with very small tail rotors (k110) you can use higher frequencies.  Click on [Flash] to load the new firmware.    ","version":"2.0.0","tagName":"h3"},{"title":"step 5.​","type":1,"pageTitle":"Flashing Blheli_S ESC to Bluejay firmware","url":"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay#step-5","content":" After flashing has completed Click on [Read setup].  On both the tail and Main motors deselect &quot;Brake on stop&quot;On the Main motor slide the &quot;Maximum Braking Strength&quot; to 0. This will disable the Complimentary PWM (Damped Light Mode). This needs to be left active on the Tail motor.  Click the [Write Setup] to complete the setup.   ","version":"2.0.0","tagName":"h3"},{"title":"Adding an extra servo","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/Extra-servo","content":"","keywords":"","version":"2.0.0"},{"title":"Add an extra servo controlled by an AUX channel.​","type":1,"pageTitle":"Adding an extra servo","url":"/docs/Tutorial-Walkthroughs/Extra-servo#add-an-extra-servo-controlled-by-an-aux-channel","content":" note Sometimes we may wish to add an extra servo to our helicopter to be controlled by our Tx for something like retracts on a scale machine or a camera etc. This can be done using the remapping spreadsheet. In the example below we will add Servo 5 to be controlled by the AUX 3 channel.  Step 1: Assign the servo to your chosen pin. In the pic below we have assigned Servo 5 to Serial Rx 2.    Step 2: Assign the timer to your new servo. This timer cannot clash with motors, frequency or LED_STRIP. They can be assigned to the same timer as one of your other servos; however, it then will need to be set to the same frequency (e.g. if one is set to 333Hz they will both need to be set to 333Hz). If it can be assigned to a totally different timer then you can assign whatever frequency you like.    Step 3: In the 'Advanced' section assign your AUX channel to servo 5 and then select and copy the mixer config displayed.    Step 4: Open the configurator and go to the CLI page. Paste the config from the mixer into the command line and click [ENTER]. Type save and click [ENTER].   ","version":"2.0.0","tagName":"h2"},{"title":"ELRS Telemetry Reuse","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/ELRS-telemetry-reuse","content":"ELRS Telemetry Reuse The Crossfire Protocol (CRSF) used by ELRS does not include the full range of sensors that can be useful for rotorflight. Crossfire was specifically designed for Drones, which generally have different parameters that are useful to the pilot. As a temporary fix for this issue a series of telemetry items that are currently transferred to the transmitter can be re-used to transfer information we would rather see. There are four messages that can be chosen, each with a variety of telemetry sensor options. Flight modeset crsf_flight_mode_reuse = [OPTION] [Option] Allowed values: NONE, GOVERNOR, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGE, ADJFUNC, GOV_ADJFUNCPitch attitudeset crsf_att_pitch_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGERoll attitudeset crsf_att_roll_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGEYaw positionset crsf_att_yaw_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOAD, BEC_VOLTAGE, BUS_VOLTAGE, MCU_VOLTAGEGPS Headingset crsf_gps_heading_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Ground Speedset crsf_gps_ground_speed_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Altitudeset crsf_gps_altitude_reuse = [OPTION] [Option] Allowed values: NONE, HEADSPEED, THROTTLE, ESC_TEMP, MCU_TEMP, MCU_LOAD, SYS_LOAD, RT_LOADGPS Satsset crsf_gps_sats_reuse = [OPTION] [Option] Allowed values: NONE, ESC_TEMP, MCU_TEMP, PROFILE, RATE_PROFILE, LED_PROFILE This tutorial will guide you through the process of re-using/transforming the unused ELRS sensor into a more useful Rotorflight sensors. The following procedure will allow you to get the following telemetry sensors on your radio, these sensors are: Flight/Governor status and adjustment functionsBEC VoltageVBUS(5V) VoltageReal time controller loadThrottleESC TemperatureHeadspeedMCU Temperature To begin: Enable Telemetry. If you have not done so already enable the telemetry toggle on the receiver tab. Enable each of the telemetry messages that you wish to 'reuse'. Enter CLI tab, copy and paste the below commands, then type save and hit enter. set crsf_flight_mode_reuse = GOV_ADJFUNC set crsf_att_pitch_reuse = BEC_VOLTAGE set crsf_att_roll_reuse = BUS_VOLTAGE set crsf_att_yaw_reuse = RT_LOAD set crsf_gps_heading_reuse = THROTTLE set crsf_gps_ground_speed_reuse = ESC_TEMP set crsf_gps_altitude_reuse = HEADSPEED set crsf_gps_sats_reuse = MCU_TEMP Next, go to your radio telemetry page and discover new sensors. You should see eight sensors, called: FM, Ptch, Roll, Yaw, Hdg, Gspd, Alt, Sats These sensors will be transformed to the following sensors respectively: FM, Bec Voltage, VBus Voltage , Real Time Load, Throttle, ESC Temperature, Headspeed, MCU Temperature Copy the sensors from Ptch to Sats Rename the sensors and modify the Unit, Precision, and ratio as per the below pictures. For Ptch​ For Roll​ For Yaw​ For Hdg​ For Gspd​ For Alt​ For Sats​ After you finish you will see the new sensors in your telemetry page as per below. You can use these new sensors to monitor your heli and create useful alarms and warnings.","keywords":"","version":"2.0.0"},{"title":"Profile (Bank) switching example","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/Profile-switching-example","content":"","keywords":"","version":"2.0.0"},{"title":"Purpose​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/Tutorial-Walkthroughs/Profile-switching-example#purpose","content":" info We often configure several flight modes to suit our own flying requirements e.g. (Futaba - Normal, IU1, IU2)(OpenTx - FM1, FM2, FM3). It is quite possible that with each of these flight modes we would want to adjust and tune the model independently. We can do this through the Adjustments tab. This is a similar feature to V-bar 'Bank switching'. The following example is just a suggestion and is one way to go about using the adjustments tab. The same process can be used to switch rates if required.  ","version":"2.0.0","tagName":"h2"},{"title":"Aim​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/Tutorial-Walkthroughs/Profile-switching-example#aim","content":" My helicopter has already been set up to have a 3 position switch (SwE) which selects between 3 headspeeds (I use the governor so my 'curves' are just flat). The following example will add switching of tuning parameters (Profile Tab) for each of these headspeeds.  ","version":"2.0.0","tagName":"h2"},{"title":"Configure the Tx​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/Tutorial-Walkthroughs/Profile-switching-example#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwE) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch9 to the SwE in the Mixers tab    ","version":"2.0.0","tagName":"h3"},{"title":"Configure flight controller​","type":1,"pageTitle":"Profile (Bank) switching example","url":"/docs/Tutorial-Walkthroughs/Profile-switching-example#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux4 is the ninth channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux4,    Step 3:  Go to the Adjustments tab. Enable an adjustment slot by selecting Mapped and select Aux4 as the Enable Channel and Value Channel.Stretch the Enable Channel and Value Channel sliders across the entire channel range. This covers the positions for each of the three switch positions.Select Profile Selection from the dropdown. This means we want to change the 'Profile selection' by the switch position.Stretch the Profile Selection slider from 1 to 3, This means over the defined range a value of 1-3 will be chosen based on the switch position. (e.g. SwE down = 0, SwE middle = 1, SwE up = 2). These values are added to the Profile so will result in (e.g. SwE down = Profile 1, SwE middle = Profile 2, SwE up = Profile 3).    Step 4: Go to the Profiles tab and test and confirm that changing the switch position results in changing of the current Profile.   ","version":"2.0.0","tagName":"h3"},{"title":"Tuning using Adjustments","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/Tuning-using-Adjustments","content":"","keywords":"","version":"2.0.0"},{"title":"OpenLager","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/OpenLager","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction​","type":1,"pageTitle":"OpenLager","url":"/docs/Tutorial-Walkthroughs/OpenLager#introduction","content":" An OpenLager is an external logging devices that use SD cards. Logging with an OpenLager has several benefits compared to other logging methods:  Virtually unlimited storage when using, for example, a 32GB SD cardHigh read speeds when you eject the SD card and connect it directly to your PCLogging using an UART TX is a lightweight process and very MCU friendly, so you'll have more processing power for other tasks.  ","version":"2.0.0","tagName":"h2"},{"title":"Connecting an OpenLager​","type":1,"pageTitle":"OpenLager","url":"/docs/Tutorial-Walkthroughs/OpenLager#connecting-an-openlager","content":" The OpenLager can be connected to the FC using just three wires: +5V, ground and a TX output pad of a free UART on the FC, which is connected to the RX pad of the logging device. As soon as you power the device on, it will create a new log file on the SD card. Then it'll log everything it receives to that file. Simple but effective.  After you've connected the OpenLager, you have to tell Rotorflight which UART the TX pad for the logger is connected to. You can specify that UART in the Configuration tab, under Blackbox logging. For the OpenLager select 2000000 bps. Click Save and Reboot.    After configuring the OpenLager you can go to the Blackbox tab to specify what should be logged at what speed when.  note For maximum performance the SD card should be formatted with the SD Association's special formatting tool. A fast SD card is needed, e.g. the Sandisk Extreme 16GB Class 10 UHS microSDHC. ","version":"2.0.0","tagName":"h2"},{"title":"What's next?​","type":1,"pageTitle":"Tuning using Adjustments","url":"/docs/Tutorial-Walkthroughs/Tuning-using-Adjustments#whats-next","content":"","version":"2.0.0","tagName":"h2"},{"title":"Getting started with LEDs","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start","content":"","keywords":"","version":"2.0.0"},{"title":"Introduction to LED strips​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#introduction-to-led-strips","content":" Rotorflight supports up to 32 individually addressable WS2811/2812 RGB LEDs. You can control them with just one data pin, and set the brightness and color of each LED individually. LEDs can have different functions, for example display a color, visualize warnings or battery state, or just blink. This walk-through will show you how to set up a simple LED strip with some scale lights.    Each LED has 4 pins: 5V, ground, data in and data out. The FC should be connected to data in of the first LED. Data out of the first LED should be connected to data in of the second LED. And the data out of the second LED should again be connected to data in of the third LED. And so on.  There are ready made WS2812 strips with 30, 60 or 144 LEDs per meter. That's great for testing or maybe on the boom for some night flying, but there are also more conventional WS2811 5mm and 8mm LEDs available. Those are more suited for scale lighting.  There are quite a lot of tutorials/videos for Betaflight, and Rotorflight supports all the functions of Betaflight 4.3. In addition, Rotorflight supports scale lights, with which you can program anti-collision lights, strobe lights or landing lights. Here we'll focus on those scale lights.  ","version":"2.0.0","tagName":"h2"},{"title":"Create a LED_STRIP resource​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#create-a-led_strip-resource","content":" In order to use a LED strip, you'll need a LED_STRIP resource to which you can connect your LEDs. A LED_STRIP resource requires a timer and DMA should be enabled.  Some FCs might already have a LED_STRIP resource and then you can just use that pin. But if you want to use another pin on your FC, or if your FC doesn't have a LED_STRIP resource, you'll need to do some resource remapping. For this walk-through I'm going to use the Radiomaster Nexus, so go to the CLI and remap TX6 to LED_STRIP.  Now go to the Configuration tab and enable LED_STRIP under Features. Press Save and reboot.  ","version":"2.0.0","tagName":"h2"},{"title":"Testing hardware​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#testing-hardware","content":" A piece of LED strip is ideal for testing. I'll be using one with 3 LEDs connected to Port B on the Nexus. Wiring is simple: just connect 5V, ground and LED_STRIP (formerly known as TX6) to the strip.    ","version":"2.0.0","tagName":"h2"},{"title":"The LED Strip tab​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#the-led-strip-tab","content":" Now go to the LED Strip tab. Note that this tab will only be visible if you have the LED_STRIP feature enabled under Configuration.  We're going to define:  a green navigation light that also functions as a strobea red ACL light that slowly blinksa white landing light that can be operated from the TX.  Connect the Nexus to the Configurator using USB. 5V will now be available on port A, B and C. If you're using many LEDs, consider using an external 5V power supply.  ","version":"2.0.0","tagName":"h2"},{"title":"Define the 3 LEDs​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#define-the-3-leds","content":" Click on Wire Ordening Mode. The 16x16 matrix will become greenish.Select a square in the matrix. A '0' should now be displayed in it.Select Color as FunctionNow select another square in the matrix. A '1' should now be displayed in it.Select Color again as FunctionSelect yet another square in the matrix. A '2' should now be displayed in it.Select Color as FunctionPress Save  Your screen might now look like this, although the actual position of the three squares will likely be different:    ","version":"2.0.0","tagName":"h3"},{"title":"Create the green navigation light​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#create-the-green-navigation-light","content":" Select the square with '0' in itIn the color palette, left-click on green. The LED should now light up.If you find the LED too bright, adjust the overal LED brightness under LED Strip Global SettingsEnable Blink and set one checkmark. The LED wil now shortly turn off (=black).In the color palette, right-click on white. Now the LED will shortly flash a white light.Press Save  ","version":"2.0.0","tagName":"h3"},{"title":"Create the red anti-collision light​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#create-the-red-anti-collision-light","content":" Select the square with '1' in itSelect Blink and set some check marks next to each otherRight-click the red color. The second LED should now flash redPress Save  ","version":"2.0.0","tagName":"h3"},{"title":"Create the white landing light​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#create-the-white-landing-light","content":" Select the square with '2' in itEnable the Fade to alt color featureLeft-click white. The LED should now light upSelect Status Alt next to Profile, under LED Strip Global Settings. The LED should now dim.Set Fade rate to 10 to dim slowlyPress SaveYou can use Adjustments to switch the LED profile from your transmitter. It might look something like:    Here's another video showing the techniques used in this Quick Start on a Walkera 4F200LM, for which I used two 3mm and four 5mm LEDs.    ","version":"2.0.0","tagName":"h3"},{"title":"Molex PicoBlade bus​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#molex-picoblade-bus","content":" Here's a simple bus system for connecting individual LEDs using 4-pin Molex PicoBlade connectors. It can be used for connecting individual WS2811/2812 LEDs as well as conventional LEDs.    Conventional LEDs should come after the WS2811/2812 LEDs since they don't support data in and data out. Also, you can use 2-pin PicoBlade connectors for them.  ","version":"2.0.0","tagName":"h2"},{"title":"Building the PicoBlade bus​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#building-the-picoblade-bus","content":" Glue some 4-pin PicoBlade headers togetherBend the pins for 5V and GND so they form two railsCarefully solder the 5V and GND railsBend the data out pin of the first header to the data in pin of the second header and repeatSolder the data out pins to the next data in pinsConnect wires for 5V, GND and data in to the busIsolate the bottom of the bus with hot glue or epoxyConnect the bus to the FC    ","version":"2.0.0","tagName":"h3"},{"title":"Remapping to LED_STRIP​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#remapping-to-led_strip","content":" ","version":"2.0.0","tagName":"h2"},{"title":"Radiomaster Nexus​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#radiomaster-nexus","content":" On the Nexus Port B is the best choice for creating a LED_STRIP resource. Port B provides RX6 and TX6 by default. To remap TX6 to LED_STRIP, enter the following in the CLI:  resource SERIAL_TX 6 NONE resource LED_STRIP 1 C07 timer C07 AF3 # TIM8, default is also AF3 dma pin C07 0 # default is NONE save   Note that altough we remapped TX6, RX6 is still there and functional.  Alternatively you can remap RX6 to LED_STRIP:  resource SERIAL_RX 6 NONE resource LED_STRIP 1 C06 timer C06 AF3 # TIM8, default is also AF3 dma pin C06 0 # default is NONE save   ","version":"2.0.0","tagName":"h3"},{"title":"FlyDragon F722​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#flydragon-f722","content":" The FlyDragon F722 has a built in LED 'strip' with just one LED. It has the Warning overlay enabled by default and is connected to the FC using pin B08. However, the data out pin of that LED isn't exposed, so you have to remap some other port to LED_STRIP to make use of your own LEDs. There are several options: SCL, SDA, RPM-S and F.Port. SCL and SDA are located on the GPS port, which also provides 5V. Using SCL or SDA is preferred because they can have their own dedicated timer.  1. Remap SCL to LED_STRIP​  To remap SCL to LED_STRIP, enter the following in the CLI:  resource I2C_SCL 1 NONE resource LED_STRIP 1 B06 # default is B08 timer B06 AF2 # TIM4 dma pin B06 0 save   2. Remap SDA to LED_STRIP​  To remap SDA to LED_STRIP, enter the following in the CLI:  resource I2C_SDA 1 NONE resource LED_STRIP 1 B07 # default is B08 timer B07 AF2 # TIM4 dma pin B07 0 save   3. Remap RPM-S to LED_STRIP​  RPM-S isn't connected to VBec and supplies 5V, which is all right for a couple of LEDs.  To remap RPM-S to LED_STRIP on the FlyDragon V2 or V2.2, enter the following in the CLI:  resource LED_STRIP 1 A15 # default is B08 timer A15 AF1 # TIM1 dma pin A15 0 save   To remap RPM-S to LED_STRIP on the FlyDragon V1, enter the following in the CLI:  resource LED_STRIP 1 A08 # default is B08 timer A08 AF1 # TIM1 dma pin A08 0 save   4. Remap F.Port to LED_STRIP​  Be careful: F.Port uses VBec, which might be too high for your LEDs. Most LEDs require 5V.  resource LED_STRIP 1 A02 # default is B08 timer A02 AF1 # TIM2 dma pin A02 0 # Change motor 1 timer from TIM2 to TIM5 timer A00 AF2 save   ","version":"2.0.0","tagName":"h3"},{"title":"Flywing HELI405​","type":1,"pageTitle":"Getting started with LEDs","url":"/docs/Tutorial-Walkthroughs/led-strip-quick-start#flywing-heli405","content":" You can remap SBUS to LED_STRIP on the Flywing HELI405. To do this, enter the following in the CLI:  resource SERIAL_RX 2 NONE resource LED_STRIP 1 A03 timer A03 AF2 dma pin A03 1 save  ","version":"2.0.0","tagName":"h3"},{"title":"Two-Stage Gear Train Ratios","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/Two-Stage-Gear-Train-Ratios","content":"","keywords":"","version":"2.0.0"},{"title":"SAB Style Two-Stage Gear Train​","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/Tutorial-Walkthroughs/Two-Stage-Gear-Train-Ratios#sab-style-two-stage-gear-train","content":" The SAB Goblin helis have a two-stage transmission, therefore you have double the amount of gears/pulleys, also the main tail pulley is mounted on the intermediate shaft, which make the tail ratio a little more complicated to determine.    The above pictures shows the configuration of the transmission on the SAB Raw 580, 700, Piuma, Black Thunder 700, etc.  The gears/pulleys tooth count is marked by Z, and is numbered to identify each one.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as (Z3 x Z6) and front pulley value as (Z4 x Z5).  The below table shows some gear/pulley tooth counts for some famous two-stage helicopters.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)SAB Goblin 500 Sport\t15 to 24 ( Std 18T )\t48\t18\t62\t28\t21 SAB Black Thunder 700\t18 to 25 ( Std 21T )\t60\t19\t68\t37\t26 SAB Raw 580\t18 to 26 ( Std 22T )\t50\t14\t58\t27\t23 SAB Raw 580 Nitro\t26 to 28 ( Std 26T )\t50\t14\t58\t27\t23 SAB Raw 700\t18 to 25 ( Std 21T )\t56\t18\t69\t34\t26 SAB Raw 700 Nitro\t26 to 28 ( Std 27T )\t52\t14\t58\t27\t22 SAB Raw Piuma\t18 to 26 ( Std 20T )\t52\t14\t58\t27\t22  For example for the Raw 700 with STD 21T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (21 x 18) = 378.main gear = (Z2 x Z4) = (56 x 69) = 3864.tail pulley = (Z3 x Z6) = (18 x 26) = 468.front pulley = (Z4 x Z5) = (69 x 34) = 2346.  After entering the value the ratios in the configurator motor page should look like this.    ","version":"2.0.0","tagName":"h2"},{"title":"KDS Style Two-Stage Gear Train​","type":1,"pageTitle":"Two-Stage Gear Train Ratios","url":"/docs/Tutorial-Walkthroughs/Two-Stage-Gear-Train-Ratios#kds-style-two-stage-gear-train","content":" The KDS Agile helis also have a two-stage transmission, however the autorotation gear/pulley is mounted on the main shaft, thus the tail ratio calculation will be straightforward.    The above pictures shows the configuration of the transmission on the KDS Agile 5.5, 7.5, A5, and A7.  For the main ratio, Rotorflight requires you to enter the motor pinion and main gear tooth count respectively in the two fields of the Main Rotor Gear Ratio line.  Based on the above picture, enter motor pinion value as (Z1 x Z3) and main gear value as (Z2 x Z4).  For the tail ratio, Rotorflight requires you to enter the tail pulley and front pulley tooth count respectively in the two fields of the Tail Rotor Gear Ratio line.  Also based on the above picture, enter tail pulley value as Z5 and front pulley value as Z6.  The below table shows some gear/pulley tooth counts for these KDS helis.  Heli Model\tZ1 (Motor Pulley)\tZ2\tZ3\tZ4\tZ5\tZ6 (Tail Pulley)KDS Agile A5\t20 or 21 ( Std 21T )\t54\t17\t66\t54\t14 KDS Agile 7.2\t19 to 21 ( Std 19T )\t54\t20\t66\t57\t12 KDS Agile A7\t19 to 21 ( Std 20T )\t54\t20\t66\t57\t12  For example for the KDS Agile A7 with STD 20T motor pulley, the calculation will be as follow:  motor pinion = (Z1 x Z3) = (20 x 20) = 400.main gear = (Z2 x Z4) = (54 x 66) = 3564.tail pulley = Z6 = 12.front pulley = Z5 = 57.  After entering the value the ratios in the configurator motor page should look like this.   ","version":"2.0.0","tagName":"h2"},{"title":"Rotorflight Generic Radio Setup","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup","content":"","keywords":"","version":"2.0.0"},{"title":"Channels Arrangement​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#channels-arrangement","content":" This following radio model uses 12 channels to get the best of Rotorflight options, the user can add or delete channels depending on his specific application, and required features.  These channels are configured as follows:  Channel #\tFunctionCH1\tAileron CH2\tElevator CH3\tCollective CH4\tRudder CH5\tAUX1 - Arming CH6\tThrottle CH7\tAUX2 - Profile Switching CH8\tAUX3 - Rescue CH9\tAUX4 - Blackbox CH10\tAUX5 - Backup Pack CH11\tAUX6 - Adjustment Enable Channel CH12\tAUX7 - Adjustment Value Channel  note Use the below recommended setting for the ELRS Tx module. Baud Rate: 921kPacket Rate: 500HzTelemetry Ratio: 1:32Switch Mode: WideTx Max Power: 250mW Dynamic Consult ELRS Website for more info.  ","version":"2.0.0","tagName":"h2"},{"title":"Radio Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#radio-setup","content":" This Generic Rotorflight Radio Model Yaml file contain all the options listed above.  ","version":"2.0.0","tagName":"h2"},{"title":"Radio Inputs Page Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#radio-inputs-page-setup","content":" Configure the inputs on the radio as per the below image.    Based on the image above:  The 3-position SB Switch will control Arming as below:  Switch SB-down: DisarmedSwitch SB-middle: DisarmedSwitch SB-up: Armed  The 2-position SF Switch will control Throttle Hold as below:  Switch SF-down: Throttle HoldSwitch SF-up: Throttle Release  The 3-position SE Switch will control Throttle percentage and Profile Switching as below:  Switch SE-down: Throttle 60%, Profile 1, and Rate 1Switch SE-middle: Throttle 70%, Profile 2, and Rate 2Switch SE-up: Throttle 80%, Profile 3, and Rate 2  The 2-position SH Momentary Switch will control Rescue as below:  Switch SH-down: Rescue OFFSwitch SH-up: Rescue ON  The 3-position SA Switch will control Blackbox enable and Blackbox erase as below:  Switch SA-down: Blackbox Logging OFFSwitch SA-middle: Blackbox Logging ONSwitch SA-up: Erase Blackbox Logs  The 3-position SC Switch will control Backup Buffer Pack as below:  Switch SC-down: Buffer OFFSwitch SC-middle: Buffer ONSwitch SC-up: Buffer ON  ","version":"2.0.0","tagName":"h3"},{"title":"Radio Mixer Page Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#radio-mixer-page-setup","content":" Additionally you can use CH11-AUX6 and CH12-AUX7 to perform in flight parameter adjustment using adjustment functions from the Adjustments Tab.    The above settings will allow you to adjust 30 parameters in flight using the radio trim switches with combination of the 6-position buttons.  The below table explain how each parameter can be accessed.    For example when 6-position button 1 is activated, the pitch trim switch will change Pitch P Gain value, and when 6-position button 3 is activated, the throttle trim switch will change Governor D Gain value, and so on.  ","version":"2.0.0","tagName":"h3"},{"title":"Rotorflight Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#rotorflight-setup","content":" After completing the above radio setup, you can proceed to the Rotorflight Configurator to complete the setup on the flight controller side.  ","version":"2.0.0","tagName":"h2"},{"title":"Arming Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#arming-setup","content":" Proceed to Modes Tab and setup arming as per below picture.    Alternatively you can paste ans save the below commands in CLI to easily achieve the same result.  aux 0 0 0 1800 2100 0 0   ","version":"2.0.0","tagName":"h3"},{"title":"Profile Switching Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#profile-switching-setup","content":" Proceed to Adjustment Tab and setup Profiles and rates switching as per below picture.    Alternatively in CLI.  adjfunc 0 2 1 900 2100 1 975 2025 975 2025 0 0 3 adjfunc 1 1 1 900 2100 1 975 2025 975 2025 0 0 3   ","version":"2.0.0","tagName":"h3"},{"title":"Rescue Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#rescue-setup","content":" Proceed to Modes Tab and setup Rescue mode as per below picture.    Alternatively in CLI.  aux 1 53 2 1800 2100 0 0   ","version":"2.0.0","tagName":"h3"},{"title":"Blackbox Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#blackbox-setup","content":" Proceed to Modes Tab and setup Blackbox Modes as per below picture.    Alternatively in CLI.  aux 2 26 3 1400 1600 0 0 aux 3 31 3 1800 2100 0 0   ","version":"2.0.0","tagName":"h3"},{"title":"Buffer Pack Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#buffer-pack-setup","content":" Buffer packs like the 1st Buffer-Pack can be switched off from the radio after disconnecting the main pack, this can be done by connecting the buffer pack to a free 1500us PWM Channel on the flight controller.  First you need to assign servo 5 to a free timer pin, you will then see servo 5 in the Servos Tab. Assuming we have a free timer on pin A08. In CLI: Resource Servo 5 A08 Next you assign AUX5 Channel to Servo 5 using a mixer rule. In CLI: mixer rule 1 set AUX5 S5 1000 0   ","version":"2.0.0","tagName":"h3"},{"title":"In-Flight Profile Parameters Setup​","type":1,"pageTitle":"Rotorflight Generic Radio Setup","url":"/docs/Tutorial-Walkthroughs/Rotorflight-Generic-Radio-Setup#in-flight-profile-parameters-setup","content":"   Since there is many functions required to perform the In-flight adjustment as per the above table, you can directly copy the below commands to CLI and save.  adjfunc 2 14 5 900 1100 6 1025 1075 1925 1975 5 10 200 adjfunc 3 18 5 900 1100 6 1100 1150 1850 1900 5 10 200 adjfunc 4 22 5 900 1100 6 1175 1225 1775 1825 5 10 200 adjfunc 5 49 5 900 1100 6 1250 1300 1700 1750 5 10 200 adjfunc 6 27 5 900 1100 6 1325 1375 1625 1675 5 10 200 adjfunc 7 26 5 900 1100 6 1400 1450 1550 1600 5 10 200 adjfunc 8 15 5 1100 1300 6 1025 1075 1925 1975 5 10 200 adjfunc 9 19 5 1100 1300 6 1100 1150 1850 1900 5 10 200 adjfunc 10 23 5 1100 1300 6 1175 1225 1775 1825 5 10 200 adjfunc 11 50 5 1100 1300 6 1250 1300 1700 1750 5 10 200 adjfunc 12 28 5 1100 1300 6 1325 1375 1625 1675 5 10 200 adjfunc 13 29 5 1100 1300 6 1400 1450 1550 1600 5 10 200 adjfunc 14 16 5 1300 1400 6 1025 1075 1925 1975 5 10 200 adjfunc 15 20 5 1300 1400 6 1100 1150 1850 1900 5 10 200 adjfunc 16 24 5 1300 1400 6 1175 1225 1775 1825 5 10 200 adjfunc 17 51 5 1300 1400 6 1250 1300 1700 1750 5 10 200 adjfunc 18 39 5 1300 1400 6 1325 1375 1625 1675 5 10 200 adjfunc 19 40 5 1300 1400 6 1400 1450 1550 1600 5 10 200 adjfunc 20 17 5 1550 1700 6 1025 1075 1925 1975 5 10 200 adjfunc 21 21 5 1550 1700 6 1100 1150 1850 1900 5 10 200 adjfunc 22 25 5 1550 1700 6 1175 1225 1775 1825 5 10 200 adjfunc 23 52 5 1550 1700 6 1250 1300 1700 1750 5 10 200 adjfunc 24 59 5 1750 1900 6 1025 1075 1925 1975 5 10 200 adjfunc 25 60 5 1750 1900 6 1100 1150 1850 1900 5 10 200 adjfunc 26 54 5 1750 1900 6 1175 1225 1775 1825 5 10 200 adjfunc 27 55 5 1750 1900 6 1250 1300 1700 1750 5 10 200 adjfunc 28 56 5 1950 2100 6 1025 1075 1925 1975 5 10 200 adjfunc 29 57 5 1950 2100 6 1100 1150 1850 1900 5 10 200 adjfunc 30 58 5 1950 2100 6 1175 1225 1775 1825 5 10 200 adjfunc 31 48 5 1950 2100 6 1250 1300 1700 1750 5 10 200   Consult Rotorflight Adjustments for more info on how to setup the above adjustments. ","version":"2.0.0","tagName":"h3"},{"title":"Using Stability Modes","type":0,"sectionRef":"#","url":"/docs/Tutorial-Walkthroughs/Using-StabilityModes","content":"","keywords":"","version":"2.0.0"},{"title":"Purpose​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/Tutorial-Walkthroughs/Using-StabilityModes#purpose","content":" info 6G modes provide self stabilization/leveling of the helicopter when the sticks are moved to the centre. This is the opposite to the standard Acro mode (used for aerobatics and 3D) which will not self level after sticks are centered and thus is inherently unstable. These modes are generally used for beginners or those wanting more of a drone feel to their helicopter. 6G modes do not provide position fixing as found with GPS systems so the heli will drift around in the wind.  ","version":"2.0.0","tagName":"h2"},{"title":"Aim​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/Tutorial-Walkthroughs/Using-StabilityModes#aim","content":" In this example we will configure a 3 position switch (SwC) to select between Stability modes. With the SwC fully down we will have Acro mode, SwC in the centre will be Horizon Mode and in the fully up position we will enable Angle mode.  ","version":"2.0.0","tagName":"h2"},{"title":"Configure the Tx​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/Tutorial-Walkthroughs/Using-StabilityModes#configure-the-tx","content":" We need to assign a spare channel to your 3 position switch (SwC) (can be any channel or switch).  NOTE This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter.  Step 1: Assign Ch8 to the SwC in the Mixers tab    ","version":"2.0.0","tagName":"h3"},{"title":"Configure flight controller​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/Tutorial-Walkthroughs/Using-StabilityModes#configure-flight-controller","content":" Step 2: looking at the channels in the receiver tab we can see that Aux3 is the eight channel. This matches our TX assignment from step 1. Confirm the 3 position switch changes the value seen on Aux3,    Step 3:  Go to the Modes tab. Disable hide unused modes if nothing is visible.Chose the Horizon Mode. Enter AUX3 in the channel and adjust the range to cover the middle section of the control channel as shown in the picture below.Chose the Angle Mode. Enter Aux3 in the channel and adjust the range to cover the top section of the control range as shown in the pic below.    Step 4: Test and confirm the switch position enables and disables modes as required These values are added to the Profile so will result in (e.g. SwC down = No mode active = Acro, SwC middle = Horizon Mode, SwC up = Angle Mode).    ","version":"2.0.0","tagName":"h3"},{"title":"Calibrating stability modes​","type":1,"pageTitle":"Using Stability Modes","url":"/docs/Tutorial-Walkthroughs/Using-StabilityModes#calibrating-stability-modes","content":" ## Warning ## - do not use your transmitter trims!!​  Your Roll, Pitch and Yaw should all be trimmed to the stick centre configured in the receiver tab. This will be 1500 or 1520 depending on your radio.  Stability modes will try to stabilize to the calibrated flight controller level. This is rarely perfectly aligned with the actual helicopters attitude where there is no drift (least drift... there will always be some due to wind etc). In order to calibrate this in-flight we have 2 methods:  Using the Rotorflight Lua ScriptsStick controls  Note that it's also possible to adjust accelerometer trim values in the Configuration tab of the Configurator.  Calibration using Lua Scripts​  Select Accelerometer Trims from the Rotorflight main menu. Test fly the heli tail-in in either Angle or Horizon mode, with sticks at centre. If the heli drifts left, increase roll trim. If it drifts backwards, increase pitch trim. Each time you make a change to the trims long press the wheel/roller. The Page menu should now pop up. Select Save page. Adjust trims until the heli flies hands off without any pronounced drift in any direction.    Calibration using Stick Commands​  Standard 'Betaflight' stick commands work with Rotorflight. The accelerometer trims can be calibrated using these commands. To do this you must have Angle or Horizon Modes enabled.  You will also need to enable this in the CLI set enable_stick_commands = ON  Function\tCollective\tYaw\tPitch\tRollCalibrate Gyro\tLOW\tLOW\tLOW\tCENTER Calibrate Acc\tHIGH\tLOW\tLOW\tCENTER Trim Acc Left\tHIGH\tCENTER\tCENTER\tLOW Trim Acc Right\tHIGH\tCENTER\tCENTER\tHIGH Trim Acc Forwards\tHIGH\tCENTER\tHIGH\tCENTER Trim Acc Backwards\tHIGH\tCENTER\tLOW\tCENTER    For more details of the stick commands. See the Betaflight Wiki here. ","version":"2.0.0","tagName":"h3"}],"options":{"id":"default"}}