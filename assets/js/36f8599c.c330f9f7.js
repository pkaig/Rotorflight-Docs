"use strict";(self.webpackChunkrotorflight_docs=self.webpackChunkrotorflight_docs||[]).push([[8250],{3905:(t,e,r)=>{r.d(e,{Zo:()=>u,kt:()=>d});var o=r(7294);function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e){if(null==t)return{};var r,o,i=function(t,e){if(null==t)return{};var r,o,i={},n=Object.keys(t);for(o=0;o<n.length;o++)r=n[o],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(o=0;o<n.length;o++)r=n[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var s=o.createContext({}),p=function(t){var e=o.useContext(s),r=e;return t&&(r="function"==typeof t?t(e):a(a({},e),t)),r},u=function(t){var e=p(t.components);return o.createElement(s.Provider,{value:e},t.children)},c="mdxType",h={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},f=o.forwardRef((function(t,e){var r=t.components,i=t.mdxType,n=t.originalType,s=t.parentName,u=l(t,["components","mdxType","originalType","parentName"]),c=p(r),f=i,d=c["".concat(s,".").concat(f)]||c[f]||h[f]||n;return r?o.createElement(d,a(a({ref:e},u),{},{components:r})):o.createElement(d,a({ref:e},u))}));function d(t,e){var r=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var n=r.length,a=new Array(n);a[0]=f;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[c]="string"==typeof t?t:i,a[1]=l;for(var p=2;p<n;p++)a[p]=r[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}f.displayName="MDXCreateElement"},9317:(t,e,r)=>{r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>l,toc:()=>p});var o=r(7462),i=(r(7294),r(3905));const n={sidebar_position:1},a="Rotorflight Lua Scripts for OpenTX and EdgeTX",l={unversionedId:"Tutorial - Walkthroughs/Install LUA Script",id:"Tutorial - Walkthroughs/Install LUA Script",title:"Rotorflight Lua Scripts for OpenTX and EdgeTX",description:"Rotorflight is a Flight Control/FBL Software Suite for traditional single-rotor RC helicopters. It is based on Betaflight 4.2, enjoying all the great features of the Betaflight platform, plus many new features added for helicopters. Rotorflight borrows ideas and code also from Heliflight3D, an earlier fork of Betaflight for helicopters.",source:"@site/docs/Tutorial - Walkthroughs/Install LUA Script.md",sourceDirName:"Tutorial - Walkthroughs",slug:"/Tutorial - Walkthroughs/Install LUA Script",permalink:"/docs/Tutorial - Walkthroughs/Install LUA Script",draft:!1,editUrl:"https://github.com/pkaig/Rotorflight-Docs/tree/main/docs/Tutorial - Walkthroughs/Install LUA Script.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Blackbox logging",permalink:"/docs/Tutorial - Setup/Blackbox"},next:{title:"LUA Scripts",permalink:"/docs/Tutorial - Walkthroughs/LUA Scripts"}},s={},p=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Copying the SCRIPTS folder",id:"copying-the-scripts-folder",level:3},{value:"Usage",id:"usage",level:2},{value:"Background script",id:"background-script",level:2},{value:"Building from source on Linux",id:"building-from-source-on-linux",level:2}],u={toc:p},c="wrapper";function h(t){let{components:e,...r}=t;return(0,i.kt)(c,(0,o.Z)({},u,r,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"rotorflight-lua-scripts-for-opentx-and-edgetx"},"Rotorflight Lua Scripts for OpenTX and EdgeTX"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Rotorflight")," is a ",(0,i.kt)("em",{parentName:"p"},"Flight Control"),"/",(0,i.kt)("em",{parentName:"p"},"FBL")," Software Suite for traditional single-rotor RC helicopters. It is based on Betaflight 4.2, enjoying all the great features of the Betaflight platform, plus many new features added for helicopters. Rotorflight borrows ideas and code also from Heliflight3D, an earlier fork of Betaflight for helicopters."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Rotorflight Lua Scripts")," is a package of OpenTX/EdgeTX Lua scripts for accessing and configuring the Rotorflight FC from the transmitter."),(0,i.kt)("p",null,"Rotorflight does ",(0,i.kt)("strong",{parentName:"p"},"NOT")," support multi-rotor 'drones', nor airplanes; it is only for traditinal RC helicopters, including co-axial and tandem helicopters."),(0,i.kt)("h2",{id:"requirements"},"Requirements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"OpenTX 2.3.12 or EdgeTX 2.5.0 or later transmitter firmware"),(0,i.kt)("li",{parentName:"ul"},"A receiver supporting remote configuration:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"a FrSky Smartport or F.Port receiver, ",(0,i.kt)("em",{parentName:"li"},"or")),(0,i.kt)("li",{parentName:"ul"},"a Crossfire v2.11 or newer receiver, ",(0,i.kt)("em",{parentName:"li"},"or")),(0,i.kt)("li",{parentName:"ul"},"an ELRS 2.0.1 or newer receiver")))),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"Please download the latest version from github:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/rotorflight/rotorflight-lua-scripts/releases"},"https://github.com/rotorflight/rotorflight-lua-scripts/releases"))),(0,i.kt)("p",null,"and copy the contents of the SCRIPTS folder to your transmitter."),(0,i.kt)("p",null,"You will know if you did this correctly if the ",(0,i.kt)("inlineCode",{parentName:"p"},"rf.lua")," file shows up in the ",(0,i.kt)("inlineCode",{parentName:"p"},"/SCRIPTS/TOOLS")," directory. Also ",(0,i.kt)("em",{parentName:"p"},"Rotorflight conf")," should now show up in the ",(0,i.kt)("em",{parentName:"p"},"Tools")," menu of your transmitter."),(0,i.kt)("h3",{id:"copying-the-scripts-folder"},"Copying the SCRIPTS folder"),(0,i.kt)("p",null,"USB Method"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Connect your transmitter to a computer with an USB cable."),(0,i.kt)("li",{parentName:"ol"},"Open the new drive on your computer."),(0,i.kt)("li",{parentName:"ol"},"Unzip the file and copy the SCRIPTS folder to the root the new drive."),(0,i.kt)("li",{parentName:"ol"},"Eject the drive."),(0,i.kt)("li",{parentName:"ol"},"Unplug the USB cable.")),(0,i.kt)("p",null,"SD Card Method"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Power off your transmitter."),(0,i.kt)("li",{parentName:"ol"},"Remove the SD card and plug it into a computer."),(0,i.kt)("li",{parentName:"ol"},"Unzip the file and copy the SCRIPTS folder to the root of the SD card."),(0,i.kt)("li",{parentName:"ol"},"Eject the SD card."),(0,i.kt)("li",{parentName:"ol"},"Reinsert your SD card into the transmitter."),(0,i.kt)("li",{parentName:"ol"},"Power up your transmitter.")),(0,i.kt)("p",null,"If you copied the files correctly, you can now go into the ",(0,i.kt)("em",{parentName:"p"},"Tools")," menu on your transmitter and access the Rotorflight Configuration tool. The first time you run the script, a message 'Compiling...' will appear in the display before the script is started. This is normal and is done to minimise the RAM usage of the script."),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"See the [Lua Scripts Wiki page(",(0,i.kt)("a",{parentName:"p",href:"https://github.com/rotorflight/rotorflight/wiki/Lua-Scripts"},"https://github.com/rotorflight/rotorflight/wiki/Lua-Scripts"),")."),(0,i.kt)("h2",{id:"background-script"},"Background script"),(0,i.kt)("p",null,"The optional background script offers RTC synchronization and RSSI through MSP. RTC synchronization will send the time of the transmitter to the flight controller. The script will beep if RTC synchronization has been completed. Blackbox logs and files created by the FC will now have the correct timestamp."),(0,i.kt)("p",null,"The background script can be setup as a special or global function in OpenTX. The image below shows how to configure the background script as a special function. By doing this, the script will automatically run as soon as the model is selected."),(0,i.kt)("p",null,"![Background script setupdocs/assets/images/background_script_setup.png)"),(0,i.kt)("h2",{id:"building-from-source-on-linux"},"Building from source on Linux"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Be sure to have ",(0,i.kt)("inlineCode",{parentName:"li"},"make")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"luac")," in version 5.2 installed in the path."),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("inlineCode",{parentName:"li"},"make")," from the root folder."),(0,i.kt)("li",{parentName:"ul"},"The installation files will be created in the ",(0,i.kt)("inlineCode",{parentName:"li"},"obj")," folder. Copy the files to your transmitter as instructed in the [Installation(#installation) section as if you unzipped from a downloaded file.")))}h.isMDXComponent=!0}}]);